<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta property="og:title" content="unnamed multivar website">
  <meta property="og:description" content="Learn and study multivariable calculus for free with interactive tools and simple explanations!">
  <meta property="og:image" content="https://calculusgaming.com/multivar/images/favicon.png">
  <title>unnamed multivar website</title>
  <link rel="icon" type="image/png" href="images/favicon.png">
  <link rel="apple-touch-icon" type="image/png" href="images/favicon.png">
  <link rel="apple-touch-icon-precomposed" type="image/png" href="images/favicon.png">
  <link rel="stylesheet" href="multivar.css?20250507">
  <script>
    if (window.location.href === 'https://calculusgaming.com/multivar') {
      window.location.replace(window.location.href + '/');
    }
  </script>
</head>
<body id="body">
  <div id="backgroundImage"></div>
  <div id="content">
  <!-- Menu stuff -->
  <div id="menuIcon" class="menu-icon-normal" onclick="toggleSidebar()">
    <div class="no-permanent-hide" id="hamburgerIcon">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div id="xIcon" class="x-icon hidden-by-default no-permanent-show">
      <div class="x-icon1">
        <div class="x-icon2"></div>
      </div>
    </div>
  </div>
  <div id="keyboardShortcutPopup" class="popup hidden-by-default no-permanent-show">
    <div id="keyboardShortcutPopupContent" class="popup-content">
      <div class="popup-text">
        <h2 class="ntm">Keyboard Shortcuts</h2>
        <p>
          <strong>Note:</strong> These shortcuts only work on the U.S. QWERTY keyboard layout. You might need to scroll to view all keyboard shortcuts.
        </p>
        <p>
          <span class="key">`</span> (key to the left of <span class="key">1</span>): Jump to top of website
        </p>
        <p>
          <span class="key">1</span><span class="monospace">-</span><span class="key">0</span>: Jump to unit 1-10 (unit depends on key pressed)
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">1</span><span class="monospace">-</span><span class="key">Shift</span><span class="monospace">+</span><span class="key">0</span>: Hide all sections within unit 1-10 (unit depends on key pressed)
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">Q</span><span class="monospace">-</span><span class="key">Shift</span><span class="monospace">+</span><span class="key">P</span>: Show all sections within unit 1-10 (unit depends on key pressed)
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">-</span>: Hide all sections within all units
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">[</span>: Show all sections within all units
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">=</span>: Hide all units
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">]</span>: Show all units
        </p>
        <p>
          <span class="key">Shift</span><span class="monospace">+</span><span class="key">\</span>: Hide all sections before Unit 1
        </p>
        <p>
          <span class="key">s</span>: Open search bar interface 
        </p>
        <p>
          <span class="key">Shift</span>+<span class="key">K</span>: Open keyboard shortcuts
        </p>
        <p>
          <span class="key">Shift</span>+<span class="key">S</span>: Jump to website settings
        </p>
        <p>
          <span class="key">Shift</span>+<span class="key">D</span>: Enable or disable dark mode
        </p>
        <p>
          <span class="key">]</span>: Jump to website update history
        </p>
        <p class="nbm">
          <span class="key">\</span>: Jump to website progress table
        </p>
      </div>
      <button class="large-button" onclick="hideElement('keyboardShortcutPopup')">Close</button>
    </div>
  </div>
  <div id="searchPopup" class="popup hidden-by-default no-permanent-show">
    <div id="searchPopupContent" class="popup-content">
      <div class="popup-text">
        <h2 class="ntm">Search This Website</h2>
        <p>Need help with a particular topic?</p>
        <p class="keyboard-only">Press <span class="key">Enter</span>/<span class="key">Return</span> to jump to the top result.</p>
        <p><input id="searchInput" type="text" placeholder="Search here..." oninput="searchInput()"></p>
        <div>
          <ul class="link-ul" id="searchResults"></ul>
        </div>
        <p id="searchMessage"></p>
      </div>
      <button class="large-button" onclick="hideElement('searchPopup')">Close</button>
    </div>
  </div>
  <!-- Intro Popup -->
  <div id="introPopupDiv" class="hidden-by-default hidden-until-load">
    <div id="introPopup" class="popup">
      <div id="introPopupContent" class="popup-content">
        <div class="popup-text">
          <h2 class="ntm">Welcome to unnamed multivar website!</h2>
          <p>
            This is a website where I teach multivariable calculus concepts in easy-to-understand language. This is a continuation of my single-variable calculus website, <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/calc">unnamed calc website</a>.
          </p>
          <p>
            If you find this website useful, I would really appreciate it if you shared it with some of your friends! I created this website with my community in mind and I want to help as many calculus students as possible.
          </p>
          <p class="nbm">
            More information can be found in the “What Is This Website?” section on this page.
          </p>
        </div>
        <button class="large-button" onclick="showHide('introPopup')">Close</button>
      </div>
    </div>
  </div>
  <!-- Sidebar -->
  <div id="sidebar" class="sidebar sidebar-hidden">
    <img id="sidebarLogo" class="top-margin" src="images/new_logo_transparent.png">
    <button id="keyboardShortcutButton" class="sidebar-unit-text sidebar-button" onclick="keyboardShortcutButton()">
      <div class="button-container">
        <div class="icon-container">
          <img id="keyboardIcon" class="icon" src="images/keyboard.svg">
        </div>
        <div class="icon-text">
          Keyboard Shortcuts
        </div>
      </div>
    </button>
    <button id="searchButton" class="sidebar-unit-text sidebar-button" onclick="searchButton()">
      <div class="button-container">
        <div class="icon-container">
          <img id="searchIcon" class="icon" src="images/search.svg">
        </div>
        <div class="icon-text">
          Search This Website
        </div>
      </div>
    </button>
    <button class="sidebar-button" onclick="jumpTo('unit1'); toggleSidebar()">
      <p class="sidebar-unit">Unit 1</p>
      <p class="sidebar-unit-text">Vectors and 3D Space</p>
    </button>
    <button class="sidebar-button" onclick="jumpTo('unit2'); toggleSidebar()">
      <p class="sidebar-unit">Unit 2</p>
      <p class="sidebar-unit-text">Vector-Valued Functions</p>
    </button>
    <button class="sidebar-button" onclick="jumpTo('unit3'); toggleSidebar()">
      <p class="sidebar-unit">Unit 3</p>
      <p class="sidebar-unit-text">Multivariable Derivatives</p>
    </button>
    <button class="sidebar-button" onclick="jumpTo('unit4'); toggleSidebar()">
      <p class="sidebar-unit">Unit 4</p>
      <p class="sidebar-unit-text">Multiple Integrals</p>
    </button>
    <button class="sidebar-button" onclick="jumpTo('unit5'); toggleSidebar()">
      <p class="sidebar-unit">Unit 5</p>
      <p class="sidebar-unit-text">Line & Surface Integrals</p>
    </button>
    <button class="sidebar-button" onclick="jumpTo('otherWebsites'); toggleSidebar()">
      <p class="sidebar-unit-text">My Other Websites</p>
    </button>
  </div>
  <!-- Website Header (title, subtitle, search bar) -->
  <div id="websiteHeader">
    <img id="logo" src="images/new_logo_transparent.png">
    <noscript class="warning">
      <h2>
        JavaScript is required for this page to function and display properly. Please enable JavaScript in your browser settings.
      </h2>
    </noscript>
    <p class="medium-text">
      <strong>unnamed <span class="red">multivar</span> website</strong>: Interactive and simple multivariable calculus explanations!
    </p>
    <p>
      This is a continuation of <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/calc">unnamed calc website</a>, my website for single-variable calculus explanations.
    </p>
  </div>
  <hr class="heavy-hr">
  <!-- Table Of Contents -->
  <div id="tocDiv">
    <h2 id="tocHeader">
      <span onclick="showHide('toc')">Table of Contents</span>
      <button id="tocButton" onclick="showHide('toc')">Hide</button>
    </h2>
    <div id="toc" class="link-ul">
      <h3 class="nm">Website Info <span class="medium-text">(start here!)</span></h3>
      <ul class="ntm">
        <li><a href="#updateHistoryHeader" onclick="jumpTo('updateHistory')">Website Update History</a></li>
        <li><a href="#whatHeader" onclick="jumpTo('what')">What Is This Website?</a></li>
        <li><a href="#linksHeader" onclick="jumpTo('links')">Before You Start Reading</a></li>
      </ul>
      <h3 class="nm">Units</h3>
      <ul class="ntm">
        <li><a href="#unit1Header" onclick="jumpTo('unit1')"><strong>Unit 1</strong>: Vectors and 3D Space</a></li>
        <li><a href="#unit2Header" onclick="jumpTo('unit2')"><strong>Unit 2</strong>: Vector-Valued Functions</a></li>
        <li><a href="#unit3Header" onclick="jumpTo('unit3')"><strong>Unit 3</strong>: Multivariable Derivatives</a></li>
        <li><a href="#unit4Header" onclick="jumpTo('unit4')"><strong>Unit 4</strong>: Multiple Integrals</a></li>
        <li><a href="#unit5Header" onclick="jumpTo('unit5')"><strong>Unit 5</strong>: Line and Surface Integrals</a></li>
        <li><a href="#guestExplanationsHeader" onclick="jumpTo('guestExplanations')">Guest Explanations</a></li>
      </ul>
      <h3 class="nm">Other</h3>
      <ul class="ntm">
        <li><a href="#otherWebsitesHeader" onclick="jumpTo('otherWebsites')">My Other Websites</a></li>
        <li><a href="#creditsHeader" onclick="jumpTo('credits')">Credits / Special Thanks</a></li>
      </ul>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Update History -->
  <h2 id="updateHistoryHeader">
    <span onclick="showHide('updateHistory')">
      Website Update History <span id="lastUpdate" class="medium-text">(Last update: <span id="updateDays"></span>)</span>
    </span>
    <button id="updateHistoryButton" onclick="showHide('updateHistory')">Show</button>
  </h2>
  <div class="hidden-by-default" id="updateHistory">
    <p>
      <strong>Important: You might have to refresh the tab to view the latest updates to this website.</strong>
    </p>
    <h3>2025-05-07: “It Is Done!” Update <button id="update20250507Button" onclick="showHide('update20250507')">Hide</button></h3>
    <div id="update20250507">
      <p>
        With this update, almost everything in a typical multivariable calculus class is covered on this website! There are still a few smaller topics I haven’t covered, but I consider this website to be complete as of now. There are still many improvements and smaller things I want to add on this website, so I will definitely continue updating it in the future.
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New Unit 2 section added:
          <ul class="link-ul">
            <li><a href="#accelerationHeader" onclick="jumpTo('acceleration')">Tangential and Normal Components of Acceleration</a></li>
          </ul>
        </li>
        <li>
          New Unit 5 section added:
          <ul class="link-ul">
            <li><a href="#stokesTheoremHeader" onclick="jumpTo('stokesTheorem')">Stokes’ Theorem</a></li>
          </ul>
        </li>
      </ul>
      <h4 class="nm">Minor Changes</h4>
      <ul>
        <li>The website logo has been changed to a 3D version of unnamed calc website’s logo (previously it was just the same as unnamed calc website but with “calc” crossed off and replaced with “multivar”).</li>
        <li>Removed all “this is a work in progress” text</li>
      </ul>
    </div>
    <h3>2025-05-05: “Surface Integrals” Update <button id="update20250505Button" onclick="showHide('update20250505')">Show</button></h3>
    <div id="update20250505" class="hidden-by-default">
      <p>
        This update features a few sections about surface integrals (a way to integrate a function over a surface) as well as the divergence theorem, a way to write line or surface integrals as double or triple integrals of the divergence of a function. In addition, I’ve added a few sections about vector-valued functions. <a href="#progress" onclick="jumpTo('progress')">Current progress: 33/37 sections covered.</a>
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New Unit 2 sections added:
          <ul class="link-ul">
            <li><a href="#tangentNormalVectorsHeader" onclick="jumpTo('tangentNormalVectors')">Tangent and Normal Vectors</a></li>
            <li><a href="#vectorArcLengthHeader" onclick="jumpTo('vectorArcLength')">Arc Length of Vector-Valued Functions</a></li>
            <li><a href="#curvatureHeader" onclick="jumpTo('curvature')">Curvature of Parametric Graphs</a></li>
          </ul>
        </li>
        <li>
          New Unit 3 section added:
          <ul class="link-ul">
            <li><a href="#surfaceTangentHeader" onclick="jumpTo('surfaceTangent')">Tangent Planes and Normal Vectors of Surfaces</a></li>
          </ul>
        </li>
        <li>
          New Unit 5 sections added:
          <ul class="link-ul">
            <li><a href="#parametricSurfacesHeader" onclick="jumpTo('parametricSurfaces')">Parametric Surfaces</a></li>
            <li><a href="#surfaceAreaIntHeader" onclick="jumpTo('surfaceAreaInt')">Surface Areas of Parametric Surfaces</a></li>
            <li><a href="#surfaceIntHeader" onclick="jumpTo('surfaceInt')">Surface Integrals</a></li>
            <li><a href="#surfaceNormalHeader" onclick="jumpTo('surfaceNormal')">Normal Vectors to Parametric Surfaces</a></li>
            <li><a href="#fluxIntHeader" onclick="jumpTo('fluxInt')">Flux Integrals</a></li>
            <li><a href="#divergenceTheoremHeader" onclick="jumpTo('divergenceTheorem')">The Divergence Theorem</a></li>
          </ul>
        </li>
      </ul>
      <h4 class="nm">Section Improvements</h4>
      <ul>
        <li>Added level surfaces to “Contour Maps and Level Curves” section and renamed it to “Contour Maps, Level Curves, and Level Surfaces”</li>
      </ul>
      <h4 class="nm">Minor Changes</h4>
      <ul>
        <li>“Contour Maps, Level Curves, and Level Surfaces” section moved from Unit 1 to Unit 3</li>
        <li><strong>Unit 5: Curl Operator</strong>: fixed typo in 3D curl formula</li>
      </ul>
    </div>
    <h3>2025-04-21: “Line Integrals” Update <button id="update20250421Button" onclick="showHide('update20250421')">Show</button></h3>
    <div id="update20250421" class="hidden-by-default">
      <p>
        This update is all about line integrals: a way to integrate multivariable functions over any curve in the \(xy\)-plane! <a href="#progress" onclick="jumpTo('progress')">Current progress: 27/37 sections covered.</a>
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New Unit 5 sections added:
          <ul class="link-ul">
            <li><a href="#lineIntScalarHeader" onclick="jumpTo('lineIntScalar')">Line Integrals for Scalar Functions</a></li>
            <li><a href="#vectorFieldsHeader" onclick="jumpTo('vectorFields')">Vector Fields</a></li>
            <li><a href="#lineIntVectorHeader" onclick="jumpTo('lineIntVector')">Line Integrals for Vector-Valued Functions</a></li>
            <li><a href="#ftcLineHeader" onclick="jumpTo('ftcLine')">The Fundamental Theorem of Line Integrals</a></li>
            <li><a href="#curlHeader" onclick="jumpTo('curl')">Vector Fields: The Curl Operator</a></li>
            <li><a href="#divergenceHeader" onclick="jumpTo('divergence')">Vector Fields: The Divergence Operator</a></li>
            <li><a href="#greensTheoremHeader" onclick="jumpTo('greensTheorem')">Green’s Theorem</a></li>
          </ul>
        </li>
        <li>
          New Unit 3 section added:
          <ul>
            <li><a href="#multivarChain2Header" onclick="jumpTo('multivarChain2')">The Multivariable Chain Rule, Revisited</a></li>
          </ul>
        </li>
      </ul>
      <h4 class="nm">Minor Changes</h4>
      <ul>
        <li>Added “My Other Websites” button to sidebar</li>
      </ul>
    </div>
    <h3>2025-04-09: “Triple Integrals” Update <button id="update20250409Button" onclick="showHide('update20250409')">Show</button></h3>
    <div id="update20250409" class="hidden-by-default">
      <p>
        This update features more sections in Unit 4 (Multiple Integrals), primarily focused on triple integrals. <a href="#progress" onclick="jumpTo('progress')">Current progress: 22/37 sections covered.</a>
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New sections added:
          <ul class="link-ul">
            <li><a href="#doubleIntIntroHeader" onclick="jumpTo('doubleIntIntro')">Intro to Double Integrals</a> (explains the limit definition of the double integral)</li>
            <li><a href="#doubleIntOtherHeader" onclick="jumpTo('doubleIntOther')">Double Integrals: Finding Area and Mass</a></li>
            <li><a href="#tripleIntHeader" onclick="jumpTo('tripleInt')">Triple Integrals: Finding Volume and Mass</a></li>
            <li><a href="#cylindricalSphericalHeader" onclick="jumpTo('cylindricalSpherical')">Intro to Cylindrical and Spherical Coordinates</a></li>
            <li><a href="#tripleIntCylindricalHeader" onclick="jumpTo('tripleIntCylindrical')">Triple Integrals in Cylindrical Coordinates</a></li>
            <li><a href="#tripleIntSphericalHeader" onclick="jumpTo('tripleIntSpherical')">Triple Integrals in Spherical Coordinates</a></li>
            <li><a href="#changeOfVarsHeader" onclick="jumpTo('changeOfVars')">Change of Variables for Multiple Integrals</a></li>
            <li><a href="#doubleIntSurfaceAreaHeader" onclick="jumpTo('doubleIntSurfaceArea')">Double Integrals: Finding Surface Area</a></li>
          </ul>
        </li>
        <li>
          Explanation of matrices and determinants is now its own section: <a href="#matricesHeader" onclick="jumpTo('matrices')">Matrices and Determinants</a>
        </li>
      </ul>
      <h4 class="nm">Section Improvements</h4>
      <ul>
        <li><strong>Unit 3: Lagrange Multipliers</strong>: mentioned that \(\lambda\) is known as the Lagrange multiplier</li>
        <li><strong>Unit 4: Iterated Integrals and Double Integrals (Rectangular Regions)</strong>: mentioned that evaluating double integrals using two separate integrals is known as an iterated integral</li>
      </ul>
      <h4 class="nm">Minor Changes</h4>
      <ul>
        <li>Added copyright and license information for this website to the Credits / Special Thanks section. Feel free to modify and re-release this website as long as you follow the terms of this website’s license!</li>
        <li>Renamed “Finding Volume Using Double Integrals (Rectangular Regions)” section to “Double Integrals: Iterated Integrals and Finding Volume Under Rectangular Regions”</li>
        <li>Renamed “Finding Volume Using Double Integrals (General Regions)” section to “Double Integrals: Finding Volume Under General Regions”</li>
        <li>Renamed “Finding Volume Using Double Integrals (Polar Coordinates)” section to “Double Integrals in Polar Coordinates”</li>
        <li>This website is now hosted on calculusgaming.com/multivar instead of chaddypratt.org/multivar</li>
      </ul>
    </div>
    <h3>2025-03-24: “Double Integrals” Update <button id="update20250324Button" onclick="showHide('update20250324')">Show</button></h3>
    <div id="update20250324" class="hidden-by-default">
      <p>
        This update focuses on the different types of double integrals, as well as Lagrange multipliers, a technique to solve some types of optimization problems. <a href="#progress" onclick="jumpTo('progress')">Current progress: 16/37 sections covered.</a>
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New sections added:
          <ul class="link-ul">
            <li><a href="#lagrangeMultHeader" onclick="jumpTo('lagrangeMult')">Finding Extrema Using Lagrange Multipliers</a></li>
            <li><a href="#doubleIntHeader" onclick="jumpTo('doubleInt')">Finding Volume Using Double Integrals (Rectangular Regions)</a></li>
            <li><a href="#doubleIntGeneralHeader" onclick="jumpTo('doubleIntGeneral')">Finding Volume Using Double Integrals (General Regions)</a></li>
            <li><a href="#doubleIntPolarHeader" onclick="jumpTo('doubleIntPolar')">Finding Volume Using Double Integrals (Polar Coordinates)</a></li>
          </ul>
        </li>
      </ul>
      <h4 class="nm">Section Improvements</h4>
      <ul>
        <li><strong>Unit 1: Directional Derivatives and Gradient</strong>: now explains that gradients are perpendicular to contour lines</li>
      </ul>
    </div>
    <h3>2025-03-12: “More Multivariable Derivative Stuff” Update <button id="update20250312Button" onclick="showHide('update20250312')">Show</button></h3>
    <div id="update20250312" class="hidden-by-default">
      <p>
        This update features more sections about multivariable derivatives and their applications. <a href="#progress" onclick="jumpTo('progress')">Current progress: 12/37 sections covered.</a>
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New sections added:
          <ul class="link-ul">
            <li><a href="#contourHeader" onclick="jumpTo('contour')">Contour Maps and Level Curves</a></li>
            <li><a href="#multivarChainHeader" onclick="jumpTo('multivarChain')">The Multivariable Chain Rule</a></li>
            <li><a href="#implicitDiffHeader" onclick="jumpTo('implicitDiff')">Implicit Differentiation with Partial Derivatives</a></li>
            <li><a href="#directionalDiffHeader" onclick="jumpTo('directionalDiff')">Directional Derivatives and Gradient</a></li>
            <li><a href="#higherOrderDiffHeader" onclick="jumpTo('higherOrderDiff')">Higher-Order Partial Derivatives</a></li>
            <li><a href="#localExtremaHeader" onclick="jumpTo('localExtrema')">Finding Local/Relative Extrema of Functions</a></li>
            <li><a href="#globalExtremaHeader" onclick="jumpTo('globalExtrema')">Finding Global/Absolute Extrema of Functions</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <h3>2025-03-07: “Partial Derivatives” Update <button id="update20250307Button" onclick="showHide('update20250307')">Show</button></h3>
    <div id="update20250307" class="hidden-by-default">
      <p>
        This update features new sections about partial derivatives, the extension of the derivative to functions of multiple variables! <a href="#progress" onclick="jumpTo('progress')">Current progress: 9/37 sections covered.</a>
      </p>
      <h4 class="nm">New Sections</h4>
      <ul>
        <li>
          New sections added:
          <ul class="link-ul">
            <li><a href="#multivarFuncHeader" onclick="jumpTo('multivarFunc')">Functions of Multiple Variables</a></li>
            <li><a href="#partialDiffHeader" onclick="jumpTo('partialDiff')">Intro to Partial Derivatives</a></li>
            <li><a href="#tangentPlanesHeader" onclick="jumpTo('tangentPlanes')">Partial Derivatives: Tangent Planes and Linear Approximations</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <h3>2025-03-03: Initial Release <button id="update20250303Button" onclick="showHide('update20250303')">Show</button></h3>
    <div id="update20250303" class="hidden-by-default">
      <p>
        This is the first version of this website to be released. It features some explanations about vectors and the 3D coordinate system. <a href="#progress" onclick="jumpTo('progress')">Current progress: 6/37 sections covered.</a>
      </p>
      <h4 class="nm">Website Content</h4>
      <ul>
        <li><strong>Unit 1: Vectors and 3D Space</strong>: In order to understand many of the concepts in multivariable calculus, you need to know about vectors and how to visualize graphs in 3D space. That’s what this unit is for!</li>
        <li><strong>Guest Explanations</strong>: Why should I be the only one making calculus explanations? I plan on letting some of my friends contribute their own calculus explanations to this website. This first release comes with three explanations (Green’s Theorem, Stokes’ Theorem, and Generalized Stokes’ Theorem) from one of my friends Sami.</li>
      </ul>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Website Settings -->
  <h2 id="settingsHeader">
    <span onclick="showHide('settings')">
      Website Settings
    </span>
    <button id="settingsButton" onclick="showHide('settings')">Show</button>
  </h2>
  <div class="hidden-by-default" id="settings">
    <p>
      Switch to a dark theme for those of you studying calculus late at night! (This setting does not affect any of the images on this page, so they will stay bright.)
    </p>
    <p>
      <label for="darkModeCheckbox" class="large-text">Dark Mode</label> &nbsp;<input type="checkbox" id="darkModeCheckbox" oninput="toggleDarkMode()">
    </p>
    <hr>
    <p>
      If the bright images in dark mode bother you, you can invert the colors of graphs using this setting. <strong><span class="warning">Warning</span>: this will change the colors of points and curves on each graph, making graph captions inaccurate in some cases.</strong>
    </p>
    <p>
      <label for="invertColorsCheckbox" class="large-text">Invert Graph Colors</label> &nbsp;<input type="checkbox" id="invertColorsCheckbox" oninput="invertGraphs()">
    </p>
    <!-- <hr>
    <p>
      Example of what a graph and its caption look like now:
    </p>
    <img class="graph" src="images/tangent.png">
    <p class="ntm sn">
      The <span class="blue">blue line</span> is a tangent line because it is tangent to the <span class="red">function</span>!
    </p> -->
    <hr>
    <p class="large-text">
      Scientific Notation Format
    </p>
    <p>
      Control the way very large and small numbers are displayed on this website. (Primarily intended for those of you who enjoy incremental games!)
    </p>
    <select name="largeNumFormat" id="largeNumFormat" onchange="setLargeNumFormat()">
      <option value="default">Default (e.g. 1.2 × 10^19)</option>
      <option value="e">Lowercase “e” (e.g. 1.2e19)</option>
      <option value="defaultEngineering">Engineering (e.g. 12 × 10^18)</option>
      <option value="eEngineering">Engineering (with “e”) (e.g. 12e18)</option>
    </select>
  </div>
  <hr class="heavy-hr">
  <!-- What Is This Website -->
  <h2 id="whatHeader">
    <span onclick="showHide('what')">What Is This Website?</span>
    <button id="whatButton" onclick="showHide('what')">Hide</button>
  </h2>
  <div id="what">
    <p>
      A note about links on this page: Internal links (links that bring you to another spot on this page) are colored in <a href="#" onclick="return false;">light blue</a>. External links (links that open a different website) are colored in <a class="external-link" href="#" onclick="return false;">dark blue</a>. External links will always open in a new tab.
    </p>
    <p>
      This is a continuation of my single-variable calculus website, <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/calc">unnamed calc website</a>, but this time with multivariable calculus! You can look at that page for more information on what this website is and why I made it.
    </p>
    <p>
      The content on this page is heavily based on <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.khanacademy.org">Khan Academy</a> and <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://tutorial.math.lamar.edu/">Paul’s Online Notes</a>. I recommend visiting these sites for more detailed multivariable calculus explanations!
    </p>
    <button class="large-button" onclick="showHide('progress')" id="progressButton">Show Current Progress</button>
    <div class="hidden-by-default" id="progress">
      <p>
        This progress table is based on the <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.stewartcalculus.com/media/11_inside_homework_hints.php">Stewart Calculus</a> textbook.
      </p>
      <table id="progressTable">
        <tr>
          <th>Unit</th>
          <th>Progress</th>
        </tr>
        <tr>
          <td>12. Vectors and the Geometry of Space</td>
          <td>6/6</td>
        </tr>
        <tr>
          <td>13. Vector Functions</td>
          <td>4/4</td>
        </tr>
        <tr>
          <td>14. Partial Derivatives</td>
          <td>7/8</td>
        </tr>
        <tr>
          <td>15. Multiple Integrals</td>
          <td>9/10</td>
        </tr>
        <tr>
          <td>16. Vector Calculus</td>
          <td>9/9</td>
        </tr>
        <tr class="bold">
          <td>All Units</td>
          <td id="totalProgress"></td>
        </tr>
      </table>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Unit 1 -->
  <div class="unit" id="unit1Unit">
    <h2 id="unit1Header">
      <span onclick="showHideUnit('unit1')"><span class="gray">Unit 1:</span> Vectors and 3D Space</span>
      <button id="unit1Button" onclick="showHideUnit('unit1')">Show</button>
    </h2>
    <div class="hidden-by-default" id="unit1">
      <div>
        <button class="large-button" onclick="toggleAllSections('unit1', 'show')">Show All Sections</button>
        <div class="button-spacing"></div>
        <button class="large-button" onclick="toggleAllSections('unit1', 'hide')">Hide All Sections</button>
      </div>
      <h3 class="section-header" id="vectorBasicsHeader">
        Vector Basics <button id="vectorBasicsButton" onclick="showHide('vectorBasics')">Show</button>
      </h3>
      <div class="hidden-by-default" id="vectorBasics">
        <p>
          Multivariable calculus involves functions that have multiple inputs or output a list of multiple numbers. Because of this, the concept of vectors appears a lot in multivariable calculus.
        </p>
        <p>
          There are two ways of thinking about what a vector is:
        </p>
        <ul>
          <li>A vector is a list of numbers (but can sometimes contain other things).</li>
          <li>A vector is a quantity with magnitude and direction.</li>
        </ul>
        <p>
          I’m going to focus on the second way of thinking about vectors: that a vector is a quantity with magnitude and direction. What exactly does that mean? Usually, we think of vectors graphically as arrows on the coordinate plane.
        </p>
        <p>
          I will be discussing 2D vectors here (vectors with 2 values that can be drawn in 2 dimensions), but a lot of the concepts are similar for 3D vectors and vectors with even more dimensions.
        </p>
        <img class="graph" src="images/2d_vector.png">
        <p class="ntm sn">
          The arrow from <span class="red">point A</span> to <span class="blue">point B</span> is a vector since it has a magnitude (i.e. length) and a direction. It is a 2D vector since it is on a 2-dimensional coordinate plane. (Note: vectors can begin anywhere on the coordinate plane. In this diagram, <span class="red">point A</span> is at the origin, but it doesn’t have to be. What determines the vector is the displacement between the two points.)
        </p>
        <p>
          2D vectors have an \(x\)-component and a \(y\)-component. The \(x\)-component is the horizontal displacement of the vector and the \(y\)-component is the vertical displacement. In the diagram above, the vector has an \(x\)-component of 3 and a \(y\)-component of 4. The \(x\)-component and \(y\)-component can also be negative (represented by an arrow pointing to the left or down respectively).
        </p>
        <p>
          Vectors are usually notated with a letter in bold, such as \(\mathbf{v}\). There are multiple ways to notate the components of a vector. One way is to write them like coordinates, so for example the vector in the above diagram is \(\mathbf{v} = (3, 4)\). The first value is the \(x\)-component and the second value is the \(y\)-component of the vector.
        </p>
        <p>
          Another way is to write the vector in terms of the unit vectors \(\mathbf{i} = (1, 0)\) and \(\mathbf{j} = (0, 1)\). In this notation, our vector can be written as \(\mathbf{v} = (3, 4) = (3, 0) + (0, 4) = 3\mathbf{i} + 4\mathbf{j}\). The coefficient of \(\mathbf{i}\) is the \(x\)-component and the coefficient of \(\mathbf{j}\) is the \(y\)-component of the vector.
        </p>
        <p>
          To find the magnitude (i.e. length) of a vector (denoted by \(||\mathbf{v}||\)), we can use the Pythagorean Theorem. Notice how in the diagram above, the \(x\)- and \(y\)-components form a right triangle with the vector. In this case, the magnitude of the vector \(\mathbf{v} = (3, 4)\) is \(||\mathbf{v}|| = \sqrt{3^2 + 4^2} = 5\).
        </p>
        <p>
          The magnitude of a three-dimensional vector \((a, b, c)\) is equal to \(\sqrt{a^2 + b^2 + c^2}\). For a 4D vector \((a, b, c, d)\), the magnitude is equal to \(\sqrt{a^2+b^2+c^2+d^2}\), and the pattern continues for higher dimensions.
        </p>
        <p class="large-text bold">Vector operations</p>
        <p>
          We can multiply a vector by a scalar (i.e. a single number). To do that, we just multiply each component of the vector by the scalar. If \(\mathbf{v} = (1, 2)\), then \(4\mathbf{v} = (4\cdot 1, 4\cdot 2) = (4, 8)\). This scalar can also be -1, i.e. we can find the negative of a vector by multiplying all components by -1. In our example, \(-\mathbf{v} = (-1, -2)\).
        </p>
        <p>
          We can add two vectors by adding their components together. For example, if \(\mathbf{v} = (1, 2)\) and \(\mathbf{w} = (3, 4)\), then \(\mathbf{v} + \mathbf{w} = (1 + 3, 2 + 4) = (4, 6)\).
        </p>
        <p>
          To add two vectors visually, first place the tail of the second vector at the head of the first vector. Then the sum of the vectors will be the vector that goes from the tail of the first vector to the head of the second vector.
        </p>
        <img class="graph" src="images/vector_addition.png">
        <p>
          Similarly, we can subtract two vectors by subtracting their components. If \(\mathbf{v} = (1, 2)\) and \(\mathbf{w} = (3, 4)\), then \(\mathbf{w} - \mathbf{v} = (3 - 1, 4 - 2) = (2, 2)\).
        </p>
        <p>
          There are two ways to visualize this: the first is to add the vectors \(\mathbf{w}\) and \(-\mathbf{v}\) to get \(\mathbf{w} - \mathbf{v}\).
        </p>
        <img class="graph" src="images/vector_subtraction_2.png">
        <p>
          The second way is to draw the vectors for \(\mathbf{v}\) and \(\mathbf{w}\). The vector that goes from the head of \(\mathbf{v}\) to the head of \(\mathbf{w}\) is \(\mathbf{w} - \mathbf{v}\).
        </p>
        <img class="graph" src="images/vector_subtraction_1.png">
        <p class="ntm sn">
          This diagram shows that \(\mathbf{v} + (\mathbf{w} - \mathbf{v}) = \mathbf{w}\).
        </p>
      </div>
      <h3 class="section-header" id="threeDimsHeader">
        The 3D Coordinate System <button id="threeDimsButton" onclick="showHide('threeDims')">Show</button>
      </h3>
      <div class="hidden-by-default" id="threeDims">
        <p>
          In previous calculus classes, you dealt with functions involving a single input and a single output. These are known as single-variable functions, and the way we typically visualize them is with 2-dimensional graphs: one dimension for the input variable and one dimension for the output variable.
        </p>
        <p>
          But in multivariable calculus, we often deal with functions with more than one input (these are known as multivariable functions). To visualize these functions, we need more than 2 dimensions!
        </p>
        <p>
          Often, we use 3-dimensional graphs to visualize functions with two inputs. But how do 3D graphs work? That’s what I’m going to discuss now!
        </p>
        <p>
          In two-dimensional graphs, we have two axes: the \(x\)-axis and the \(y\)-axis. When we introduce a third dimension, we need to add a new axis: the \(z\)-axis, that is perpendicular to the other two axes.
        </p>
        <img class="graph" src="images/3d_axes.png">
        <p>
          In two dimensions, the point \((x, y)\) would be plotted \(x\) units along the \(x\)-axis and \(y\) units along the \(y\)-axis. In three dimensions, we do something similar: the point \((x, y, z)\) would be plotted \(x\) units along the \(x\)-axis, \(y\) units along the \(y\)-axis, and \(z\) units along the \(z\)-axis.
        </p>
        <img class="graph" src="images/3d_point.png">
        <p class="ntm sn">
          This is the point \((\class{blue}{1}, \class{green}{2}, \class{purple}{3})\) plotted in 3D space. It is plotted <span class="blue">1 unit along the \(x\)-axis</span>, <span class="green">2 units along the \(y\)-axis</span>, and <span class="purple">3 units along the \(z\)-axis</span>.
        </p>
        <p>
          We can also create vectors in 3D space. For example, this is the vector \((1, 2, 3)\):
        </p>
        <img class="graph" src="images/3d_vector.png">
        <p>
          In 3D space, the unit vectors are \(\mathbf{i} = (1, 0, 0)\), \(\mathbf{j} = (0, 1, 0)\), and \(\mathbf{k} = (0, 0, 1)\).
        </p>
        <p>
          In 3D space, there are three coordinate planes - planes formed by two of the axes:
        </p>
        <ul>
          <li>The \(xy\)-plane contains the \(x\)- and \(y\)-axes and contains all points with a \(z\)-coordinate of 0.</li>
          <li>The \(yz\)-plane contains the \(y\)- and \(z\)-axes and contains all points with an \(x\)-coordinate of 0.</li>
          <li>The \(xz\)-plane contains the \(x\)- and \(z\)-axes and contains all points with a \(y\)-coordinate of 0.</li>
        </ul>
        <img class="graph" src="images/xy_plane.png">
        <p class="ntm sn">
          A graph of the \(xy\)-plane.
        </p>
        <img class="graph" src="images/yz_plane.png">
        <p class="ntm sn">
          A graph of the \(yz\)-plane.
        </p>
        <img class="graph" src="images/xz_plane.png">
        <p class="ntm sn">
          A graph of the \(xz\)-plane.
        </p>
      </div>
      <h3 class="section-header" id="dotProductHeader">
        Vectors: Dot Product <button id="dotProductButton" onclick="showHide('dotProduct')">Show</button>
      </h3>
      <div class="hidden-by-default" id="dotProduct">
        <p>
          There are some operations we can perform between two vectors. One of the most common operations is the <strong>dot product</strong>. The dot product of two vectors \(\mathbf{a}\) and \(\mathbf{b}\) is denoted by \(\mathbf{a} \cdot \mathbf{b}\).
        </p>
        <p>
          There are two ways of thinking of the dot product.
        </p>
        <p class="bold large-text">
          The dot product as a sum of products
        </p>
        <p class="nbm">
          To find the dot product of two vectors, you multiply corresponding components together, then sum up all of the products. Here’s an example:
        </p>
        <div class="mj">
          \[ \mathbf{a} = (\class{red}{1}, \class{blue}{2}, \class{purple}{3}) \]
          \[ \mathbf{b} = (\class{red}{4}, \class{blue}{5}, \class{purple}{6}) \]
          \[ \begin{flalign}
          \mathbf{a} \cdot \mathbf{b} &= (\class{red}{1 \cdot 4}) + (\class{blue}{2\cdot 5}) + (\class{purple}{3\cdot 6})\\
          &= 4 + 10 + 18\\
          &= 32
          \end{flalign}\]
        </div>
        <p class="ntm">
          Notice that the result of a dot product is a scalar (a single number), not a vector.
        </p>
        <p class="bold large-text">
          The geometric meaning of the dot product
        </p>
        <p class="nbm">
          The dot product can also be found with this formula:
        </p>
        <div class="mj">
          \[ \mathbf{a} \cdot \mathbf{b} = ||\mathbf{a}||\:||\mathbf{b}|| \cos(\theta)\]
        </div>
        <p class="ntm sn">
          In this formula, \(\theta\) is the angle between the two vectors \(\mathbf{a}\) and \(\mathbf{b}\).
        </p>
        <p>
          Notice that \(\cos(\theta)\) is close to 1 if \(\theta\) is close to 0, and \(\cos(\theta)\) is close to 0 if \(\theta\) is close to 90 degrees. So in general, if two vectors are pointing in roughly the same direction, their dot product will be larger. If two vectors are pointing in exactly the same direction, then the dot product is the product of the vectors’ magnitudes.
        </p>
        <p>
          If \(\theta\) is exactly 90 degrees (or \(\frac{\pi}{2}\) radians), then \(\cos(\theta) = 0\). This means that the dot product between two perpendicular vectors is zero. Two vectors are called <strong>orthogonal</strong> if this is the case (i.e. if \(\mathbf{a} \cdot \mathbf{b} = 0\), then \(\mathbf{a}\) and \(\mathbf{b}\) are orthogonal vectors).
        </p>
        <p>
          The dot product can also be negative if \(\cos(\theta)\) is negative. This happens when \(\theta\) is in between 90 and 180 degrees (\(\frac{\pi}{2}\) and \(\pi\) radians).
        </p>
        <div>
          <hr>
          <p>
            Play around with these two unit vectors (vectors with magnitude 1). What do you notice about the dot product?
          </p>
          <p>
            <canvas id="dotProductCanvas" class="canvas-graph"></canvas>
          </p>
          <p>
            Control the vectors’ angles using these sliders:
          </p>
          <p>
            <input id="dotProductSlider" class="slider" type="range" max="1" step="any" value="0" oninput="updateSliders()">
          </p>
          <p>
            <input id="dotProductSlider2" class="slider" type="range" max="1" step="any" value="0" oninput="updateSliders()">
          </p>
          <button class="large-button" onclick="randomVectors()">Random Vectors</button>
          <div class="button-spacing"></div>
          <button class="large-button" onclick="orthogonalVectors()">Orthogonal Vectors</button>
          <p>
            \(\theta \approx\) <span id="dotProductTheta" class="output-value"></span>
          </p>
          <p>
            \(\theta \approx\) <span id="dotProductThetaDegrees" class="output-value"></span>
          </p>
          <p>
            Dot Product \(\approx\) <span id="dotProductVal" class="output-value"></span>
          </p>
        </div>
      </div>
      <h3 class="section-header" id="matricesHeader">
        Matrices and Determinants <button id="matricesButton" onclick="showHide('matrices')">Show</button>
      </h3>
      <div class="hidden-by-default" id="matrices">
        <p class="nbm">
          In multivariable calculus, we will sometimes be dealing with matrices. A <strong>matrix</strong> is a 2D grid of numbers. Here’s an example of a matrix:
        </p>
        <div class="mj">
          \[ \begin{bmatrix} 
          1 & 2 & 3 & 4\\
          5 & 6 & 7 & 8\\
          9 & 10 & 11 & 12
          \end{bmatrix} \]
        </div>
        <p class="ntm">
          A matrix that has \(m\) rows and \(n\) columns is known as an \(m \times n\) matrix. For example, the above matrix is a \(3 \times 4\) matrix.
        </p>
        <p>
          Sometimes, we will be studying the determinants of matrices. The <strong>determinant</strong> is a special number you can calculate from a square matrix (a matrix with the same number of rows and columns). Here’s an example:
        </p>
        <p class="nbm">
          Imagine we have this \(2 \times 2\) matrix:
        </p>
        <div class="mj">
          \[ A = \begin{bmatrix} 
          a & b \\
          c & d
          \end{bmatrix} \]
        </div>
        <p class="nm">
          The determinant of this matrix, denoted by \(\det(A)\), is calculated as follows:
        </p>
        <div class="mj">
          \[ \det(A) = ad - bc \]
        </div>
        <p class="nm">
          The determinant of a \(3 \times 3\) matrix is more complicated:
        </p>
        <div class="mj">
          \[ A = \begin{bmatrix} 
          a_{11} & a_{12} & a_{13} \\
          a_{21} & a_{22} & a_{23} \\
          a_{31} & a_{32} & a_{33}
          \end{bmatrix} \]
          \[ \begin{flalign}
          \det(A) &= a_{11}(-1)^{1+1}\det\begin{bmatrix} 
          a_{22} & a_{23} \\
          a_{32} & a_{33}
          \end{bmatrix} + a_{12}(-1)^{1+2}\det\begin{bmatrix} 
          a_{21} & a_{23} \\
          a_{31} & a_{33}
          \end{bmatrix} + a_{13}(-1)^{1+3}\det\begin{bmatrix} 
          a_{21} & a_{22} \\
          a_{31} & a_{32}
          \end{bmatrix}\\
          &= a_{11}\det\begin{bmatrix} 
          a_{22} & a_{23} \\
          a_{32} & a_{33}
          \end{bmatrix} - a_{12}\det\begin{bmatrix} 
          a_{21} & a_{23} \\
          a_{31} & a_{33}
          \end{bmatrix} + a_{13}\det\begin{bmatrix} 
          a_{21} & a_{22} \\
          a_{31} & a_{32}
          \end{bmatrix}\\
          \end{flalign} \]
        </div>
        <p class="ntm">
          That just looks like a huge mess at first! Let’s break it down.
        </p>
        <p class="nbm">
          The first term in the sum is:
        </p>
        <div class="mj">
          \[ a_{\class{red}{1}\class{blue}{1}}(-1)^{\class{red}{1}+\class{blue}{1}}\det\begin{bmatrix} 
          a_{22} & a_{23} \\
          a_{32} & a_{33} 
          \end{bmatrix} \] 
        </div>
        <p class="ntm">
          Notice how the exponent on the -1 term is \(\class{red}{1} + \class{blue}{1}\), while the coefficient in front of it is \(a_{\class{red}{1}\class{blue}{1}}\), corresponding to the element on the <span class="red">1</span>st row and <span class="blue">1</span>st column of the matrix.
        </p>
        <p>
          What about the determinant part? Notice how we’re finding the determinant of a smaller \(2 \times 2\) matrix. This matrix is just the \(3 \times 3\) matrix \(A\) but without the elements in the <span class="red">1</span>st row and the <span class="blue">1</span>st column.
        </p>
        <p class="nbm">
          The next term is:
        </p>
        <div class="mj">
          \[ a_{\class{red}{1}\class{blue}{2}}(-1)^{\class{red}{1}+\class{blue}{2}}\det\begin{bmatrix} 
          a_{21} & a_{23} \\
          a_{31} & a_{33} 
          \end{bmatrix} \] 
        </div>
        <p class="ntm">
          Once again, the exponent on the -1 term (\(\class{red}{1} + \class{blue}{2}\)) is the sum of the row and column number of the coefficient \(a_{\class{red}{1}\class{blue}{2}}\). We are multiplying these terms by the determinant of a \(2 \times 2\) matrix which is matrix \(A\) but without the <span class="red">1</span>st row and <span class="blue">2</span>nd column.
        </p>
        <p class="nbm">
          Finally, we see this pattern continue with the last term:
        </p>
        <div class="mj">
          \[ a_{\class{red}{1}\class{blue}{3}}(-1)^{\class{red}{1}+\class{blue}{3}}\det\begin{bmatrix} 
          a_{21} & a_{22} \\
          a_{31} & a_{32} 
          \end{bmatrix} \] 
        </div>
        <p class="ntm">
          The exponent on the -1 is the sum of the row and column number, and we are once again multiplying by a modified version of matrix \(A\) without the <span class="red">1</span>st row and <span class="blue">3</span>rd column.
        </p>
        <p>
          However, this isn’t the only way we can calculate the determinant of \(A\). In the previous example, we used what’s known as the <strong>Laplace expansion</strong> along the first row of the matrix (since the coefficients \(a_{11}\), \(a_{12}\), \(a_{13}\) come from the first row of matrix \(A\)).
        </p>
        <p class="nbm">
          The Laplace expansion works for any row or any column of the matrix! For example, here’s the expansion along the 2nd column:
        </p>
        <div class="mj">
          \[ \det(A) = a_{12}(-1)^{1+2}\det\begin{bmatrix}
          a_{21} & a_{23} \\
          a_{31} & a_{33}
          \end{bmatrix} + a_{22}(-1)^{2+2}\det\begin{bmatrix}
          a_{11} & a_{13} \\
          a_{31} & a_{33}
          \end{bmatrix} + a_{32}(-1)^{3+2}\det\begin{bmatrix}
          a_{11} & a_{13} \\
          a_{21} & a_{23}
          \end{bmatrix}\]
        </div>
        <p class="ntm">
          When we find the determinant of a \(3\times 3\) matrix, we will most often use the Laplace expansion along the first row (although it’s not the only way to find the determinant).
        </p>
      </div>
      <h3 class="section-header" id="crossProductHeader">
        Vectors: Cross Product <button id="crossProductButton" onclick="showHide('crossProduct')">Show</button>
      </h3>
      <div class="hidden-by-default" id="crossProduct">
        <p>
          The <strong>cross product</strong> is another operation we can perform between two vectors. The cross product of \(\mathbf{a}\) and \(\mathbf{b}\) is denoted by \(\mathbf{a} \times \mathbf{b}\).
        </p>
        <p>
          While the dot product works with vectors with any number of dimensions (as long as the two vectors have the same number of dimensions), the cross product only works with two 3D vectors.
        </p>
        <p>
          While the dot product of two vectors is a scalar, the cross product of two vectors is another vector. Specifically, the cross product of two vectors is a third vector that is perpendicular to the other two vectors.
        </p>
        <p>
          There are once again two formulas for the cross product.
        </p>
        <p class="bold large-text">
          The cross product as a determinant
        </p>
        <p class="nbm">
          The cross product of two vectors can be calculated with a few multiplications and subtractions. If \(\mathbf{a} = (a_1, a_2, a_3)\) and \(\mathbf{b} = (b_1, b_2, b_3)\), then:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{a} \times \mathbf{b} &= (a_2 b_3 - a_3 b_2) \mathbf{i} + (a_3 b_1 - a_1 b_3) \mathbf{j} + (a_1 b_2 - a_2 b_1) \mathbf{k}\\
          &= (a_2 b_3 - a_3 b_2,\, a_3 b_1 - a_1 b_3,\, a_1 b_2 - a_2 b_1)
          \end{flalign} \]
        </div>
        <p class="ntm">
          This is not an easy formula to remember! Luckily, there is an easier way to remember this, but it does require you to be familiar with matrices and determinants.
        </p>
        <p class="nbm">
          This formula can be written as the determinant of a \(3\times 3\) matrix as follows:
        </p>
        <div class="mj">
          \[ \mathbf{a} \times \mathbf{b} = \det\left(\begin{bmatrix} 
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          a_1 & a_2 & a_3 \\
          b_1 & b_2 & b_3
          \end{bmatrix}\right)\]
        </div>
        <p class="ntm">
          The first row of the matrix contains the unit vectors \(\mathbf{i}\), \(\mathbf{j}\), and \(\mathbf{k}\), the second row of the matrix contains the components of the first vector, and the third row contains the components of the second vector.
        </p>        
        <p class="bold large-text">
          The geometric meaning of the cross product
        </p>
        <p class="nbm">
          Just like the dot product, there is a geometric formula for the cross product:
        </p>
        <div class="mj">
          \[ \mathbf{a} \times \mathbf{b} = ||\mathbf{a}|| \: ||\mathbf{b}|| \sin(\theta) \mathbf{n} \]
        </div>
        <p class="ntm sn">
          \(\theta\) is the angle between \(\mathbf{a}\) and \(\mathbf{b}\), and \(\mathbf{n}\) is a unit vector perpendicular to both \(\mathbf{a}\) and \(\mathbf{b}\) (the exact vector to use is based on the right-hand rule - more on that later).
        </p>
        <p class="nbm">
          This means that the magnitude of the cross product of two vectors \(\mathbf{a}\) and \(\mathbf{b}\) is:
        </p>
        <div class="mj">
          \[ ||\mathbf{a} \times \mathbf{b}|| = ||\mathbf{a}|| \: ||\mathbf{b}|| \: \lvert\sin(\theta)\rvert \]
        </div>
        <p class="ntm">
          This can be interpreted as the area of the parallelogram formed by the vectors \(\mathbf{a}\) and \(\mathbf{b}\).
        </p>
        <img class="graph" src="images/cross_product_parallelogram.png">
        <p class="ntm sn">
          The area of the <span class="blue">parallelogram</span> is equal to \(||\mathbf{a}\times\mathbf{b}|| = ||\mathbf{a}|| \: ||\mathbf{b}|| \: \lvert\sin(\theta)\rvert\).
        </p>
        <p>
          The cross product of two vectors is a third vector that is perpendicular to both of them. However, in 3D space, there are two vectors that are perpendicular to any set of two nonzero vectors. How do we know which one to use?
        </p>
        <p>
          That’s what the <strong>right-hand rule</strong> tells us. If you point the index finger of your right hand in the direction of \(\mathbf{a}\), then point your middle finger in the direction of \(\mathbf{b}\), then extend your thumb, your thumb will point in the direction of \(\mathbf{a} \times \mathbf{b}\).
        </p>
        <img class="graph" src="images/cross_product.png">
        <p>
          Here’s an example of how we would find the cross product of two vectors.
        </p>
        <p class="ntm sn">
          The cross product \(\mathbf{a} \times \mathbf{b}\) is perpendicular to both the vectors \(\mathbf{a}\) and \(\mathbf{b}\).
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the cross product of the vectors \(\mathbf{a} = (5, -2, 8)\) and \(\mathbf{b} = (10, 0, 1)\)?
        </p>
        <p class="nbm">
          Using the formula directly:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{a} \times \mathbf{b} &= (a_2 b_3 - a_3 b_2) \mathbf{i} + (a_3 b_1 - a_1 b_3) \mathbf{j} + (a_1 b_2 - a_2 b_1) \mathbf{k}\\
          &= [-2(1) - (8)(0)]\mathbf{i} + [8(10) - 5(1)]\mathbf{j} + [5(0) - (-2)(10)]\mathbf{k}\\
          &= -2\mathbf{i} + 75\mathbf{j} + 20\mathbf{k}\\
          &= (-2, 75, 20)
          \end{flalign} \]
        </div>
        <p class="nm">
          Using the determinant form of the formula:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{a} \times \mathbf{b} &= \det\begin{bmatrix} 
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          a_1 & a_2 & a_3 \\
          b_1 & b_2 & b_3
          \end{bmatrix}\\
          &= \det\begin{bmatrix} 
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          5 & -2 & 8 \\
          10 & 0 & 1
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          -2 & 8\\
          0 & 1
          \end{bmatrix}\mathbf{i} - \det\begin{bmatrix}
          5 & 8\\
          10 & 1
          \end{bmatrix}\mathbf{j} + \det\begin{bmatrix}
          5 & -2\\
          10 & 0
          \end{bmatrix}\mathbf{k}\\
          &= [-2(1) - 8(0)]\mathbf{i} - [5(1) - 8(10)]\mathbf{j} + [5(0) - (-2)(10)]\mathbf{k}\\
          &= -2\mathbf{i} + 75\mathbf{j} + 20\mathbf{k}\\
          &= (-2, 75, 20)
          \end{flalign}\]
        </div>
        <p class="ntm sn">
          Don’t forget the negative sign before the second term when calculating the determinant (in this case, the coefficient of \(\mathbf{j}\))!
        </p>
      </div>
      <h3 class="section-header" id="lines3DHeader">
        3D Space: Equations of Lines <button id="lines3DButton" onclick="showHide('lines3D')">Show</button>
      </h3>
      <div class="hidden-by-default" id="lines3D">
        <p>
          How do we graph a line in 3D space? Before we answer this, let’s first think about how we could graph a line in 2D.
        </p>
        <p class="nbm">
          In two dimensions, we can graph a line by choosing a point on that line, then specifying the slope of the line. This is the point-slope form of a line: the line that passes through the point \((x_0, y_0)\) with slope \(m\) is:
        </p>
        <div class="mj">
          \[ y - y_0 = m(x-x_0) \]
        </div>
        <p class="ntm">
          In three dimensions, however, we can’t just describe the slope of a line with one number. Instead, we need to use a 3D vector to describe the direction that the line goes in.
        </p>
        <p>
          So what we could do instead is take two points that are on the line, then draw a vector between those two. Let’s see how this would work in 2D first.
        </p>
        <p>
          Let’s say we want to find the equation of the line that passes through point \(A = (1, 2)\) and point \(B = (2, 5)\). We can get a vector parallel to this line by subtracting one point from the other. In this case, that vector would be \(\mathbf{v} = (2-1, 5-2) = (1, 3)\).
        </p>
        <img class="graph" src="images/2d_vector_line.png">
        <p>
          Now let’s imagine a point moving with this velocity vector. As time passes, the point will trace out our line.
        </p>
        <canvas id="2dVectorLineCanvas" class="canvas-graph"></canvas>
        <p>
          How can we describe the movement of this point with a function? We can use a vector-valued function - a function that outputs a vector.
        </p>
        <p class="nbm">
          Imagine a point at point \(A\) and moving towards point \(B\). Its velocity vector would be equal to the vector \(\mathbf{v}\) we found before. Its position at time \(t\) would be:
        </p>
        <div class="mj">
          \[ f(t) = \mathbf{a} + t\mathbf{v}\]
        </div>
        <p class="ntm sn">
          \(\mathbf{a}\) is the position vector corresponding to point \(A\) (in this case, \((1, 2)\)).
        </p>
        <p>
          This is known as the <strong>vector form</strong> for the equation of a line. As \(t\) ranges across all real numbers (negative and positive), the point corresponding to \(f(t)\) will draw out the line.
        </p>
        <div>
          <p>
            <canvas id="2dVectorLineInteractiveCanvas" class="canvas-graph"></canvas>
          </p>
          <input id="2dVectorLineInteractiveSlider" class="slider" type="range" max="1" step="any" value="0" oninput="updateSliders()">
          <p>
            \(t =\) <span id="2dVectorLineInteractiveVal1" class="output-value"></span>
          </p>
        </div>
        <p>
          We can generalize this concept to three dimensions. Let me demonstrate this with an example:
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the equation of the line that passes through the points \(A = (-2, 3, 2)\) and \(B = (3, 0, 1)\)?
        </p>
        <p class="nbm">
          First, we need to find a vector that is parallel to the line. The easiest way to do this is to find the vector that goes from point \(A\) to point \(B\) (since this vector is on the line, it will also be parallel to the line). To find this vector, we subtract the coordinates of point \(A\) from point \(B\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{v} &= (3 - (-2), 0 - 3, 1 - 2)\\
          &= (5, -3, -1)
          \end{flalign}\]
        </div>
        <img class="graph" src="images/line_vector.png">
        <p class="ntm sn">
          The vector \(\class{green}{\mathbf{v} = (5, -3, -1)}\) starts at <span class="red">point \(A\)</span> and ends at <span class="blue">point \(B\)</span>, and it is parallel to the line since it’s on the line.
        </p>
        <p class="nbm">
          The vector form for the equation of a line in 3D space is:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{r} &= \mathbf{r_0} + t\mathbf{v}\\
          &= (x_0, y_0, z_0) + t(a, b, c)\\
          &= (x_0 + ta, y_0 + tb, z_0 + tc)
          \end{flalign} \]
        </div>
        <p class="ntm sn">
          \((x_0, y_0, z_0)\) is a point on the line (with \(\mathbf{r_0}\) being the corresponding position vector), and \(\mathbf{v} = (a, b, c)\) is a vector that is parallel to the line. Just like with the 2D equation, as \(t\) ranges across all real numbers, the vector \(\mathbf{r}\) traces out the line.
        </p>
        <p class="nbm">
          Back to our example now. \(\mathbf{r_0}\) can be the position vector corresponding to either of our points. So for our example, the vector form based on point \(A\) is:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{r} &= (-2, 3, 2) + t(5, -3, -1)\\
          &= (-2 + 5t, 3 - 3t, 2 - t)
          \end{flalign}\]
        </div>
        <p class="nm">
          And the vector form based on point \(B\) is:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{r} &= (3, 0, 1) + t(5, -3, -1)\\
          &= (3 + 5t, -3t, 1 - t)
          \end{flalign}\]
        </div>
        <p class="nm">
          This is not the only way we can describe a line in 3D. We can convert this vector form into a set of parametric equations:
        </p>
        <div class="mj">
          \[ x = x_0 + ta \]
          \[ y = y_0 + tb \]
          \[ z = x_0 + tc \]
        </div>
        <p class="nm">
          This is the <strong>parametric form</strong> for the equation of a line. For our problem, the parametric form based on point \(A\) is: 
        </p>
        <div class="mj">
          \[ x = -2 + 5t \]
          \[ y = 3 - 3t \]
          \[ z = 2 - t \]
        </div>
        <p class="nm">
          Based on point \(B\), the parametric equations are:
        </p>
        <div class="mj">
          \[ x = 3 + 5t \]
          \[ y = - 3t \]
          \[ z = 1 - t \]
        </div>
        <p class="nm">
          Finally, if we solve for \(t\) in each of the equations in the parametric form, we get these equations:
        </p>
        <div class="mj">
          \[ t = \frac{x - x_0}{a} \]
          \[ t = \frac{y - y_0}{b} \]
          \[ t = \frac{z - z_0}{c} \]
        </div>
        <p class="nm">
          The right-hand sides of all three of these equations are equal to \(t\), so they are equal to each other. Therefore:
        </p>
        <div class="mj">
          \[ \frac{x - x_0}{a} = \frac{y - y_0}{b} = \frac{z - z_0}{c} \]
        </div>
        <p class="nm">
          This is the <strong>symmetric equation</strong> of a line. In this case, the symmetric equations that pass through \((-2, 3, 2)\) and \((3, 0, 1)\) are:
        </p>
        <div class="mj">
          \[ \frac{x + 2}{5} = \frac{y - 3}{-3} = \frac{z - 2}{-1} \]
        </div>
        <p class="nm sn">
          This equation is using point \(A\) for the coordinates \((x_0, y_0, z_0)\).
        </p>
        <div class="mj">
          \[ \frac{x - 3}{5} = \frac{y}{-3} = \frac{z - 1}{-1} \]
        </div>
        <p class="nm sn">
          This equation is using point \(B\) for the coordinates \((x_0, y_0, z_0)\).
        </p>
      </div>
      <h3 class="section-header" id="planes3DHeader">
        3D Space: Equations of Planes <button id="planes3DButton" onclick="showHide('planes3D')">Show</button>
      </h3>
      <div class="hidden-by-default" id="planes3D">
        <p>
          We can also find the equations of planes in 3D space.
        </p>
        <p>
          One way to uniquely identify a plane in 3D is to specify three points on that plane (as long as they’re not on the same line). However, to actually find the equation of a plane, there is another, more helpful way to define a plane.
        </p>
        <p>
          All we need is one point on the plane and a normal vector to that plane (a vector perpendicular to the plane).
        </p>
        <img class="graph" src="images/plane_normal_vector.png">
        <p class="ntm sn">
          We can define a plane using <span class="green">a point on the plane</span> and a <span class="blue">normal vector</span>.
        </p>
        <p>
          Let’s call this point \(P_0\), the vector corresponding to this point \(\mathbf{r_0}\), and the normal vector \(\mathbf{n}\).
        </p>
        <p>
          Why is this useful? Because if we choose a second point on the plane, then draw a vector from the first point to the second, that vector will lie completely within the plane. So this vector will be orthogonal to the normal vector, which means that the dot product of the two vectors will be zero.
        </p>
        <img class="graph" src="images/plane_normal_vector_2.png">
        <p class="ntm sn">
          The <span class="blue">normal vector</span> and the <span class="red">vector between the two points</span> are orthogonal, so their dot product is zero.
        </p>
        <p class="nbm">
          So we can define this plane as the set of all possible points \(P\) such that the vector between \(P\) and \(P_0\) is orthogonal to the normal vector (i.e. the dot product is zero). If we define the vector \(\mathbf{r}\) to be the vector corresponding to \(P\), this means:
        </p>
        <div class="mj">
          \[ \mathbf{n} \cdot (\mathbf{r} - \mathbf{r_0}) = 0 \]
          \[ \mathbf{n} \cdot \mathbf{r} - \mathbf{n} \cdot \mathbf{r_0} = 0 \]
          \[ \mathbf{n} \cdot \mathbf{r} = \mathbf{n} \cdot \mathbf{r_0} \]
        </div>
        <p class="nm">
          This is the <strong>vector equation</strong> of a plane. If we write out the components of the vectors with \(\mathbf{n} = (a, b, c)\), \(\mathbf{r} = (x, y, z)\), and \(\mathbf{r_0} = (x_0, y_0, z_0)\), we get:
        </p>
        <div class="mj">
          \[ (a, b, c) \cdot (x, y, z) = (a, b, c) \cdot (x_0, y_0, z_0) \]
          \[ ax + by + cz = ax_0 + by_0 + cz_0 \]
          \[ a(x - x_0) + b(y - y_0) + c(z - z_0) = 0 \]
        </div>
        <p class="ntm">
          This is the <strong>scalar equation</strong> of a plane.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the equation of the plane that passes through the points \(A = (4, -2, 3)\), \(B = (0, 1, 3)\), and \(C = (-1, -5, 1)\)?
        </p>
        <p>
          First, we need to find a normal vector for this plane. How could we do this?
        </p>
        <p>
          If we had two vectors that were on the plane, then found the cross product of those two vectors, that would give us a vector that is perpendicular to both of those vectors (and the plane itself), which would be a normal vector!
        </p>
        <p class="nbm">
          So let’s find two vectors that are on the plane. We can do that by finding vectors between two of our points. Here’s the vector that goes from point \(A\) to point \(B\):
        </p>
        <div class="mj">
          \[ \mathbf{AB} = (0 - 4, 1 - (-2), 3 - 3) = (-4, 3, 0) \]
        </div>
        <p class="nm">
          And here’s the vector that goes from point \(A\) to point \(C\):
        </p>
        <div class="mj">
          \[ \mathbf{AC} = (-1 - 4, -5 - (-2), 1 - 3) = (-5, -3, -2) \]
        </div>
        <p class="ntm">
          These are not the only two vectors we can use; there are many more possible pairs of points we can use to define our vectors.
        </p>
        <p class="nbm">
          Now let’s find the cross product of these vectors:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{AB} \times \mathbf{AC} &= \det\left(\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          -4 & 3 & 0\\
          -5 & -3 & -2\\
          \end{bmatrix}\right)\\
          &= -6\mathbf{i} - 8\mathbf{j} + 27\mathbf{k}\\
          &= (-6, -8, 27)
          \end{flalign}\]
        </div>
        <p class="nm">
          Remember that in the scalar equation of the plane \((a,b,c)\) is the normal vector and \((x_0, y_0, z_0)\) is any point on the plane (we’ll use point \(A\) for this example, but points \(B\) and \(C\) would also work). So the equation is:
        </p>
        <div class="mj">
          \[ a(x - x_0) + b(y - y_0) + c(z - z_0) = 0 \]
          \[ -6(x - 4) - 8(y + 2) + 27(z - 3) = 0 \]
        </div>
      </div>
      <h3 class="section-header" id="quadricHeader">
        3D Space: Quadric Surfaces <button id="quadricButton" onclick="showHide('quadric')">Show</button>
      </h3>
      <div class="hidden-by-default" id="quadric">
        <p class="nbm">
          <strong>Quadric surfaces</strong> are graphs in 3D space that are defined by an equation in the form:
        </p>
        <div class="mj">
          \[ P(x, y, z) = 0 \]
        </div>
        <p class="nm">
          Here, \(P(x, y, z)\) is a quadratic polynomial in terms of \(x\), \(y\), and \(z\). This can also be written as:
        </p>
        <div class="mj">
          \[ Ax^2 + By^2 + Cz^2 + Dxy + Exz + Fyz + Gx + Hy + Iz + J = 0\]
        </div>
        <p class="ntm sn">
          The values \(A\) through \(J\) are constants.
        </p>
        <p>
          Here are some examples of different types of quadric surfaces, along with their general equations.
        </p>
        <p class="bold large-text">
          Ellipsoid, \(\displaystyle\frac{x^2}{a^2} + \frac{y^2}{b^2} + \frac{z^2}{c^2} = 1\)
        </p>
        <img class="graph" src="images/quadric_ellipsoid.png">
        <p>
          Note: If \(a = b = c\), then the ellipsoid is a sphere.
        </p>
        <p class="bold large-text">
          Cone, \(\displaystyle\frac{x^2}{a^2} + \frac{y^2}{b^2} = \frac{z^2}{c^2}\)
        </p>
        <img class="graph" src="images/quadric_cone.png">
        <p class="bold large-text">
          Cylinder, \(\displaystyle\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1\)
        </p>
        <img class="graph" src="images/quadric_cylinder.png">
        <p class="bold large-text">
          Hyperboloid of One Sheet, \(\displaystyle\frac{x^2}{a^2} + \frac{y^2}{b^2} - \frac{z^2}{c^2} = 1\)
        </p>
        <img class="graph" src="images/quadric_hyperboloid_1.png">
        <p class="bold large-text">
          Hyperboloid of Two Sheets, \(\displaystyle-\frac{x^2}{a^2} - \frac{y^2}{b^2} + \frac{z^2}{c^2} = 1\)
        </p>
        <img class="graph" src="images/quadric_hyperboloid_2.png">
        <p class="bold large-text">
          Elliptic Paraboloid, \(\displaystyle\frac{x^2}{a^2} + \frac{y^2}{b^2} = \frac{z}{c}\)
        </p>
        <img class="graph" src="images/quadric_elliptic_paraboloid.png">
        <p class="bold large-text">
          Hyperbolic Paraboloid, \(\displaystyle\frac{x^2}{a^2} - \frac{y^2}{b^2} = \frac{z}{c}\)
        </p>
        <img class="graph" src="images/quadric_hyperbolic_paraboloid.png">
        <p><a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.desmos.com/3d/fhvnums8p3">Explore these quadric surfaces on Desmos!</a></p>
      </div>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Unit 2 -->
  <div class="unit" id="unit2Unit">
    <h2 id="unit2Header">
      <span onclick="showHideUnit('unit2')"><span class="gray">Unit 2:</span> Vector-Valued Functions</span>
      <button id="unit2Button" onclick="showHideUnit('unit2')">Show</button>
    </h2>
    <div class="hidden-by-default" id="unit2">
      <div>
        <button class="large-button" onclick="toggleAllSections('unit2', 'show')">Show All Sections</button>
        <div class="button-spacing"></div>
        <button class="large-button" onclick="toggleAllSections('unit2', 'hide')">Hide All Sections</button>
      </div>
      <p>
        Unit 9 of <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/calc/">unnamed calc website</a> covers the basics of vector-valued functions as well as differentiation and integration of vector-valued functions, so I won’t be including them here.
      </p>
      <h3 class="section-header" id="tangentNormalVectorsHeader">
        Tangent and Normal Vectors <button id="tangentNormalVectorsButton" onclick="showHide('tangentNormalVectors')">Show</button>
      </h3>
      <div class="hidden-by-default" id="tangentNormalVectors">
        <p class="nbm">
          When we differentiate a vector-valued function \(\mathbf{r}(t)\), we get another vector-valued function \(\mathbf{v}(t)\) that tells us the velocity vector at any time \(t\). This vector is tangent to the curve traced out by \(\mathbf{r}(t)\), so it’s also known as a <strong>tangent vector</strong>.
        </p>
        <div class="mj">
          \[ \mathbf{v}(t) = \mathbf{r}'(t) \]
        </div>
        <p class="ntm sn">
          Note that the magnitude of \(\mathbf{r}'(t)\) must be nonzero for it to be a tangent vector, because otherwise it wouldn’t have a direction.
        </p>
        <p class="nbm">
          Sometimes we are interested in the <strong>unit tangent vector</strong> to a curve, which is the tangent vector of length 1. To find this unit tangent vector, we simply take the velocity/tangent vector and divide it by its magnitude.
        </p>
        <div class="mj">
          \[ \mathbf{T}(t) = \frac{\mathbf{v}(t)}{||\mathbf{v}(t)||} = \frac{\mathbf{r}'(t)}{||\mathbf{r}'(t)||} \]
        </div>
        <p class="ntm">
          Sometimes we also want to find a normal vector to a curve, or a vector that is perpendicular to the curve. It turns out there is a straightforward way to generate a normal vector: just differentiate the unit tangent vector function (i.e. \(\mathbf{T}'(t)\) will always be a normal vector, provided \(||\mathbf{T}'(t)|| \ne 0\)).
        </p>
        <p class="nbm">
          If we want to get a <strong>unit normal vector</strong>, a normal vector of length 1, then we divide by the normal vector’s magnitude.
        </p>
        <div class="mj">
          \[ \mathbf{N}(t) = \frac{\mathbf{T}'(t)}{||\mathbf{T}'(t)||} \]
        </div>
        <p class="ntm">
          In two dimensions, there is an alternative way to find a unit normal vector that is usually simpler: take the unit tangent vector, swap the components, then make one of them negative. If you want to rotate counterclockwise, then you should make the first component negative after swapping, and if you want to rotate clockwise, you should make the second component negative. 
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the unit tangent and unit normal vectors to the parametric curve defined by \(\mathbf{r}(t) = (t, t^2)\).
        </p>
        <p class="nbm">
          Let’s first find the tangent vector \(\mathbf{v}(t)\).
        </p>
        <div class="mj">
          \[ \mathbf{v}(t) = \mathbf{r}'(t) = (1, 2t) \]
        </div>
        <p class="nm">
          We then need to normalize this vector to get a unit tangent vector. We do this by dividing by the magnitude of \(\mathbf{v}(t)\).
        </p>
        <div class="mj">
          \[ ||\mathbf{v}(t)|| = \sqrt{1^2+(2t)^2} = \sqrt{4t^2+1}\]
          \[ \begin{flalign}
          \mathbf{T}(t) &= \frac{\mathbf{v}(t)}{||\mathbf{v}(t)||}\\
          &= \frac{(1, 2t)}{\sqrt{4t^2+1}}\\
          &= \left(\frac{1}{\sqrt{4t^2+1}}, \frac{2t}{\sqrt{4t^2+1}}\right)
          \end{flalign}\]
        </div>
        <p class="nm">
          To find the unit normal vector \(\mathbf{N}(t)\) the standard way, we first need to differentiate \(\mathbf{T}(t)\) and find the magnitude of \(\mathbf{T}'(t)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{T}'(t) &= \left(\dv{t}\left[\frac{1}{\sqrt{4t^2+1}}\right], \dv{t}\left[\frac{2t}{\sqrt{4t^2+1}}\right]\right)\\
          &= \left(-\frac{4t}{(4t^2+1)^{3/2}}, \frac{2}{(4t^2+1)^{3/2}}\right)
          \end{flalign}\]
          \[ \begin{flalign}
          ||\mathbf{T}'(t)|| &= \sqrt{\left(-\frac{4t}{(4t^2+1)^{3/2}}\right)^2 + \left(\frac{2}{(4t^2+1)^{3/2}}\right)^2}\\
          &= \sqrt{\frac{16t^2}{(4t^2+1)^3} + \frac{4}{(4t^2+1)^3}}\\
          &= \sqrt{\frac{16t^2+4}{(4t^2+1)^3}}\\
          &= \frac{\sqrt{16t^2+4}}{(4t^2+1)^{3/2}}\\
          &= \frac{2\sqrt{4t^2+1}}{(4t^2+1)^{3/2}}\\
          &= \frac{2}{4t^2+1}
          \end{flalign}\]
        </div>
        <p class="nm">
          By dividing \(\mathbf{T}'(t)\) by its magnitude, we can get the unit normal vector \(\mathbf{N}(t)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{N}(t) &= \frac{\mathbf{T}'(t)}{||\mathbf{T}'(t)||}\\
          &= \frac{\left(-4t/(4t^2+1)^{3/2}, 2/(4t^2+1)^{3/2}\right)}{2/(4t^2+1)}\\
          &= \frac{4t^2+1}{2}\left(-\frac{4t}{(4t^2+1)^{3/2}}, \frac{2}{(4t^2+1)^{3/2}}\right)\\
          &= \left(-\frac{2t}{\sqrt{4t^2+1}}, \frac{1}{\sqrt{4t^2+1}}\right)
          \end{flalign} \]
        </div>
        <p class="ntm">
          Notice how the unit normal vector \(\mathbf{N}(t)\) is just the unit tangent vector \(\mathbf{T}(t)\) but with the components swapped and one of the components made negative. This is a much simpler way to find the unit normal vector if we’re working in 2D.
        </p>
        <img class="graph" src="images/tangent_normal_vectors.png">
        <p class="ntm sn">
          The unit tangent and unit normal vectors to the parametric curve \(\mathbf{r}(t) = (t, t^2)\) at \(t = 1\).
        </p>
      </div>
      <h3 class="section-header" id="vectorArcLengthHeader">
        Arc Length of Vector-Valued Functions <button id="vectorArcLengthButton" onclick="showHide('vectorArcLength')">Show</button>
      </h3>
      <div class="hidden-by-default" id="vectorArcLength">
        <p class="nbm">
          As a reminder, the arc length of a parametric curve defined by \(x(t)\) and \(y(t)\) from \(t = a\) to \(t = b\) in two dimensions is:
        </p>
        <div class="mj">
          \[ \int_a^b \sqrt{[x'(t)]^2 + [y'(t)]^2} \dd{t} \]
        </div>
        <p class="nm">
          In three dimensions, if we have the parametric functions \(x(t)\), \(y(t)\), and \(z(t)\), the formula becomes:
        </p>
        <div class="mj">
          \[ \int_a^b \sqrt{[x'(t)]^2 + [y'(t)]^2 + [z'(t)]^2} \dd{t} \]
        </div>
        <p class="nm">
          If we instead use a vector valued function to represent the curve by defining \(\mathbf{r}(t) = (x(t), y(t), z(t))\), then this inner term \(\sqrt{[x'(t)]^2 + [y'(t)]^2 + [z'(t)]^2}\) turns out to be the magnitude of \(\mathbf{r}'(t)\). So we can write the arc length equation as simply:
        </p>
        <div class="mj">
          \[ L = \int_a^b ||\mathbf{r}'(t)|| \dd{t} \]
        </div>
        <p class="ntm">
          One way to intuitively understand this formula is that \(||\mathbf{r}'(t)|| \dd{t}\) represents the distance traveled when you change \(t\) by a tiny amount (the length of a tiny step along the curve), and if you sum up the lengths of all the steps from \(t = a\) to \(t = b\) by integrating, you get the total distance traveled along the entire journey.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the arc length of the curve defined by the vector-valued function \(\mathbf{r}(t) = (\cos(t), \sin(t), t)\) from \(t = 0\) to \(t = 2\pi\).
        </p>
        <p class="nbm">
          Let’s find the velocity vector \(\mathbf{r}'(t)\) first:
        </p>
        <div class="mj">
          \[ \mathbf{r}'(t) = (-\sin(t), \cos(t), 1) \]
        </div>
        <p class="nm">
          And let’s find the magnitude of this velocity vector:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          ||\mathbf{r}'(t)|| &= \sqrt{[-\sin(t)]^2 + [\cos(t)]^2 + 1}\\
          &= \sqrt{\sin^2(t) + \cos^2(t) + 1}\\
          &= \sqrt{2}
          \end{flalign}\]
        </div>
        <p class="nm">
          Now, we can perform the final integral to find the total arc length:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          L &= \int_a^b ||\mathbf{r}'(t)|| \dd{t}\\
          &= \int_0^{2\pi}\sqrt{2}\dd{t}\\
          &= 2\pi\sqrt{2}
          \end{flalign} \]
        </div>
      </div>
      <h3 class="section-header" id="curvatureHeader">
        Curvature of Parametric Graphs <button id="curvatureButton" onclick="showHide('curvature')">Show</button>
      </h3>
      <div class="hidden-by-default" id="curvature">
        <p>
          When we have a parametric graph, we can measure how much the graph curves at a point by calculating its <strong>curvature</strong>.
        </p>
        <p>
          The curvature is equal to 1 divided by the radius of curvature at a point, which you can think of as being the radius of a circle that most closely fits the curve at a point.
        </p>
        <img class="graph" src="images/radius_of_curvature.png">
        <p class="ntm sn">
          The curvature at <span class="green">a point</span> on a parametric curve is equal to the reciprocal of the <span class="purple">radius</span> of a <span class="blue">circle that best fits</span> the curve.
        </p>
        <p>
          If this circle is small, then the graph is curving a lot at that point, and if the circle is large, then the graph is not curving very much. This is why curvature is the reciprocal of the radius of curvature.
        </p>
        <p class="nbm">
          The curvature \(\kappa\) (kappa) can also be defined as:
        </p>
        <div class="mj">
          \[ \kappa = \left|\left|\dv{\mathbf{T}}{s}\right|\right| \]
        </div>
        <p class="ntm">
          This is basically measuring how much the unit tangent vector to a curve changes with respect to arc length (not time!)
        </p>
        <p class="nbm">
          The previous formula is hard to deal with, so here are some alternate formulas:
        </p>
        <div class="mj">
          \[ \kappa = \frac{\displaystyle\left|\left|\dv{\mathbf{T}}{t}\right|\right|}{\displaystyle\left|\left|\dv{\mathbf{r}}{t}\right|\right|}\]
        </div>
        <p class="nm">
          If we have a parametric curve in two dimensions defined by \(x(t)\) and \(y(t)\), we can use this formula:
        </p>
        <div class="mj">
          \[ \kappa = \frac{|x'(t)y''(t) - y'(t)x''(t)|}{([x'(t)]^2 + [y'(t)]^2)^{3/2}}\]
        </div>
        <p class="nm">
          And if we have a parametric curve in three dimensions defined by \(\mathbf{r}(t)\), we can use this:
        </p>
        <div class="mj">
          \[ \kappa = \frac{||\mathbf{r}'(t) \times \mathbf{r}''(t)||}{||\mathbf{r}'(t)||^3}\]
        </div>
        <p class="ntm problem">
          <strong>Problem</strong>: Find the curvature at time \(t\) for the parametric curve defined by \(x(t) = t-\sin(t)\) and \(y(t) = 1-\cos(t)\). What is the curvature at \(t = \pi\)?
        </p>
        <p class="nbm">
          It’s easier for us to use the two-dimensional curvature formula in this case, so let’s use that.
        </p>
        <div class="mj">
          \[ \kappa = \frac{|x'(t)y''(t) - y'(t)x''(t)|}{([x'(t)]^2 + [y'(t)]^2)^{3/2}}\]
        </div>
        <p class="nm">
          First, we need to find the first and second derivatives of \(x(t)\) and \(y(t)\).
        </p>
        <div class="mj">
          \[ x'(t) = 1-\cos(t) \]
          \[ x''(t) = \sin(t) \]
          \[ y'(t) = \sin(t) \]
          \[ y''(t) = \cos(t) \]
        </div>
        <p class="nm">
          Now we can plug in these values into the formula:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \kappa &= \frac{|[1-\cos(t)]\cos(t) - \sin(t)\sin(t)|}{([1-\cos(t)]^2 + [\sin(t)]^2)^{3/2}}\\
          &= \frac{|\cos(t) - \cos^2(t) - \sin^2(t)|}{(1 - 2\cos(t) + \cos^2(t) + \sin^2(t))^{3/2}}\\
          &= \frac{|\cos(t) - [\cos^2(t) + \sin^2(t)]|}{(2 - 2\cos(t))^{3/2}}\\
          &= \frac{|\cos(t) - 1|}{(2 - 2\cos(t))^{3/2}}\\
          &= \frac{1 - \cos(t)}{(2 - 2\cos(t))^{3/2}} \quad (\text{since }\cos(t)-1\text{ is never positive})
          \end{flalign}\]
        </div>
        <p class="nm">
          The curvature at \(t = \pi\) is equal to:
        </p>
        <div class="mj">
          \[ \frac{1-\cos(\pi)}{(2-2\cos(\pi))^{3/2}} = \frac{2}{4^{3/2}} = \frac{1}{4}\]
        </div>
        <p class="ntm">
          This means the radius of curvature at \(t = \pi\) is 4.
        </p>
        <img class="graph" src="images/radius_of_curvature_2.png">
        <p class="ntm sn">
          The curvature of the parametric graph defined by \(x(t) = t - \sin(t)\) and \(y(t) = 1-\cos(t)\) at \(t = \pi\) is \(\frac{1}{4}\), meaning that the radius of curvature is 4, as shown in the above diagram.
        </p>
      </div>
      <h3 class="section-header" id="accelerationHeader">
        Tangential and Normal Components of Acceleration <button id="accelerationButton" onclick="showHide('acceleration')">Show</button>
      </h3>
      <div class="hidden-by-default" id="acceleration">
        <p>
          We can find the acceleration of a particle moving in space by finding the second derivative of its position. If a particle’s position at time \(t\) is described by the function \(\mathbf{r}(t)\), then its acceleration at time \(t\) is \(\mathbf{a}(t) = \mathbf{r}''(t)\).
        </p>
        <p>
          We can further break down this acceleration into its tangential and normal components. The <strong>tangential component</strong> \(a_T\) of acceleration tells us the part of the particle’s acceleration that is tangent to the path the particle is traveling along. The <strong>normal component</strong> \(a_N\) of acceleration tells us the portion of acceleration that is normal to the path. Note that \(a_T\) and \(a_N\) are both scalar values.
        </p>
        <p>
          We can write the particle’s overall acceleration \(\mathbf{a}(t)\) as \(a_T \mathbf{T}(t) + a_N \mathbf{N}(t)\), where \(\mathbf{T}(t)\) is the particle’s unit tangent vector and \(\mathbf{N}(t)\) is the particle’s unit normal vector.
        </p>
        <p class="nbm">
          The tangential component of acceleration \(a_T\) can be defined as the rate of change of the magnitude of the particle’s velocity:
        </p>
        <div class="mj">
          \[ a_T = \dv{t}||\mathbf{v}(t)|| = \dv{t}||\mathbf{r}'(t)|| \]
        </div>
        <p class="nm">
          The tangential component can also be calculated as follows:
        </p>
        <div class="mj">
          \[ a_T = \mathbf{a}(t) \cdot \mathbf{T}(t) = \frac{\mathbf{r}'(t) \cdot \mathbf{r}''(t)}{||\mathbf{r}'(t)||}\]
        </div>
        <p class="ntm sn">
          \(\mathbf{T}(t)\) is the unit tangent vector at time \(t\).
        </p>
        <p class="nm">
          The normal component of acceleration can be calculated with this formula:
        </p>
        <div class="mj">
          \[ a_N = \mathbf{a}(t) \cdot \mathbf{N}(t) = \frac{||\mathbf{r}'(t) \times \mathbf{r}''(t)||}{||\mathbf{r}'(t)||} \]
        </div>
        <p class="nm">
          Alternatively, the normal component can be calculated like this:
        </p>
        <div class="mj">
          \[ a_N = \sqrt{||\mathbf{a}(t)||^2 - a_T^2}\]
        </div>
        <p class="ntm sn">
          \(\mathbf{N}(t)\) is the unit normal vector at time \(t\).
        </p>
        <p class="ntm problem">
          <strong>Problem</strong>: Find the tangential and normal components of acceleration for a particle whose position is given by the function \(\mathbf{r}(t) = (t^3, t^2, t)\).
        </p>
        <p class="nbm">
          We first need to find the velocity and acceleration vectors:
        </p>
        <div class="mj">
          \[ \mathbf{r}'(t) = (3t^2, 2t, 1) \]
          \[ \mathbf{r}''(t) = (6t, 2, 0) \]
        </div>
        <p class="nm">
          Now let’s find the magnitude of the velocity vector, since we’ll need it to calculate both the tangential and normal components:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          ||\mathbf{r}'(t)|| &= \sqrt{(3t^2)^2 + (2t)^2 + 1^2} \\
          &= \sqrt{9t^4 + 4t^2 + 1}
          \end{flalign}\]
        </div>
        <p class="nm">
          Now we’re ready to calculate the tangential component:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          a_T &= \frac{\mathbf{r}'(t) \cdot \mathbf{r}''(t)}{||\mathbf{r}'(t)||}\\
          &= \frac{(3t^2, 2t, 1) \cdot (6t, 2, 0)}{\sqrt{9t^4 + 4t^2 + 1}}\\
          &= \frac{18t^3 + 4t}{\sqrt{9t^4 + 4t^2 + 1}}\\
          \end{flalign}\]
        </div>
        <p class="nm">
          To calculate the normal component, we’re going to need the cross product of the velocity vector and acceleration vector:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \mathbf{r}'(t) \times \mathbf{r}''(t) &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          3t^2 & 2t & 1\\
          6t & 2 & 0
          \end{bmatrix}\\
          &= -2\mathbf{i} - (-6t)\mathbf{j} + (6t^2 - 12t^2)\mathbf{k}\\
          &= (-2, 6t, -6t^2)
          \end{flalign}\]
        </div>
        <p class="nm">
          Now we need the magnitude of this cross product:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          ||\mathbf{r}'(t) \times \mathbf{r}''(t)|| &= \sqrt{(-2)^2 + (6t)^2 + (-6t^2)^2}\\
          &= \sqrt{4 + 36t^2 + 36t^4}
          \end{flalign}\]
        </div>
        <p class="nm">
          We can put this all together to find the normal component of acceleration:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          a_N &= \frac{||\mathbf{r}'(t) \times \mathbf{r}''(t)||}{||\mathbf{r}'(t)||}\\
          &= \frac{\sqrt{4 + 36t^2 + 36t^4}}{\sqrt{9t^4 + 4t^2 + 1}}\\
          &= \frac{2\sqrt{9t^4 + 9t^2 + 1}}{\sqrt{9t^4 + 4t^2 + 1}}
          \end{flalign}\]
        </div>
      </div>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Unit 3 -->
  <div class="unit" id="unit3Unit">
    <h2 id="unit3Header">
      <span onclick="showHideUnit('unit3')"><span class="gray">Unit 3:</span> Multivariable Derivatives</span>
      <button id="unit3Button" onclick="showHideUnit('unit3')">Show</button>
    </h2>
    <div class="hidden-by-default" id="unit3">
      <div>
        <button class="large-button" onclick="toggleAllSections('unit3', 'show')">Show All Sections</button>
        <div class="button-spacing"></div>
        <button class="large-button" onclick="toggleAllSections('unit3', 'hide')">Hide All Sections</button>
      </div>
      <h3 class="section-header" id="multivarFuncHeader">
        Functions of Multiple Variables <button id="multivarFuncButton" onclick="showHide('multivarFunc')">Show</button>
      </h3>
      <div class="hidden-by-default" id="multivarFunc">
        <p class="large-text bold">What is a multivariable function?</p>
        <p>
          Up until now, you’ve likely only studied functions with one input, such as \(f(x) = x^2\). However, in multivariable calculus, we study functions with multiple inputs, such as \(f(x, y) = x^2 + y^2\).
        </p>
        <p>
          Functions of a single variable take a single input and perform some operations on it to turn it into a different number. 
        </p>
        <div>
          <hr>
          <p>
            Here’s an example of a single-variable function. Use the slider to control the value of the input \(x\).
          </p>
          <p>
            \(f(x) = x^2\)
          </p>
          <p>
            <input id="multivarFunc1Slider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(x =\) <span id="multivarFunc1Val1" class="output-value"></span>
          </p>
          <p>
            \(f(x) \approx\) <span id="multivarFunc1Val2" class="output-value"></span>
          </p>
          <hr>
        </div>
        <p>
          However, functions of multiple variables (also known as multivariable functions) take in multiple inputs and perform operations on them to produce a single output number.
        </p>
        <div>
          <hr>
          <p>
            Here’s an example of a function of two variables. Use the sliders to control the value of the two inputs \(x\) and \(y\).
          </p>
          <p>
            \(f(x, y) = x^2 + y^2\)
          </p>
          <p>
            <input id="multivarFunc2XSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(x =\) <span id="multivarFunc2XVal" class="output-value"></span>
          </p>
          <p>
            <input id="multivarFunc2YSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(y =\) <span id="multivarFunc2YVal" class="output-value"></span>
          </p>
          <p>
            \(f(x, y) \approx\) <span id="multivarFunc2Val" class="output-value"></span>
          </p>
          <hr>
        </div>
        <p>
          Multivariable functions can have more than two inputs. For example, here’s one with three variables:
        </p>
        <div>
          <hr>
          <p>
            \(f(x, y, z) = x^2 + y^2 + z^2\)
          </p>
          <p>
            <input id="multivarFunc3XSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(x =\) <span id="multivarFunc3XVal" class="output-value"></span>
          </p>
          <p>
            <input id="multivarFunc3YSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(y =\) <span id="multivarFunc3YVal" class="output-value"></span>
          </p>
          <p>
            <input id="multivarFunc3ZSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(z =\) <span id="multivarFunc3ZVal" class="output-value"></span>
          </p>
          <p>
            \(f(x, y, z) \approx\) <span id="multivarFunc3Val" class="output-value"></span>
          </p>
          <hr>
        </div>
        <p class="large-text bold">Graphing multivariable functions</p>
        <p>
          Now let’s move on to graphing functions of two variables. Let’s review how we graph functions of a single variable, such as \(f(x) = x^2\). One way we can do so is by making a table of values for \(x\) and \(f(x)\). Each row in the table corresponds to a point \((x, f(x))\).
        </p>
        <table>
          <tr>
            <th>\(x\)</th>
            <th>\(f(x)\)</th>
            <th>\((x, f(x))\)</th>
          </tr>
          <tr>
            <td>-2</td>
            <td>4</td>
            <td>(-2, 4)</td>
          </tr>
          <tr>
            <td>-1</td>
            <td>1</td>
            <td>(-1, 1)</td>
          </tr>
          <tr>
            <td>0</td>
            <td>0</td>
            <td>(0, 0)</td>
          </tr>
          <tr>
            <td>1</td>
            <td>1</td>
            <td>(1, 1)</td>
          </tr>
          <tr>
            <td>2</td>
            <td>4</td>
            <td>(2, 4)</td>
          </tr>
        </table>
        <p>
          We can graph the function by plotting these points.
        </p>
        <img class="graph" src="images/2d_graph_points.png">
        <p>
          As we plot more points, the graph becomes a smooth curve. You can imagine the graph of the function as all possible points of the form \((x, f(x)\)).
        </p>
        <img class="graph" src="images/2d_graph_points_2.png">
        <p>
          The equation of this line is \(y = x^2\). Notice how this is the same as the function definition \(f(x) = x^2\), except we’ve replaced \(f(x)\) with \(y\). This is because when we’re graphing a single-variable function in 2D, we use the \(y\)-axis to represent the output values of the function (i.e. the values that \(f(x)\) takes on for all \(x\)-values).
        </p>
        <p>
          We can do something similar for a function of two variables, such as \(f(x, y) = x^2 + y^2\). This time, instead of plotting the points \((x, f(x))\), we’re going to plot the points \((x, y, f(x, y))\). Since we now have two inputs to our function, we need the first two coordinates to correspond to our inputs, and the third coordinate to correspond to the output.
        </p>
        <table>
          <tr>
            <th>\(x\)</th>
            <th>\(y\)</th>
            <th>\(f(x, y)\)</th>
            <th>\((x, y, f(x, y))\)</th>
          </tr>
          <tr>
            <td>-1</td>
            <td>-1</td>
            <td>2</td>
            <td>(-1, -1, 2)</td>
          </tr>
          <tr>
            <td>0</td>
            <td>-1</td>
            <td>1</td>
            <td>(0, -1, 1)</td>
          </tr>
          <tr>
            <td>1</td>
            <td>-1</td>
            <td>2</td>
            <td>(1, -1, 2)</td>
          </tr>
          <tr>
            <td>-1</td>
            <td>0</td>
            <td>1</td>
            <td>(-1, 0, 1)</td>
          </tr>
          <tr>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>(0, 0, 0)</td>
          </tr>
          <tr>
            <td>1</td>
            <td>0</td>
            <td>1</td>
            <td>(1, 0, 1)</td>
          </tr>
          <tr>
            <td>-1</td>
            <td>1</td>
            <td>2</td>
            <td>(-1, 1, 2)</td>
          </tr>
          <tr>
            <td>0</td>
            <td>1</td>
            <td>1</td>
            <td>(0, 1, 1)</td>
          </tr>
          <tr>
            <td>1</td>
            <td>1</td>
            <td>2</td>
            <td>(1, 1, 2)</td>
          </tr>
        </table>
        <p>
          This is the result of graphing these points:
        </p>
        <img class="graph" src="images/3d_graph_points.png">
        <p>
          If we graph all possible points of the form \((x, y, f(x, y))\), we get the 3D graph of the function:
        </p>
        <img class="graph" src="images/3d_graph_points_2.png">
        <p>
          The equation of this graph is \(z = x^2 + y^2\), which is the same as the function definition \(f(x, y) = x^2 + y^2\) except that \(f(x, y)\) is replaced with \(z\). That’s because for functions of 2 variables, we use the \(z\)-axis to represent the possible output values of the function, with the \(x\)- and \(y\)-axis being used to represent each input variable of the function.
        </p>
        <p>
          Graphing functions of 3 or more variables takes at least 4 dimensions this way, so we’re not going to be graphing these types of functions like this.
        </p>
      </div>
      <h3 class="section-header" id="contourHeader">
        Contour Maps, Level Curves, and Level Surfaces <button id="contourButton" onclick="showHide('contour')">Show</button>
      </h3>
      <div class="hidden-by-default" id="contour">
        <p>
          Contour maps are an alternative to graphing functions of two variables. Instead of using three dimensions to graph both the inputs and outputs of the function, we use two dimensions and graph all input points that result in a certain output.
        </p>
        <p>
          This will make more sense with an example. Here’s how we would create a contour map for the function \(f(x, y) = x^2 + y^2\).
        </p>
        <p>
          First, we graph all of the input points that result in \(f(x, y)\) having a certain value (let’s say 1). Here’s what that looks like:
        </p>
        <img class="graph" src="images/contour_map_1.png">
        <p class="ntm sn">
          These are all of the input points \((x, y)\) which will cause \(f(x, y) = x^2 + y^2\) to equal 1. This is just the graph of \(x^2 + y^2 = 1\).
        </p>
        <p>
          A curve like this is known as a <strong>level curve</strong>, <strong>contour line</strong>, or <strong>contour curve</strong>.
        </p>
        <p>
          Now let’s do the same, but with a different value. Here’s what the graph looks like after adding the level curve for \(f(x, y) = 2\):
        </p>
        <img class="graph" src="images/contour_map_2.png">
        <p class="ntm sn">
          We’ve added the input points \((x, y)\) which will cause \(f(x, y) = x^2 + y^2\) to equal 2.
        </p>
        <p>
          We can continue to add these level curves. Here’s the result after adding a few more level curves:
        </p>
        <img class="graph" src="images/contour_map.png">
        <p>
          This is just one of the possible contour maps we can create for the function \(f(x, y) = x^2 + y^2\). We can create different contour maps using different level curves. For example, here’s a contour map, this time going by intervals of 2 (so we have level curves for \(f(x, y) = 2\), \(f(x, y) = 4\), etc.)
        </p>
        <img class="graph" src="images/contour_map_3.png">
        <p>
          The three-dimensional equivalent of a level curve is a <strong>level surface</strong>. It represents all points \((x, y, z)\) in 3D space where a function of three variables \(f(x, y, z)\) equals a constant \(c\). Here are some examples:
        </p>
        <img class="graph" src="images/level_surface_1.png">
        <p class="ntm sn">
          The level surface for \(f(x) = x + y + z = 1\).
        </p>
        <img class="graph" src="images/level_surface_2.png">
        <p class="ntm sn">
          The level surface for \(f(x) = x^2yz^3 = 4\).
        </p>
      </div>
      <h3 class="section-header" id="partialDiffHeader">
        Intro to Partial Derivatives <button id="partialDiffButton" onclick="showHide('partialDiff')">Show</button>
      </h3>
      <div class="hidden-by-default" id="partialDiff">
        <p>
          Recall that a derivative tells you the rate of change of a function as you change its input. But so far, we’ve only worked with functions that take in one variable as input, like \(f(x) = x^2\). Can we still find derivatives for functions with inputs of multiple variables, like \(f(x, y) = x^2y\)? 
        </p>
        <p>
          The answer is yes, and to do so, we’ll have to use partial derivatives. A <strong>partial derivative</strong> tells you how a function of multiple variables changes as you change one of the variables.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the partial derivative with respect to \(x\) of the function \(f(x, y) = x^2y\).
        </p>
        <p>
          We want to find how this function’s value changes as we change \(x\), so let’s keep \(y\) constant. What if we keep \(y\) at a constant value of 2?
        </p>
        <p>
          Notice that if we fix \(y\) at a value of 2, our function essentially becomes \(f(x) = 2x^2\). We have a function of one variable now, so we can differentiate it as we normally would.
        </p>
        <p>
          In this case, the derivative with respect to \(x\) is \(4x\). What this means is that when we keep \(y\) at a constant value of 2, as we change \(x\), the expression \(4x\) will tell us the rate of change of the function’s value.
        </p>
        <div>
          <hr>
          <p>
            If we keep \(y\) fixed at 2, what happens to the function’s value as we change \(x\)?
          </p>
          <p>
            <input id="partialDiffXSlider" class="slider" type="range" max="1" step="any" value="0" oninput="updateSliders()">
          </p>
          <p>
            \(f(x, y) = x^2y\)
          </p>
          <p>
            \(x =\) <span id="partialDiffXVal1" class="output-value"></span>
          </p>
          <p>
            \(f(x, 2)\) = <span id="partialDiffXVal2" class="output-value"></span>
          </p>
          <p>
            Partial derivative (rate of change) with respect to \(x\): <span id="partialDiffXDerivative" class="output-value"></span>
          </p>
          <hr>
        </div>
        <p>
          But what if \(y\) wasn’t fixed at 2, but another value? Let’s say that we fixed the value \(y\) at an arbitrary constant \(c\).
        </p>
        <p>
          Doing this means our function becomes \(f(x) = cx^2\) (we got this by replacing \(y\) in our original function \(f(x,y) = x^2y\) with \(c\)). Differentiating this with respect to \(x\), treating \(c\) as a constant, gives us the expression \(2cx\).
        </p>
        <p>
          This means that whatever constant \(c\) we set \(y\) to, as we change \(x\), the function’s value changes at a rate of \(2cx\).
        </p>
        <p>
          When we find expressions for partial derivatives, we don’t change \(y\) to \(c\), so the partial derivative with respect to \(x\) would actually be written as \(2xy\).
        </p>
        <p class="nbm">
          Here are two of the ways to denote this partial derivative:
        </p>
        <div class="mj">
          \[ \pdv{x}f(x, y) = 2xy \]
          \[ f_x\,(x, y) = 2xy \]
        </div>
        <p class="ntm">
          What this is saying is that if we keep \(y\) fixed at a value and change \(x\), the rate of change of \(f(x, y)\) is equal to \(2x\) times whatever value we kept \(y\) at.
        </p>
        <p class="nbm">
          A faster way we could have found this partial derivative is to treat \(y\) as a constant and differentiate with respect to \(x\).
        </p>
        <div class="mj">
          \[ f(x, y) = x^2y \]
          \[ f_x\,(x, y) = 2xy \]
        </div>
        <p class="ntm sn">
          Here, we treat \(y\) as a constant, so we don’t need to use the product rule.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the partial derivative with respect to \(y\) of the function \(f(x, y) = x^2y\).
        </p>
        <p class="nbm">
          To find the partial derivative with respect to \(y\), we treat \(x\) as a constant and differentiate with respect to \(y\):
        </p>
        <div class="mj">
          \[ f(x, y) = x^2y \]
          \[ f_y\,(x, y) = x^2 \]
        </div>
        <div>
          <hr>
          <p>
            Now we’re keeping \(x\) fixed at 2 and changing \(y\). What is the rate of change of the function as we change \(y\)?
          </p>
          <p>
            <input id="partialDiffYSlider" class="slider" type="range" max="1" step="any" value="0" oninput="updateSliders()">
          </p>
          <p>
            \(f(x, y) = x^2y\)
          </p>
          <p>
            \(y =\) <span id="partialDiffYVal1" class="output-value"></span>
          </p>
          <p>
            \(f(2, y)\) = <span id="partialDiffYVal2" class="output-value"></span>
          </p>
          <p>
            Partial derivative (rate of change) with respect to \(y\): <span id="partialDiffYDerivative" class="output-value"></span>
          </p>
          <p class="ntm sn">
            Notice how the rate of change stays fixed at 4. This makes sense because the partial derivative of \(f(x, y)\) with respect to \(y\) is \(x^2\), and because we’re keeping \(x\) fixed at 2, in this case the rate of change is \(2^2 = 4\).
          </p>
          <hr>
        </div>
        <p>
          Since we’re going to be finding a lot of partial derivatives in multivariable calculus, let’s do some more examples.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the partial derivatives of \(f(x, y) = x^2\sin(y)\).
        </p>
        <p class="medium-text bold">
          The partial derivative with respect to \(x\)
        </p>
        <p class="nbm">
          To find the partial derivative with respect to \(x\), we treat \(y\) as a constant. Because of this, \(\sin(y)\) is a constant, and so we don’t need to use the product rule. We can simply differentiate \(x^2\) with respect to \(x\) to get \(2x\), then multiply our result by \(\sin(y)\) (which we are treating as a constant).
        </p>
        <div class="mj">
          \[ f(x, y) = x^2\sin(y) \]
          \[ f_x(x, y) = 2x\sin(y) \]
        </div>
        <p class="ntm sn">
          Notice how we’re not differentiating \(\sin(y)\) with respect to \(y\), since we treat it as a constant when we’re finding the partial derivative with respect to \(x\).
        </p>
        <p class="ntm medium-text bold">
          The partial derivative with respect to \(y\)
        </p>
        <p class="nbm">
          To find the partial derivative with respect to \(y\), we treat \(x\) as a constant, and so we can also treat \(x^2\) as a constant. So we differentiate \(\sin(y)\) with respect to \(y\), then multiply by \(x^2\).
        </p>
        <div class="mj">
          \[ f(x, y) = x^2\sin(y) \]
          \[ f_y(x, y) = x^2\cos(y) \]
        </div>
        <p class="ntm sn">
          Notice how we’re not differentiating \(x^2\) with respect to \(x\), since we treat it as a constant when we’re finding the partial derivative with respect to \(y\).
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the partial derivatives of \(f(x, y) = \displaystyle\frac{x^3}{x + \ln(y)}\).
        </p>
        <p class="medium-text bold">
          The partial derivative with respect to \(x\)
        </p>
        <p class="nbm">
          Here, we still have to use the quotient rule even if we treat \(y\) as a constant. When you do use the quotient rule, remember to treat \(y\) as a constant (so for example, the derivative of \(x + \ln(y)\) with respect to \(x\) is simply 1).
        </p>
        <div class="mj">
          \[ f(x, y) = \frac{x^3}{x + \ln(y)} \]
          \[ \begin{flalign}
          f_x(x, y) &= \frac{3x^2[x+\ln(y)] - x^3(1)}{[x + \ln(y)]^2}\\
          &= \frac{3x^3 + 3x^2 \ln(y) - x^3}{[x + \ln(y)]^2}\\
          &= \frac{2x^3 + 3x^2 \ln(y)}{[x + \ln(y)]^2}
          \end{flalign} \]
        </div>
        <p class="ntm medium-text bold">
          The partial derivative with respect to \(y\)
        </p>
        <p class="nbm">
          We’re now going to use the quotient rule again, but this time we’re treating \(x\) as a constant.
        </p>
        <div class="mj">
          \[ f(x, y) = \frac{x^3}{x + \ln(y)} \]
          \[ \begin{flalign}
          f_y(x, y) &= \frac{x^3}{x + \ln(y)}\\
          &= \frac{0[x+\ln(y)] - x^3(1/y)}{[x + \ln(y)]^2}\\
          &= \frac{-\frac{x^3}{y}}{[x + \ln(y)]^2}\\
          &= -\frac{x^3}{y[x + \ln(y)]^2}\\
          \end{flalign} \]
        </div>
        <p class="ntm bold large-text">
          Interpretations of partial derivatives
        </p>
        <p>
          I’m going to go over a few different ways you can interpret a partial derivative now. Let’s start with an example.
        </p>
        <p class="problem">
          <strong>Problem</strong>: How can we interpret the partial derivatives of \(f(x, y) = x^2y\) at the point \((1, 2)\)?
        </p>
        <p class="medium-text bold">
          The partial derivative with respect to \(x\)
        </p>
        <p>
          We found that the partial derivative of \(f(x, y) = x^2y\) with respect to \(x\) is \(2xy\), so if we keep \(y\) fixed at 2, the partial derivative is equal to \(4x\). So at the point \((1, 2)\), the partial derivative with respect to \(x\) is equal to 4. 
        </p>
        <p>
          We can interpret this as saying that if we start at the point \((1, 2)\) and we change \(x\) ever so slightly, the value of the function \(f(x, y)\) changes by about 4 times the amount of change (i.e. the function increases at a rate of 4).
        </p>
        <p class="medium-text bold">
          The partial derivative with respect to \(y\)
        </p>
        <p>
          We found that the partial derivative of \(f(x, y) = x^2y\) with respect to \(y\) is \(x^2\), so if we keep \(x\) fixed at 1, the partial derivative is equal to 1. So at the point \((1, 2)\), the partial derivative with respect to \(y\) is equal to 1. 
        </p>
        <p>
          We can interpret this as saying that if we start at the point \((1, 2)\) and we change \(x\) by a tiny amount, the value of the function \(f(x, y)\) changes by about that amount (i.e. the function increases at a rate of 1).
        </p>
        <p>
          We can interpret a partial derivative as the slope of a trace of a function’s graph. A <strong>trace</strong> is the intersection of a 3D graph and a line that is parallel to either the \(x\)- or \(y\)-axis. 
        </p>
        <p>
          For example, here is the trace of the function \(f(x, y) = x^2y\) for \(y = 2\). You can think of this as either the intersection of the plane \(y = 2\) with the function’s graph, or all points on the function’s graph with a \(y\)-coordinate of 2.
        </p>
        <img class="graph" src="images/trace.png">
        <p>
          We found that the partial derivative of \(f(x, y)\) with respect to \(x\) is <span class="green">4</span> at the point \((\class{red}{1}, \class{blue}{2})\), i.e. as we increase \(x\), the function increases at a rate of <span class="green">4</span>. We can interpret this as saying that the trace of the function for \(y = \class{blue}{2}\) has a slope of <span class="green">4</span> at \(x = \class{red}{1}\).
        </p>
        <img class="graph" src="images/trace_tangent.png">
        <p class="ntm sn">
          The <span class="blue">trace</span> at \(y = 2\) has a slope of 4 at \(x = 1\), as shown by the <span class="purple">tangent line</span>.
        </p>
        <p>
          The partial derivative of \(f(x, y)\) with respect to \(y\) is <span class="green">1</span> at the point \((\class{red}{1}, \class{blue}{2})\), i.e. as we increase \(y\), the function increases at a rate of <span class="green">1</span>. We can interpret this as saying that the trace of the function for \(x = \class{red}{1}\) has a slope of <span class="green">1</span> at \(y = \class{blue}{2}\).
        </p>
        <img class="graph" src="images/trace_2.png">
        <p class="ntm sn">
          The <span class="blue">trace</span> at \(x = 1\) has a slope of 1 at \(y = 2\).
        </p>
      </div>
      <h3 class="section-header" id="tangentPlanesHeader">
        Partial Derivatives: Tangent Planes and Linear Approximations <button id="tangentPlanesButton" onclick="showHide('tangentPlanes')">Show</button>
      </h3>
      <div class="hidden-by-default" id="tangentPlanes">
        <p>
          With single-variable functions, we were able to use derivatives to find the tangent lines of functions, and these tangent lines served as linear approximations of functions.
        </p>
        <p>
          We can do something similar with functions of two variables. However, in 3D space, not only can we find tangent lines, we can also find tangent planes.
        </p>
        <p>
          Just like a tangent line just barely touches a graph at a single point, a tangent plane just barely touches a 3D graph at a single point.
        </p>
        <img class="graph" src="images/tangent_plane.png">
        <p>
          How can we find this tangent plane? Let’s say that our point is at the coordinates \((x_0, y_0)\). We can consider the traces of this graph for \(x = x_0\) and \(y = y_0\).
        </p>
        <img class="graph" src="images/tangent_plane_traces.png">
        <p class="ntm sn">
          These are the traces of the graph at \(\class{blue}{x = x_0}\) and \(\class{green}{y = y_0}\).
        </p>
        <p>
          Now let’s consider the tangent lines to these traces at \((x_0, y_0)\). As we saw in the previous section, the slopes of these tangent lines are the partial derivatives of \(f(x, y)\) at \((x_0, y_0)\).
        </p>
        <img class="graph" src="images/trace_tangents.png">
        <p class="ntm sn">
          These are the <span class="red">tangent lines</span> at \((x_0, y_0)\) to the traces of the graph at \(\class{blue}{x = x_0}\) and \(\class{green}{y = y_0}\).
        </p>
        <p>
          Specifically:
        </p>
        <ul>
          <li>The slope of the tangent line to the \(\class{green}{y = y_0}\) trace at \((x_0, y_0)\) is the partial derivative with respect to \(x\) evaluated at \(y = y_0\) (i.e. \(f_x(x_0, y_0)\))</li>
          <li>The slope of the tangent line to the \(\class{blue}{x = x_0}\) trace at \((x_0, y_0)\) is the partial derivative with respect to \(y\) evaluated at \(x = x_0\) (i.e. \(f_y(x_0, y_0)\))
          </li>
        </ul>
        <p>
          The tangent plane is the plane that contains both of these tangent lines.
        </p>
        <p class="nbm">
          To find the equation of this plane, we need to remember the equation of a plane in general:
        </p>
        <div class="mj">
          \[ a(x - x_0) + b(y - y_0) + c(z - z_0) = 0 \]
        </div>
        <p class="nm">
          Now let’s solve for \(z\):
        </p>
        <div class="mj">
          \[ c(z - z_0) = -a(x-x_0) - b(y-y_0) \]
          \[ z - z_0 = -\frac{a}{c}(x-x_0) - \frac{b}{c}(y-y_0) \]
          \[ z = z_0 -\frac{a}{c}(x-x_0) - \frac{b}{c}(y-y_0) \]
        </div>
        <p class="nm">
          Just to make things simpler, let’s replace the coefficients of \(x-x_0\) and \(y-y_0\) with \(A\) and \(B\) (i.e. \(A = -\frac{a}{c}\) and \(B = -\frac{b}{c}\)).
        </p>
        <div class="mj">
          \[ z = z_0 + A(x-x_0) + B(y-y_0) \]
        </div>
        <p class="ntm">
          Now we just need to find the values of \(A\) and \(B\).
        </p>
        <p>
          If we keep \(y\) fixed at \(y = y_0\), we are essentially just looking at points on the tangent plane where \(y = y_0\). This is just the tangent line to the trace at \(y = y_0\). The slope of this line is \(f_x(x_0, y_0)\).
        </p>
        <p>
          Therefore, the coefficient \(A\) has to be \(f_x(x_0, y_0)\).
        </p>
        <p>
          Similarly, if we keep \(x\) fixed at \(x = x_0\), we’re now looking at the tangent line to the trace at \(x = x_0\). The slope in this case is \(f_y(x_0, y_0)\). 
        </p>
        <p class="nbm">
          Therefore, the coefficient \(B\) has to be \(f_y(x_0, y_0)\). So the equation of the tangent plane is:
        </p>
        <div class="mj">
          \[ z = z_0 + f_x(x_0, y_0)(x-x_0) + f_y(x_0, y_0)(y-y_0) \]
        </div>
        <p class="nm">
          \(z_0\) is the \(z\)-coordinate of the point at \((x_0, y_0)\), which is given by \(f(x_0, y_0)\). So our final equation is:
        </p>
        <div class="mj">
          \[ z = f(x_0, y_0) + f_x(x_0, y_0)(x-x_0) + f_y(x_0, y_0)(y-y_0) \]
        </div>
        <p class="ntm">
          Let’s do an example problem now.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the tangent plane to \(f(x, y) = \sqrt{x} + \ln(y)\) at \((1, 1)\).
        </p>
        <p class="nbm">
          First, we need to find the partial derivatives of \(f\) with respect to \(x\) and \(y\).
        </p>
        <div class="mj">
          \[ f_x(x, y) = \frac{1}{2\sqrt{x}} \]
          \[ f_y(x, y) = \frac{1}{y} \]
        </div>
        <p class="nm">
          Now, we can use the equation of the tangent plane by plugging in the point \((1, 1)\) into \(f\) and its partial derivatives:
        </p>
        <div class="mj">
          \[ f(1, 1) = \sqrt{1} + \ln(1) = 1\]
          \[ f_x(1, 1) = \frac{1}{2\sqrt{1}} = \frac{1}{2}\]
          \[ f_y(1, 1) = \frac{1}{y} = 1\]
        </div>
        <p class="nm">
          Therefore, the equation of the tangent plane is:
        </p>
        <div class="mj">
          \[ z = \class{red}{f(x_0, y_0)} + \class{blue}{f_x(x_0, y_0)}(x-x_0) + \class{green}{f_y(x_0, y_0)}(y-y_0) \]
          \[ z = \class{red}{1} + \class{blue}{\frac{1}{2}}(x-1) + \class{green}{1}(y-1) \]
          \[ z = 1 + \frac{1}{2}(x-1) + (y-1) \]
        </div>
        <img class="graph" src="images/tangent_plane_2.png">
        <p class="ntm sn">
          A graph of the <span class="blue">tangent plane</span> to \(\class{red}{f(x, y) = \sqrt{x} + \ln(y)}\) at \(\class{green}{(1, 1)}\).
        </p>
        <p class="large-text bold">
          Tangent planes as linear approximations
        </p>
        <p>
          Tangent planes also serve as linear approximations of functions. In other words, you can use the tangent plane at a point to approximate the value of that function near that point.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Given that \(f(x,y) = \sqrt{x} + \ln(y)\), approximate \(f(1.1, 1.1)\) using a linear approximation at \((1, 1)\).
        </p>
        <p class="nbm">
          The linear approximation of \(f(x, y)\) at \((1, 1)\) is the tangent plane to the function at that point, which we found was \(z = 1 + \frac{1}{2}(x-1) + (y-1)\). So we just need to find the \(z\)-value of this tangent plane at \((1.1, 1.1)\).
        </p>
        <div class="mj">
          \[ z = 1 + \frac{1}{2}(x-1) + (y-1) \]
          \[ z = 1 + \frac{1}{2}(1.1-1) + (1.1-1) \]
          \[ z = 1 + 0.05 + 0.1 \]
          \[ z = 1.15 \]
        </div>
        <p class="ntm">
          So our approximation of \(f(1.1, 1.1) = \sqrt{1.1} + \ln(1.1)\) is 1.15. For reference, the actual value of \(f(1.1, 1.1)\) is about 1.144.
        </p>
        <div>
          <hr>
          <p>
            Experiment with the linear approximation to \(f(x, y) = \sqrt{x} + \ln(y)\) at \((1, 1)\). Use the sliders to control the values of \(x\) and \(y\). What happens to the function’s value and the linear approximation?
          </p>
          <p>
            <input id="linearApproxXSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(x =\) <span id="linearApproxXVal" class="output-value"></span>
          </p>
          <p>
            <input id="linearApproxYSlider" class="slider" type="range" max="1" step="any" value="0.5" oninput="updateSliders()">
          </p>
          <p>
            \(y =\) <span id="linearApproxYVal" class="output-value"></span>
          </p>
          <p>
            \(f(x, y) = \sqrt{x} + \ln(y) \approx\) <span id="linearApproxFuncVal" class="output-value"></span>
          </p>
          <p>
            Linear Approximation = \(1 + \frac{1}{2}(x-1) + (y-1) \approx\) <span id="linearApproxVal" class="output-value"></span>
          </p>
          <p class="ntm sn">
            The linear approximation is the \(z\)-value of the tangent plane at the point \((x, y)\).
          </p>
        </div>
      </div>
      <h3 class="section-header" id="multivarChainHeader">
        The Multivariable Chain Rule <button id="multivarChainButton" onclick="showHide('multivarChain')">Show</button>
      </h3>
      <div class="hidden-by-default" id="multivarChain">
        <p class="nbm">
          Just like how there is an extension of the derivative to multivariable functions, there is also an extension of the chain rule to multiple variables. Recall that the standard chain rule can be written in one of two ways:
        </p>
        <div class="mj">
          \[ \dv{x}f(g(x)) = f'(g(x))g'(x) \]
          \[ \dv{y}{t} = \dv{y}{x}\cdot \dv{x}{t} \]
        </div>
        <p class="ntm">
          In single-variable calculus, the chain rule is useful to differentiate composite functions of the form \(f(g(x))\). However, in the land of multivariable calculus, we can have functions that look like \(f(g(t), h(t))\). How can we differentiate these functions?
        </p>
        <p class="nbm">
          This is where the multivariable chain rule comes into play. In this case, if we have \(x = g(t)\), \(y = h(t)\), and \(z = f(g(t), h(t)) = f(x, y)\), the multivariable chain rule tells us that:
        </p>
        <div class="mj">
          \[ \dv{z}{t} = \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t}\]
        </div>
        <p class="ntm sn">
          Here, I’m using \(f\) as a shorthand for \(f(g(t), h(t))\).
        </p>
        <p class="ntm">
          This chain rule is useful when we have a function \(f\) of two variables with inputs \(g(t)\) and \(h(t)\) that are the outputs of two single-variable functions.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Let \(z = x^2 + y^3\), where \(x = \sin(t)\) and \(y = 3\ln(t)\). What is \(\displaystyle\dv{z}{t}\)?
        </p>
        <p class="nbm">
          You can think of the value of \(z\) as a function of two variables (i.e. \(z = f(x, y) = x^2 + y^3\)) with the variables \(x\) and \(y\) being functions of a third variable \(t\), so we can use the multivariable chain rule for this problem. We first need to find \(\pdv{f}{x}\), \(\pdv{f}{y}\), \(\dv{x}{t}\), and \(\dv{y}{t}\).
        </p>
        <div class="mj">
          \[ \pdv{f}{x} = 2x \]
          \[ \pdv{f}{y} = 2y \]
          \[ \dv{x}{t} = \cos(t) \]
          \[ \dv{y}{t} = \frac{3}{t} \]
        </div>
        <p class="nm">
          Now we can plug these values in:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dv{z}{t} &= \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t}\\
          &= 2x\cos(t) + 3y^2\left(\frac{3}{t}\right)\\
          &= 2x\cos(t) + \frac{9y^2}{t}\\
          &= 2\sin(t)\cos(t) + \frac{9[3\ln(t)]^2}{t}\\
          &= 2\sin(t)\cos(t) + \frac{81[\ln(t)]^2}{t}
          \end{flalign}\]
        </div>
        <p class="ntm">
          What does this derivative tell us? This tells us that as we change \(t\), the value of \(z = x^2 + y^3\) (where \(x = \sin(t)\) and \(y = 3\ln(t)\)) changes at a rate of \(2\sin(t)\cos(t) + \frac{81[\ln(t)]^2}{t}\). <span class="sn">(Note that we write \(\dv{z}{t}\) instead of \(\pdv{z}{t}\) because \(z\) isn’t directly defined using \(t\).)</span>
        </p>
        <p class="nbm">
          Note that there is another way to solve this problem using single-variable calculus: by plugging in the expressions for \(x\) and \(y\) into the expression for \(z\).
        </p>
        <div class="mj">
          \[ z = x^2 + y^3 \]
          \[ x = \sin(t) \]
          \[ y = 3\ln(t) \]
          \[ \begin{flalign}
          z &= \sin^2(t) + [3\ln(t)]^3\\
          &= \sin^2(t) + 27[\ln(t)]^3
          \end{flalign}\]
        </div>
        <p class="nm">
          Now we can differentiate this with respect to \(t\) directly using the standard chain rule.
        </p>
        <div class="mj">
          \[ \dv{z}{t} = 2\sin(t)\cos(t) + \frac{81[\ln(t)]^2}{t} \]
        </div>
        <p class="ntm">
          Both of these methods work, but one might be easier to use than the other (or you might simply prefer one over the other).
        </p>
        <p class="nbm">
          Now let’s look at a special case of this chain rule. If we have \(x = t\), \(y = g(t)\), and \(z = f(x, y) = f(t, g(t))\), then the chain rule becomes:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dv{z}{t} &= \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t}\\
          &= \pdv{f}{t}\cdot\dv{t}{t} + \pdv{f}{y}\cdot\dv{y}{t} \quad (\text{since }x=t)\\
          &= \pdv{f}{t} + \pdv{f}{y}\cdot\dv{y}{t}
          \end{flalign}\]
        </div>
        <p class="nm">
          Note that \(t\) here can really be any variable we want. So we can replace \(t\) with \(x\) to get:
        </p>
        <div class="mj">
          \[ \dv{z}{x} = \pdv{f}{x} + \pdv{f}{y}\cdot\dv{y}{x}\]
        </div>
        <p class="ntm">
          This form of the chain rule can be used when we have \(z = f(x, y)\) and \(y = g(x)\).
        </p>
        <p class="problem">
          <strong>Problem</strong>: If \(z = \sin(x) + \cos(y)\) and \(y = 4x^5 + \sqrt{x}\), then what is \(\dv{z}{x}\)?
        </p>
        <p class="nbm">
          You can think of \(z\) as being a function of two variables: \(z = f(x, y) = \sin(x) + \cos(y)\). However, notice that we don’t have the third variable \(t\) this time: instead, we just have \(y\) being defined in terms of \(x\). Therefore, we can use the special case of the multivariable chain rule we just found.
        </p>
        <p class="nbm">
          To use the formula, we need to find \(\pdv{f}{x}\), \(\pdv{f}{y}\), and \(\dv{y}{x}\). Let’s do that now:
        </p>
        <div class="mj">
          \[ \pdv{f}{x} = \cos(x) \]
          \[ \pdv{f}{y} = -\sin(y) \]
          \[ \dv{y}{x} = 20x^4 + \frac{1}{2\sqrt{x}} \]
        </div>
        <p class="nm">
          Now let’s plug these values in:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dv{z}{x} &= \pdv{f}{x} + \pdv{f}{y}\cdot\dv{y}{x} \\
          &= \cos(x) - \sin(y)\left[20x^4 + \frac{1}{2\sqrt{x}}\right]\\
          &= \cos(x) - 20x^4\sin(y) - \frac{\sin(y)}{2\sqrt{x}}\\
          &= \cos(x) - 20x^4\sin(4x^5 + \sqrt{x}) - \frac{\sin(4x^5 + \sqrt{x})}{2\sqrt{x}}\\
          \end{flalign}\]
        </div>
        <p class="ntm">
          We’re not done with the multivariable chain rule just yet. What if we have a situation like \(f(g(s, t), h(s, t))\), where we have a function \(f\) of two variables with inputs \(g(s, t)\) and \(h(s, t)\) that are both outputs of functions of two variables?
        </p>
        <p class="nbm">
          The multivariable chain rule in this case, where \(x = g(s, t)\), \(y = h(s, t)\), and \(z = f(x, y)\), is:
        </p>
        <div class="mj">
          \[ \dv{z}{s} = \pdv{z}{x} \cdot \pdv{x}{s} + \pdv{z}{y}\cdot\pdv{y}{s} \]
          \[ \dv{z}{t} = \pdv{z}{x} \cdot \pdv{x}{t} + \pdv{z}{y}\cdot\pdv{y}{t} \]
        </div>
        <p class="ntm sn">
          Notice that we can differentiate \(z\) with respect to either \(s\) or \(t\), so there are two possible chain rules.
        </p>
        <p class="nbm">
          We can also extend the multivariable chain rule to functions of three or more variables. For example, if \(w = f(x, y, z)\) with \(x\), \(y\), and \(z\) being functions of \(t\), then:
        </p>
        <div class="mj">
          \[ \dv{w}{t} = \pdv{w}{x}\cdot\dv{x}{t} + \pdv{w}{y}\cdot\dv{y}{t} + \pdv{w}{z}\cdot\dv{z}{t} \]
        </div>
      </div>
      <h3 class="section-header" id="implicitDiffHeader">
        Implicit Differentiation with Partial Derivatives <button id="implicitDiffButton" onclick="showHide('implicitDiff')">Show</button>
      </h3>
      <div class="hidden-by-default" id="implicitDiff">
        <p>
          We can use the multivariable chain rule to derive an alternative way to perform implicit differentiation. Let’s start off with how would we normally perform implicit differentiation using single-variable calculus.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Given that \(x^3 + y^4 = 2\), find \(\displaystyle\dv{y}{x}\) using implicit differentiation.
        </p>
        <p class="nbm">
          The way we would normally do this is by differentiating both sides, using the ordinary chain rule for the left-hand side, then solving for \(\dv{y}{x}\).
        </p>
        <div class="mj">
          \[ \dv{x}(x^3 + y^4) = \dv{x}(2) \]
          \[ 3x^2 + 4y^3\dv{y}{x} = 0 \]
          \[ 4y^3\dv{y}{x} = -3x^2 \]
          \[ \dv{y}{x} = -\frac{3x^2}{4y^3} \]
        </div>
        <p class="ntm">
          If you look very closely at this answer, you may notice a potential shortcut: \(3x^2\) is the partial derivative of \(x^3 + y^4\) with respect to \(x\), and \(4y^3\) is the partial derivative of \(x^3 + y^4\) with respect to \(y\).
        </p>
        <p>
          Using the multivariable chain rule, we can create this shortcut! Let’s say we have a relation in the form \(F(x, y) = c\), where \(c\) is a constant. <span class="sn">(In our problem, \(F(x, y) = x^3 + y^4\) and \(c = 2\).)</span> Here, \(y\) is a function of \(x\) (although we often can’t find an explicit formula for \(y\) in terms of \(x\)).
        </p>
        <p class="nbm">
          Remember this special case of the multivariable chain rule, which is applicable when \(z = f(x, y)\) and \(y = g(x)\) (which is the exact situation we have here: we have a function of two variables \(F(x, y)\) where \(y\) is a function of \(x\)):
        </p>
        <div class="mj">
          \[ \dv{z}{x} = \pdv{f}{x} + \pdv{f}{y}\cdot\dv{y}{x} \]
        </div>
        <p class="nm">
          Starting with \(F(x, y) = c\), let’s define \(z = F(x, y)\) and then differentiate both sides with respect to \(x\).
        </p>
        <div class="mj">
          \[ F(x, y) = c \]
          \[ z = c \]
          \[ \dv{z}{x} = \dv{x}(c) \]
          \[ \pdv{F}{x} + \pdv{F}{y}\dv{y}{x} = 0 \]
          \[ F_x + F_y\dv{y}{x} = 0 \]
          \[ \dv{y}{x} = -\frac{F_x}{F_y} \]
        </div>
        <p class="ntm sn">
          \(F_x\) is the partial derivative of \(F(x, y)\) with respect to \(x\) and \(F_y\) is the partial derivative of \(F(x, y)\) with respect to \(y\).
        </p>
        <p class="nbm">
          Here’s how we would find \(\dv{y}{x}\) for \(x^3 + y^4 = 2\) using this new formula. First, we find \(F_x\) and \(F_y\):
        </p>
        <div class="mj">
          \[ F(x, y) = x^3 + y^4 \]
          \[ F_x = 3x^2 \]
          \[ F_y = 4y^3 \]
        </div>
        <p class="nm">
          Here’s the result of plugging these values into the formula:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dv{y}{x} &= -\frac{F_x}{F_y} \\
          &= -\frac{3x^2}{4y^3}
          \end{flalign}\]
        </div>
        <p class="ntm">
          This is the same as the result we got with the traditional method.
        </p>
        <p class="large-text bold">
          Finding partial derivatives using implicit differentiation
        </p>
        <p>
          Now let’s move on to implicit differentiation involving partial derivatives. Here’s an example problem:
        </p>
        <p class="problem">
          <strong>Problem</strong>: Given \(\ln(x) - y^4 + \sin(z) = 0\), what is \(\displaystyle\pdv{z}{x}\) and \(\displaystyle\pdv{z}{y}\)?
        </p>
        <p class="nbm">
          Notice that we have an equation of the form \(F(x, y, z) = c\), with \(y\) and \(z\) being functions of \(x\), and we want to find \(\pdv{z}{x}\) and \(\pdv{z}{y}\). Let’s use the multivariable chain rule here:
        </p>
        <div class="mj">
          \[ \pdv{x}F(x, y, z) = \dv{x}(c) \]
          \[ \pdv{F}{x}\pdv{x}{x} + \pdv{F}{y}\pdv{y}{x} + \pdv{F}{z}\pdv{z}{x} = 0 \]
        </div>
        <p class="nm">
          Here, \(\pdv{x}{x} = 1\) and \(\pdv{y}{x} = 0\) (since we treat \(y\) as a constant when finding a partial derivative with respect to \(x\)). Therefore:
        </p>
        <div class="mj">
          \[ \pdv{F}{x} + \pdv{F}{z}\pdv{z}{x} = 0 \]
          \[ F_x + F_z\pdv{z}{x} = 0 \]
          \[ \pdv{z}{x} = -\frac{F_x}{F_z} \]
        </div>
        <p class="nm">
          We can use a very similar method to find the partial derivative with respect to \(y\).
        </p>
        <div class="mj">
          \[ \pdv{z}{y} = -\frac{F_y}{F_z} \]
        </div>
        <p class="nm">
          Now we’re ready to solve the problem. Let’s first find the partial derivatives of \(F(x, y, z)\):
        </p>
        <div class="mj">
          \[ F(x, y, z) = \ln(x) - y^4 + \sin(z) \]
          \[ F_x = \frac{1}{x} \]
          \[ F_y = -4y^3 \]
          \[ F_z = \cos(z) \]
        </div>
        <p class="nm">
          This is what we get when we plug into the formulas for \(\pdv{z}{x}\) and \(\pdv{z}{y}\): 
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{z}{x} &= -\frac{F_x}{F_z}\\
          &= -\frac{1/x}{\cos(z)}\\
          &= -\frac{1}{x\cos(z)}
          \end{flalign}\]
          \[ \begin{flalign}
          \pdv{z}{y} &= -\frac{F_y}{F_z}\\
          &= -\frac{-4y^3}{\cos(z)}\\
          &= \frac{4y^3}{\cos(z)}
          \end{flalign}\]
        </div>
      </div>
      <h3 class="section-header" id="directionalDiffHeader">
        Directional Derivatives and Gradient <button id="directionalDiffButton" onclick="showHide('directionalDiff')">Show</button>
      </h3>
      <div class="hidden-by-default" id="directionalDiff">
        <p>
          Partial derivatives tell us what happens to the value of a multivariable function as we change one of the variables. But what if multiple variables are changing at the same time? Can we still find the rate of change of the function? 
        </p>
        <p>
          The <strong>directional derivative</strong> is the tool we need to do this. As the name suggests, the directional derivative tells you how a function changes as its input moves in a certain direction. Here’s an example:
        </p>
        <p class="problem">
          <strong>Problem</strong>: How does the function \(f(x, y) = e^{xy}\) change if we start at the input point \((2, 1)\) and increase both \(x\) and \(y\) at the same rate?
        </p>
        <p class="nbm">
          Let’s first analyze how this function changes when we only change one of the variables at a time. We can do this by finding the partial derivatives at \((2, 1)\).
        </p>
        <div class="mj">
          \[ f_x(x, y) = ye^{xy} \]
          \[ f_y(x, y) = xe^{xy} \]
          \[ f_x(2, 1) = 1e^{2(1)} = e^2 \]
          \[ f_y(2, 1) = 2e^{2(1)} = 2e^2 \]
        </div>
        <p class="ntm">
          What this means is that if we set the input to our function to \((2, 1)\) and increase \(x\) by a tiny amount, then \(f(x, y)\) will increase at a rate of \(e^2\). If we increase \(y\) by a tiny amount, the function increases at a rate of \(2e^2\). So what happens if we increase both \(x\) and \(y\) at the same time and at the same rate?
        </p>
        <p>
          Well, the increase in \(x\) will cause the function to increase at a rate of \(e^2\), and the increase in \(y\) will cause the function to increase at a rate of \(2e^2\). So applying both increases at the same time will cause the function to increase at a total rate of \(e^2 + 2e^2 = 3e^2\).
        </p>
        <p>
          Another way of wording our problem is “How does the function \(f(x, y) = e^{xy}\) change if our input starts at the point \((2, 1)\) and moves along the \(xy\)-plane with a velocity vector of \((1, 1)\)?”
        </p>
        <img class="graph" src="images/directional_derivative_vector.png">
        <p class="ntm sn">
          What happens as the input to \(f\) (represented by the point in the graph) moves with velocity vector \((1, 1)\)? This is the same as saying that both \(x\) and \(y\) increase at the same rate.
        </p>
        <p>
          The value we just found, \(3e^2\), is known as the <strong>directional derivative</strong> of \(f(x, y)\) in the direction of the vector \((1, 1)\) at the point \((2, 1)\). The directional derivative tells us how fast the function increases as the input moves along a vector.
        </p>
        <p>
          Here’s a very similar problem:
        </p>
        <p class="problem">
          <strong>Problem</strong>: How does the function \(f(x, y) = e^{xy}\) change if our input starts at the point \((2, 1)\) and moves along the \(xy\)-plane with a velocity vector of \((4, -3)\)?
        </p>
        <p>
          Here’s another way to look at this problem: consider a tiny number \(h\). If we set the input to \(f(x,y)\) at \((2, 1)\), then increase the \(x\)-value by 4 times \(h\) and decrease the \(y\)-value by 3 times \(h\), how much will \(f(x, y)\) change as a result?
        </p>
        <p class="nbm">
          The partial derivatives of \(f(x, y)\) tell us how much \(f\) changes when we change either variable by a tiny amount. In this case, we previously found that the partial derivative with respect to \(x\) at \((2, 1)\) is \(e^2\), and the partial derivative with respect to \(y\) at \((2, 1)\) is \(2e^2\).
        </p>
        <div class="mj">
          \[ \pdv{f}{x} = e^2 \]
          \[ \pdv{f}{y} = 2e^2 \]
        </div>
        <p class="ntm">
          What this means is if we increase \(x\) by a tiny amount \(h\), then \(f\) will increase by about \(e^2\) times \(h\) (that’s what the partial derivative with respect to \(x\) tells us). Similarly, if we increase \(y\) by \(h\), then \(f\) will increase by about \(2e^2\) times \(h\) (that’s what the partial derivative with respect to \(y\) tells us).
        </p>
        <p>
          So if we increase \(x\) by 4 times \(h\), we would expect that \(f\) increases by about \(4e^2\) times \(h\). And if we decrease \(y\) by 3 times \(h\), we would expect that \(f\) decreases by about \(3\) times \(2e^2\) times \(h\), which is \(6e^2h\). So overall, combining the effects of changing both variables, \(f\) will change by about \(4e^2h - 6e^2h = -2e^2h\). 
        </p>
        <p>
          The directional derivative is defined as the the change in \(f\) divided by \(h\) (just like how the ordinary derivative is defined). So the directional derivative in this case is \(-2e^2\).
        </p>
        <p class="nbm">
          To summarize, the way we calculated this directional derivative along the vector \((\class{red}{4}, \class{blue}{-3})\) is by taking <span class="red">4</span> times the partial derivative with respect to \(x\) and adding it to <span class="blue">-3</span> times the partial derivative with respect to \(y\). In symbols:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \text{directional derivative} &= \class{red}{4}\pdv{f}{x} + (\class{blue}{-3})\pdv{f}{y}\\
          &= 4(e^2) + (-3)(2e^2)\\
          &= -2e^2
          \end{flalign}\]
        </div>
        <p class="nm">
          In general, to find the directional derivative of \(f(x, y)\) along the vector \(\mathbf{v} = (a, b)\), we use this formula:
        </p>
        <div class="mj">
          \[ D_\mathbf{v}f(x, y) = \nabla_\mathbf{v}f(x, y) = a\pdv{f}{x} + b\pdv{f}{y} \]
        </div>
        <p class="ntm sn">
          Here, I’ve introduced two different notations that are used for the directional derivative for \(f\) along the vector \(\mathbf{v}\): \(D_\mathbf{v}f(x, y)\) and  \(\nabla_\mathbf{v}f(x, y)\).
        </p>
        <p>
          There is something important to note about this definition of a directional derivative: it depends on the magnitude of \(\mathbf{v}\) and not just the direction. For example, if we double the magnitude of \(\mathbf{v}\), then the directional derivative will also double (since the components of the vector \(a\) and \(b\) will be twice as large).
        </p>
        <p class="nbm">
          Here’s an example: let \(\mathbf{v} = (1, 1)\) and \(\mathbf{w} = (2, 2)\). Here are the directional derivatives of \(f(x, y) = e^{xy}\) at \((2, 1)\) for these vectors:
        </p>
        <div class="mj">
          \[ \nabla_\mathbf{v}f(x, y) = 3e^2 \]
          \[ \nabla_\mathbf{w}f(x, y) = 6e^2 \]
        </div>
        <p class="ntm sn">
          The directional derivative for \(\mathbf{w}\) is twice the directional derivative for \(\mathbf{v}\) even though both vectors point in the same direction.
        </p>
        <p class="ntm">
          Sometimes we just want to know how fast the function will increase when we move in a certain direction, regardless of the actual magnitude of the vector we’re using to define that direction. One example is if we want to find how “steep” the function is at a certain point, i.e. the slope of the function in a certain direction.
        </p>
        <p>
          To do this, we need to add on an additional restriction that \(\mathbf{v}\) must be a unit vector. <span class="sn">(Sometimes the directional derivative is even defined with this restriction, so if you’re solving problems involving directional derivatives, pay attention to which definition the problem is using!)</span>
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the slope of the function \(f(x, y) = e^{xy}\) at \((2, 1)\) in the direction of the vector \(\mathbf{v} = (3, 5)\)?
        </p>
        <p class="nbm">
          First, we need to normalize the vector to a unit vector \(\mathbf{u}\). To do this, we divide the vector \(\mathbf{v}\) by its magnitude.
        </p>
        <div class="mj">
          \[ ||\mathbf{v}|| = \sqrt{3^2 + 5^2} = \sqrt{34} \]
          \[ \mathbf{u} = \frac{\mathbf{v}}{||\mathbf{v}||} = \left(\frac{3}{\sqrt{34}}, \frac{5}{\sqrt{34}}\right) \]
        </div>
        <p class="nm">
          Now we can calculate the directional derivative using the partial derivatives we’ve found before:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \nabla_\mathbf{u}f(x, y) &= \frac{3}{\sqrt{34}}\pdv{f}{x} + \frac{5}{\sqrt{34}}\pdv{f}{y}\\
          &= \frac{3}{\sqrt{34}}e^2  + \frac{5}{\sqrt{34}}2e^2\\
          &= \frac{13e^2}{\sqrt{34}}
          \end{flalign} \]
        </div>
        <img class="graph" src="images/directional_derivative_slope.png">
        <p class="ntm sn">
          The slope of this function along the vector \((3, 5)\) at the point \((2, 1)\) is \(\frac{13e^2}{\sqrt{34}}\).
        </p>
        <img class="graph" src="images/directional_derivative_slope_2.png">
        <p class="ntm sn">
          An alternate view that shows the slope of the tangent line more clearly.
        </p>
        <p class="nbm">
          We can generalize the directional derivative to functions of more variables. Here’s the three-variable case, where \(\mathbf{v} = (a, b, c)\):
        </p>
        <div class="mj">
          \[ \nabla_\mathbf{v}f(x, y, z) = a\pdv{f}{x} + b\pdv{f}{y} + c\pdv{f}{z} \]
        </div>
        <p class="nm">
          There is a way to concisely write this formula for any number of variables. To do that, we need to notice that the directional derivative is a sum of products, which is exactly what the dot product is! We can write the two-variable directional derivative formula like this:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \nabla_\mathbf{v}f(x, y, z) &= a\pdv{f}{x} + b\pdv{f}{y}\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}\right) \cdot (a, b)\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}\right) \cdot \mathbf{v}
          \end{flalign} \]
        </div>
        <p class="nm">
          The three-variable case can be written like this:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \nabla_\mathbf{v}f(x, y, z) &= a\pdv{f}{x} + b\pdv{f}{y} + c\pdv{f}{z}\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}, \pdv{f}{z}\right) \cdot (a, b, c)\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}, \pdv{f}{z}\right) \cdot \mathbf{v}
          \end{flalign} \]
        </div>
        <p class="nm">
          In general, if we have a function of \(n\) variables \(f(x_1, x_2, ..., x_n)\), the directional derivative along the vector \(\mathbf{v} = (v_1, v_2, ..., v_n)\) is:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \nabla_\mathbf{v}f(x_1, x_2, ...,  x_n) &= v_1\pdv{f}{x_1} + v_2\pdv{f}{x_2} + \cdots + v_n\pdv{f}{x_n}\\
          &= \left(\pdv{f}{x_1}, \pdv{f}{x_2}, ...,  \pdv{f}{x_n}\right) \cdot (v_1, v_2, ..., v_n)\\
          &= \left(\pdv{f}{x_1}, \pdv{f}{x_2}, ...,  \pdv{f}{x_n}\right) \cdot \mathbf{v}
          \end{flalign}\]
        </div>
        <p class="ntm">
          It would be really nice if we had a notation for this vector of partial derivatives \(\left(\pdv{f}{x_1}, \pdv{f}{x_2}, ...,  \pdv{f}{x_n}\right)\), and it turns out that we do.
        </p>
        <p class="large-text bold">
          Introducing: the gradient
        </p>
        <p>
          This vector of partial derivatives is known as the <strong>gradient</strong> of \(f\), and it’s denoted by \(\nabla f = \left(\pdv{f}{x_1}, \pdv{f}{x_2}, ...,  \pdv{f}{x_n}\right)\) (the symbol \(\nabla\) is called nabla).
        </p>
        <p class="nbm">
          Using this gradient notation, we can define the directional derivative as follows:
        </p>
        <div class="mj">
          \[ \nabla_\mathbf{v}f = \nabla f \cdot \mathbf{v} \]
        </div>
        <p class="ntm">
          You can think of the gradient as a vector that lists out all of a function’s partial derivatives. 
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the gradient of \(f(x, y) = e^{xy}\)? What does the gradient tell us about the function at the point \((2, 1)\)?
        </p>
        <p>
          Remember that the gradient is just a vector with all of a function’s partial derivatives. Because \(f\) is a function of two variables, the gradient in this case is \(\nabla f = (\pdv{f}{x}, \pdv{f}{y})\). We previously found that \(\pdv{f}{x} = ye^{xy}\) and \(\pdv{f}{y} = xe^{xy}\), so the gradient is \(\nabla f = (ye^{xy}, xe^{xy})\).
        </p>
        <p>
          We can find the gradient at a specific point, in this case \((2, 1)\). If we plug in \(x = 2\) and \(y = 1\) in the gradient, we get \((1e^{2(1)}, 2e^{2(1)}) = (e^2, 2e^2)\). What this tells us is that at the point \((2, 1)\) the partial derivative with respect to \(x\) is \(e^2\) and the partial derivative with respect to \(y\) is \(2e^2\).
        </p>
        <p>
          One interesting fact about the gradient is that it can tell you how you can change the inputs of a multivariable function to increase its value the fastest.
        </p>
        <p>
          The gradient of a function \(f\) is a vector, and the direction that the input must travel to increase the value of the function the fastest is given by this vector. Another way of saying this is that the gradient points in the direction of steepest ascent (i.e. the function increases the fastest along this direction).
        </p>
        <p class="problem">
          <strong>Problem</strong>: Starting at the input \((2, 1)\), in what direction should we change the input to increase the value of \(f(x, y) = e^{xy}\) the fastest?
        </p>
        <p>
          The answer is given by the gradient at \((2, 1)\), which we found was \((e^2, 2e^2)\). So if we move in the direction given by this vector, the function will increase the fastest. <span class="sn">(If we want, we can normalize this vector to a unit vector by dividing by its magnitude \(\sqrt{(e^2)^2 + (2e^2)^2} = \sqrt{5e^4} = \sqrt{5}e^2\), giving the vector \((\frac{e^2}{\sqrt{5}e^2}, \frac{2e^2}{\sqrt{5}e^2}) = (\frac{1}{\sqrt{5}}, \frac{2}{\sqrt{5}})\).)</span>
        </p>
        <img class="graph" src="images/steepest_ascent.png">
        <p class="ntm sn">
          By moving along the \(xy\)-plane in the direction given by the vector \((e^2, 2e^2)\), we can increase the function’s value the fastest. This is shown by the <span class="green">vector</span> in the image above.
        </p>
        <p>
          Another property of the gradient vector is that it is always perpendicular to contour lines. The gradient evaluated at a point produces a vector that is perpendicular to the contour line that passes through that point.
        </p>
        <img class="graph" src="images/contour_gradient.png">
        <p class="ntm sn">
          These are some contour lines for the function \(f(x, y) = \ln(xy)\), as well as the gradient vectors at some points. Notice how the gradient vector at each point is perpendicular to the contour line that passes through that point.
        </p>
      </div>
      <h3 class="section-header" id="surfaceTangentHeader">
        Tangent Planes and Normal Vectors of Surfaces <button id="surfaceTangentButton" onclick="showHide('surfaceTangent')">Show</button>
      </h3>
      <div class="hidden-by-default" id="surfaceTangent">
        <p>
          Just like how the gradient vector of a function of two variables is perpendicular to the function’s contour lines, the gradient vector of a function of three variables is perpendicular/normal to the function’s level surfaces. Using this, we can find normal vectors to surfaces.
        </p>
        <p>
          Remember that the equation of a plane can be given by \(a(x-x_0) + b(y-y_0) + c(z-z_0) = 0\), where \(\mathbf{n} = (a, b, c)\) is a normal vector to the plane and \((x_0, y_0, z_0)\) is any point on the plane.
        </p>
        <p class="nbm">
          The normal vector to a surface defined by \(f(x, y, z) = c\) at a point \((x_0, y_0, z_0)\) is given by the gradient \(\nabla f(x, y, z) = \left(\pdv{f}{x}, \pdv{f}{y}, \pdv{f}{z}\right)\). Therefore, the tangent plane to a surface defined by \(f(x, y, z) = c\) at a point \((x_0, y_0, z_0)\) is:
        </p>
        <div class="mj">
          \[ \pdv{f}{x}(x-x_0) + \pdv{f}{y}(y-y_0) + \pdv{f}{z}(z-z_0) = 0\]
        </div>
        <p class="nm">
          We can also find the vector equations of lines normal to a surface, known as <strong>normal lines</strong>. Remember that the vector equation for a line that passes through \((x_0, y_0, z_0)\) and is parallel to the vector \((a, b, c)\) is \((x_0, y_0, z_0) + t(a, b, c)\). Since we know that \(\nabla f(x, y, z)\) is a normal vector to a surface \(f(x, y, z) = c\), this means that the normal line to a surface at \((x_0, y_0, z_0)\) is:
        </p>
        <div class="mj">
          \[ (x_0, y_0, z_0) + t\nabla f(x_0, y_0, z_0) \]
        </div>
        <p class="ntm problem">
          <strong>Problem</strong>: Find the tangent plane, normal vector, and normal line to the surface \(xy + z^2 = 3\) at \((-1, 1, 2)\).
        </p>
        <p class="nbm">
          In this case, \(f(x, y, z) = xy + z^2\). Let’s find the gradient of \(f\) by first finding its partial derivatives:
        </p>
        <div class="mj">
          \[ \pdv{f}{x} = y \]
          \[ \pdv{f}{y} = x \]
          \[ \pdv{f}{z} = 2z \]
        </div>
        <p class="nm">
          Let’s evaluate these derivatives at the point \((-1, 1, 2)\):
        </p>
        <div class="mj">
          \[ \pdv{f}{x} = 1 \]
          \[ \pdv{f}{y} = -1 \]
          \[ \pdv{f}{z} = 2(2) = 4 \]
        </div>
        <p class="nm">
          Now we can plug into the formula for the tangent plane, using \((x_0, y_0, z_0) = (-1, 1, 2)\):
        </p>
        <div class="mj">
          \[ \pdv{f}{x}(x-x_0) + \pdv{f}{y}(y-y_0) + \pdv{f}{z}(z-z_0) = 0\]
          \[ 1(x-(-1)) + (-1)(y-1) + 4(z-2) = 0 \]
          \[ (x+1) - (y-1) + 4(z-2) = 0\]
        </div>
        <p class="nm">
          The gradient of \(f\) evaluated at \((-1, 1, 2)\) is \(\left(\pdv{f}{x}, \pdv{f}{y}, \pdv{f}{z}\right) = (1, -1, 4)\). Therefore, a normal vector to the surface at \((-1, 1, 2)\) is the vector \((1, -1, 4)\). We can use this to find the normal line:
        </p>
        <div class="mj">
          \[ (x_0, y_0, z_0) + t\nabla f(x_0, y_0, z_0) \]
          \[ (-1, 1, 2) + t(1, -1, 4) \]
        </div>
        <img class="graph" src="images/normal_line.png">
        <p class="ntm sn">
          The <span class="blue">tangent plane</span> and <span class="red">normal line</span> to the surface \(xy + z^2 = 3\) at \((-1, 1, 2)\).
        </p>
      </div>
      <h3 class="section-header" id="multivarChain2Header">
        The Multivariable Chain Rule, Revisited <button id="multivarChain2Button" onclick="showHide('multivarChain2')">Show</button>
      </h3>
      <div class="hidden-by-default" id="multivarChain2">
        <p class="nbm">
          We previously saw that the multivariable chain rule could be written in this form, if we have a function \(z = f(x(t), y(t))\), where \(x\) and \(y\) are both functions of \(t\):
        </p>
        <div class="mj">
          \[ \dv{z}{t} = \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t}\]
        </div>
        <p class="nm">
          If we had a function of three variables, then the multivariable chain rule looks like this:
        </p>
        <div class="mj">
          \[ \dv{w}{t} = \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t} + \pdv{f}{z}\cdot\dv{z}{t} \]
        </div>
        <p class="nm">
          Using the gradient, there is a simpler way to express the multivariable chain rule. Let’s first express the input of \(f\) as a vector-valued function \(\mathbf{v}(t)\):
        </p>
        <div class="mj">
          \[ \mathbf{v}(t) = (x(t), y(t)) \]
          \[ f(x(t), y(t)) = f(\mathbf{v}(t)) \]
        </div>
        <p class="nm">
          Here, \(\mathbf{v}(t) = (x(t), y(t))\) is just a vector-valued function that we’ve defined to equal the inputs of \(f\). So \(f(\mathbf{v}(t))\) is just an alternative way to write \(f(x(t), y(t))\).
        </p>
        <p class="nbm">
          In addition, notice that the right-hand side of the multivariable chain rule is a sum of products, meaning that it can be written as a dot product. Using this observation along with the vector-valued function notation results in:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dv{z}{t} &= \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t}\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}\right) \cdot \left(\dv{x}{t}, \dv{y}{t}\right)\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}\right) \cdot (x'(t), y'(t))\\
          &= \nabla f \cdot \mathbf{v}'(t)
          \end{flalign} \]
        </div>
        <p class="nm">
          This observation also works when there are three or more variables. For example, in the three-variable case where we have \(w = f(x, y, z)\), the multivariable chain rule in this form looks like:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dv{w}{t} &= \pdv{f}{x}\cdot\dv{x}{t} + \pdv{f}{y}\cdot\dv{y}{t} + \pdv{f}{z}\cdot\dv{z}{t}\\
          &= \left(\pdv{f}{x}, \pdv{f}{y}, \pdv{f}{z}\right) \cdot (x'(t), y'(t), z'(t))\\
          &= \nabla f \cdot \mathbf{v}'(t)
          \end{flalign} \]
        </div>
        <p class="nm">
          Therefore, the multivariable chain rule can be more concisely written as:
        </p>
        <div class="mj">
          \[ \dv{t}f(\mathbf{v}(t)) = \nabla f(\mathbf{v}(t)) \cdot \mathbf{v}'(t)\]
        </div>
        <p class="nm">
          You might notice that this looks very similar to the standard chain rule! For reference, here’s the standard chain rule:
        </p>
        <div class="mj">
          \[ \dv{x}f(g(x)) = f'(g(x))g'(x) \]
        </div>
      </div>
      <h3 class="section-header" id="higherOrderDiffHeader">
        Higher-Order Partial Derivatives <button id="higherOrderDiffButton" onclick="showHide('higherOrderDiff')">Show</button>
      </h3>
      <div class="hidden-by-default" id="higherOrderDiff">
        <p>
          Just like how we can find the second derivatives of single-variable functions, we can also find the second partial derivatives of functions.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What are the second partial derivatives of the function \(f(x, y) = \sin(xy)\)?
        </p>
        <p class="nbm">
          Let’s start by finding the first partial derivatives:
        </p>
        <div class="mj">
          \[ \pdv{x}f(x, y) = f_x(x, y) = y\cos(xy) \]
          \[ \pdv{y}f(x, y) = f_y(x, y) = x\cos(xy) \]
        </div>
        <p class="ntm">
          To find a second derivative, we have to differentiate a first derivative. But which first derivative do we differentiate, and what variable do we differentiate with respect to? We can actually differentiate either of these first derivatives with respect to either \(x\) or \(y\).
        </p>
        <p class="nbm">
          This means we have four possibilities for second partial derivatives. First, let’s differentiate \(\pdv{f}{x}\) with respect to \(x\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{x}\pdv{x}f(x, y) &= \pdv{x}[y\cos(xy)]\\
          &= -y^2\sin(xy)
          \end{flalign}\]
        </div>
        <p class="nm">
          Here are the two standard notations for this second partial derivative:
        </p>
        <div class="mj">
          \[ \pdv[2]{x} f(x, y) = f_{xx}(x, y) = -y^2\sin(xy) \]
        </div>
        <p class="nm">
          We can also differentiate \(\pdv{f}{y}\) with respect to \(y\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{y}\pdv{y}f(x, y) &= \pdv{y}[x\cos(xy)]\\
          &= -x^2\sin(xy)
          \end{flalign}\]
        </div>
        <p class="nm">
          Here are the notations for this derivative:
        </p>
        <div class="mj">
          \[ \pdv[2]{y} f(x, y) = f_{yy}(x, y) = -x^2\sin(xy) \]
        </div>
        <p class="nm">
          Next, we can differentiate \(\pdv{f}{x}\) with respect to \(y\). Here is the result:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{y}\pdv{x}f(x, y) &= \pdv{y}[y\cos(xy)]\\
          &= \left[\pdv{y}(y)\right]\cos(xy) + y\pdv{y}[\cos(xy)]\\
          &= \cos(xy) - xy\sin(xy)
          \end{flalign} \]
        </div>
        <p class="nm">
          This partial derivative, obtained by first differentiating \(f\) with respect to \(x\), then differentiating with respect to \(y\), can be notated like this:
        </p>
        <div class="mj">
          \[ \pdv{}{y}{x}f(x,y) = f_{xy}(x, y) = \cos(xy) - xy\sin(xy) \]
        </div>
        <p class="nm">
          Here’s the second partial derivative obtained by differentiating \(\pdv{f}{y}\) with respect to \(x\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{x}\pdv{y}f(x, y) &= \pdv{x}[x\cos(xy)]\\
          &= \left[\pdv{x}(x)\right]\cos(xy) + x\pdv{x}[\cos(xy)]\\
          &= \cos(xy) - xy\sin(xy)
          \end{flalign} \]
        </div>
        <p class="nm">
          And here’s the notation for this derivative:
        </p>
        <div class="mj">
          \[ \pdv{}{x}{y}f(x,y) = f_{yx}(x, y) = \cos(xy) - xy\sin(xy) \]
        </div>
        <p class="ntm">
          Notice how the second partial derivative \(f_{xy}\) is the same as \(f_{yx}\). This will actually be true for most functions!
        </p>
        <p>
          If the second partial derivatives \(f_{xy}\) and \(f_{yx}\) are continuous around a point \((x_0, y_0)\), then then \(f_{xy}(x_0, y_0) = f_{yx}(x_0, y_0)\). This fact is known as <strong>Clairaut’s theorem</strong> or <strong>Schwarz’s theorem</strong>.
        </p>
        <p class="large-text bold">
          Interpreting second partial derivatives
        </p>
        <p>
          Let’s look at how we can interpret second partial derivatives.
        </p>
        <p class="problem">
          <strong>Problem</strong>: How can we interpret the second partial derivatives of \(f(x, y) = \sin(xy)\) at \((\frac{\pi}{2}, \frac{1}{2})\)?
        </p>
        <p class="nbm">
          Let’s recall the second partial derivatives we found:
        </p>
        <div class="mj">
          \[ f_{xx}(x, y) = -y^2\sin(xy) \]
          \[ f_{yy}(x, y) = -x^2\sin(xy) \]
          \[ f_{xy}(x, y) = \cos(xy) - xy\sin(xy) \]
          \[ f_{yx}(x, y) = \cos(xy) - xy\sin(xy) \]
        </div>
        <p class="nm">
          These are the values at the point \((\frac{\pi}{2}, \frac{1}{2})\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          f_{xx}\left(\frac{\pi}{2}, \frac{1}{2}\right) &= -y^2\sin(xy)\\
          &= -\frac{1}{4}\sin\left(\frac{\pi}{4}\right)\\
          &= -\frac{\sqrt{2}}{8}\\
          &\approx -0.177
          \end{flalign} \]
          \[ \begin{flalign}
          f_{yy}\left(\frac{\pi}{2}, \frac{1}{2}\right) &= -x^2\sin(xy)\\
          &= -\frac{\pi^2}{4}\sin\left(\frac{\pi}{4}\right)\\
          &= -\frac{\pi^2\sqrt{2}}{8}\\
          &\approx -1.745
          \end{flalign} \]
          \[ \begin{flalign}
          f_{xy}\left(\frac{\pi}{2}, \frac{1}{2}\right) &= \cos(xy) - xy\sin(xy)\\
          &= \cos\left(\frac{\pi}{4}\right) - \frac{\pi}{4}\sin\left(\frac{\pi}{4}\right)\\
          &= \frac{\sqrt{2}}{2} - \frac{\pi}{4}\cdot\frac{\sqrt{2}}{2}\\
          &= \frac{\sqrt{2}}{2} - \frac{\pi\sqrt{2}}{8}\\
          &\approx 0.152
          \end{flalign} \]
          \[ \begin{flalign}
          f_{yx}\left(\frac{\pi}{2}, \frac{1}{2}\right) &= f_{xy}\left(\frac{\pi}{2}, \frac{1}{2}\right)\\
          &= \frac{\sqrt{2}}{2} - \frac{\pi\sqrt{2}}{8}\\
          &\approx 0.152
          \end{flalign} \]
        </div>
        <p class="ntm">
          Remember that the first partial derivatives give us the slopes of traces. For example, the value of \(f_x(x_0, y_0)\) tells us the slope of the trace \(y = y_0\) at \(x = x_0\).
        </p>
        <p>
          So what does the second derivative \(f_{xx}(x_0, y_0)\) tell us? Well, \(f_{xx}(x, y)\) is just the derivative of \(f_x(x, y)\) with respect to \(x\), so \(f_{xx}(x, y)\) tells us how the first derivative \(f_x(x, y)\) changes as we change \(x\).
        </p>
        <p>
          The first derivative \(f_x(x_0, y_0)\) tells us the slope of the trace \(y = y_0\) at \(x = x_0\), so the second derivative \(f_{xx}(x_0, y_0)\) tells us how this slope changes as \(x\) changes.
        </p>
        <p>
          So in our case, \(f_{xx}(\frac{\pi}{2}, \frac{1}{2}) \approx -0.177\) tells us that as we start our input at \((\frac{\pi}{2}, \frac{1}{2})\) and increase \(x\), then the slope of the trace \(y = y_0\) at our \(x\)-value decreases at a rate of about 0.177.
        </p>
        <img class="graph" src="images/xx_derivative_trace.png">
        <p class="ntm sn">
          The <span class="red">trace</span> highlighted is \(y = \frac{1}{2}\), and the <span class="blue">point</span> has coordinates \((\frac{\pi}{2}, \frac{1}{2})\). Notice how the slope of the trace decreases as \(x\) increases (i.e. the trace is concave down). This is because the second derivative \(f_{xx}(\frac{\pi}{2}, \frac{1}{2})\) is negative.
        </p>
        <p>
          The derivative \(f_{xx}(x_0, y_0)\) can also be interpreted as the concavity of the trace \(y = y_0\) at \(x = x_0\). If the derivative is positive, the trace is concave up, and if the derivative is negative, the trace is concave down.
        </p>
        <p>
          The derivative \(f_{yy}(x_0, y_0)\) can be interpreted in a similar way. This derivative tells how the slope of the trace \(x = x_0\) changes as \(y\) changes.
        </p>
        <p>
          In our case, \(f_{xx}(\frac{\pi}{2}, \frac{1}{2}) \approx -1.745\), meaning that as \(y\) increases, the slope of the trace \(x = x_0\) at our \(y\)-value decreases at a rate of about 1.745.
        </p>
        <img class="graph" src="images/yy_derivative_trace.png">
        <p class="ntm sn">
          As we increase the \(y\)-value of <span class="blue">this point</span>, the slope of the trace decreases.
        </p>
        <p>
          The derivative \(f_{xy}(x_0, y_0)\) is harder to interpret visually. It tells us how the slope of the trace \(y = y_0\) at \(x = x_0\) changes as we increase the \(y\)-value (which causes the trace itself to move).
        </p>
        <img class="graph" src="images/xx_derivative_trace.png">
        <p class="ntm sn">
          Imagine increasing the \(y\)-value of this trace. The derivative \(f_{xy}(x_0, y_0)\) tells us how the slope of <span class="red">the \(y = y_0\) trace</span> at \(x = x_0\) changes as we increase the \(y\)-value of the trace.
        </p>
        <p>
          Similarly, the derivative \(f_{yx}(x_0, y_0)\) tells us how the slope of the trace \(x = x_0\) at \(y = y_0\) changes as we increase the \(x\)-value of the trace.
        </p>
        <img class="graph" src="images/yy_derivative_trace.png">
        <p class="ntm sn">
          The derivative \(f_{yx}(x_0, y_0)\) tells us how the slope of the <span class="green">\(x = x_0\) trace</span> at \(y = y_0\) changes as the \(x\)-value of the trace increases.
        </p>
      </div>
      <h3 class="section-header" id="localExtremaHeader">
        Finding Local/Relative Extrema of Functions <button id="localExtremaButton" onclick="showHide('localExtrema')">Show</button>
      </h3>
      <div class="hidden-by-default" id="localExtrema">
        <p>
          In single-variable calculus, we used the second derivative test to find the local extrema (minima and maxima) of functions. We can do something similar in multivariable calculus.
        </p>
        <p>
          Remember that a local minimum is a place where the function takes on a lower value than on all nearby points, and a local maximum is a place where the function takes on a higher value than on all nearby points. This idea holds even for functions of multiple variables.
        </p>
        <img class="graph" src="images/local_extrema.png">
        <p class="ntm sn">
          An example of a <span class="red">local maximum</span> and a <span class="blue">local minimum</span>.
        </p>
        <p>
          With functions of one variable, we had to analyze the function’s critical points to find local extrema. For functions of one variable, critical points are points where the function’s derivative is 0 or undefined.
        </p>
        <p>
          The idea of critical points still exists for multivariable functions, but we need to adjust it a little bit. For a function of two variables \(f(x, y)\), for a point \((a, b)\) to be a critical point, one of two conditions need to be met:
        </p>
        <ol>
          <li>All partial derivatives of \(f\) must equal 0, i.e. the entire gradient of \(f\) must equal zero (or more formally, the zero vector).</li>
          <li>One or more of the partial derivatives of \(f\) are undefined.</li>
        </ol>
        <p>
          For multivariable functions, it’s not enough that one of the partial derivatives equals zero, <strong>all of them must equal 0</strong> at a point for it to be a critical point.
        </p>
        <p>
          Using critical points, we can create a multivariable version of the second derivative test. Let’s first review how the single-variable second derivative test works.
        </p>
        <p>
          The second derivative test says that if \(f'(c) = 0\) at a point \(x = c\):
        </p>
        <ul>
          <li>If \(f''(x) \gt 0\), then \(x = c\) is a local minimum.</li>
          <li>If \(f''(x) \lt 0\), then \(x = c\) is a local maximum.</li>
          <li>If \(f''(x) = 0\), then the test is indeterminate.</li>
        </ul>
        <p>
          The second derivative test works by using what \(f''(x)\) tells us about the function’s concavity: if \(f''(c) \gt 0\), \(f(x)\) is concave up at \(x = c\), and so if \(x = c\) is a critical point, then it must also be a local minimum. If \(f''(c) \lt 0\), the function is concave down at the critical point \(x = c\), and so \(x = c\) must be a local maximum.
        </p>
        <p>
          Let’s look closer at a local maximum of a function of two variables. Let’s say that this local maximum occurs at the point \((x_0, y_0)\).
        </p>
        <img class="graph" src="images/local_maximum.png">
        <p>
          One observation we can make is that the function is concave down in the \(x\)-direction (i.e. the second derivative with respect to \(x\) is negative), and the function is concave down in the \(y\)-direction (i.e. the second derivative with respect to \(y\) is negative).
        </p>
        <img class="graph" src="images/local_maximum_traces.png">
        <p class="ntm sn">
          This function is concave down in both the \(x\)-direction and \(y\)-direction at the local maximum, as shown by the \(\class{purple}{x = x_0}\) and \(\class{green}{y = y_0}\) traces.
        </p>
        <p>
          What this means is that \(f_{xx}(x_0, y_0)\) is negative, and \(f_{yy}(x_0, y_0)\) is also negative.
        </p>
        <p>
          Similarly for a local minimum, both \(f_{xx}\) and \(f_{yy}\) is positive.
        </p>
        <p>
          This means that a local extremum typically results in both \(f_{xx}\) and \(f_{yy}\) having the same signs, resulting in \(f_{xx}\cdot f_{yy}\) being positive.
        </p>
        <p>
          So you might think that if \(f_{xx}(x_0,y_0)f_{yy}(x_0,y_0)\) is positive, then \((x_0, y_0)\) is a local extremum. But this isn’t quite true, because of functions like this:
        </p>
        <img class="graph" src="images/saddle_point.png">
        <div class="ntm sn">
          This is the graph of \(f(x, y) = x^2 + y^2 + 3xy\). At the point \((0, 0)\), both \(f_{xx}\) and \(f_{yy}\) are positive (as shown by the traces being concave up), but the point is not a local minimum!
        </div>
        <p>
          A point like this is known as a <strong>saddle point</strong>. Saddle points are points that function as a local minimum along one direction but as a local maximum along another direction.
        </p>
        <p>
          The reason this function has a saddle point is because the function is concave down along the line \(y = -x\), causing there to be points near \((0, 0)\) with a lower function value.
        </p>
        <img class="graph" src="images/saddle_point_2.png">
        <p class="ntm sn">
          The function is concave down at \((0, 0)\) along the line \(\class{purple}{y = -x}\), making the point act as a local maximum along this line.
        </p>
        <p>
          However, the second partial derivatives don’t give us enough information to detect this, since they only measure the concavity in the \(x\)-direction and \(y\)-direction and not any of the diagonal directions!
        </p>
        <p>
          So to correct for this, we need to use the second derivative \(f_{xy}\). The finalized test for finding extrema of two-variable functions (known as the <strong>second partial derivative test</strong>) looks like this:
        </p>
        <p>
          Suppose \((x_0, y_0)\) is a critical point of \(f(x, y)\) (specifically one where the gradient is zero). Define the value \(D = f_{xx}(x_0, y_0)f_{yy}(x_0, y_0) - [f_{xy}(x_0, y_0)]^2\). There are three possibilities from here:
        </p>
        <ul>
          <li>\(D \gt 0\): This means there is a local extremum at \((x_0, y_0)\).
            <ul>
              <li>If \(f_{xx}(x_0, y_0) \gt 0\), then \((x_0, y_0)\) is a local minimum.</li>
              <li>If \(f_{xx}(x_0, y_0) \lt 0\), then \((x_0, y_0)\) is a local maximum.</li>
            </ul>
          </li>
          <li>\(D \lt 0\): This means \((x_0, y_0)\) is a saddle point.</li>
          <li>\(D = 0\): The second partial derivative test is indeterminate and doesn’t give us enough information to tell.</li>
        </ul>
        <p>
          Here’s an example problem:
        </p>
        <p class="problem">
          <strong>Problem</strong>: Identify all of the local extrema for the function \(f(x, y) = x^3 - x + y^3 - y\).
        </p>
        <p class="nbm">
          The first step is to find all of the critical points of this function. To do that, we need the function’s first derivatives:
        </p>
        <div class="mj">
          \[ f_x = 3x^2 - 1 \]
          \[ f_y = 3y^2 - 1 \]
        </div>
        <p class="nm">
          Now we have to find points where both of these derivatives are zero. Let’s start with the first equation and set \(f_x\) to 0: 
        </p>
        <div class="mj">
          \[ 3x^2 - 1 = 0 \]
          \[ x^2 = \frac{1}{3} \]
          \[ x = \pm\frac{1}{\sqrt{3}} \]
        </div>
        <p class="nm">
          These are the \(x\)-values that will cause \(f_x\) to equal 0. Keep in mind however that we also need \(f_y\) to equal 0 for a point to be a critical point, so let’s set \(f_y\) to 0:
        </p>
        <div class="mj">
          \[ 3y^2 - 1 = 0 \]
          \[ y^2 = \frac{1}{3} \]
          \[ y = \pm\frac{1}{\sqrt{3}} \]
        </div>
        <p class="ntm">
          So we now have four possible ordered pairs that will cause both \(f_x\) and \(f_y\) to equal 0: \((-\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\), \((-\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\), \((\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\), and \((\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\).
        </p>
        <p class="nbm">
          Now we have to use the second partial derivative test on each of these critical points. Here are the second partial derivatives we’ll need:
        </p>
        <div class="mj">
          \[ f_{xx} = 6x \]
          \[ f_{yy} = 6y \]
          \[ f_{xy} = 0 \]
        </div>
        <p class="nm">
          Now let’s find \(D\) for each point. We can do that by finding an expression for \(D\) given any point \((x, y)\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          D &= f_{xx}(x, y)f_{yy}(x, y) - [f_{xy}(x, y)]^2\\
          &= (6x)(6y) - 0^2\\
          &= 36xy
          \end{flalign} \]
        </div>
        <p class="ntm">
          Now we plug in the \(x\)- and \(y\)-coordinates of each point into this expression \(36xy\) to find each point’s \(D\)-value:
        </p>
        <div class="table-div">
          <table>
            <tr>
              <th>Point</th>
              <th>\(D\)-value</th>
            </tr>
            <tr>
              <td>\((-\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\)</td>
              <td>\(36(-\frac{1}{\sqrt{3}})(-\frac{1}{\sqrt{3}}) = 12 \gt 0\)</td>
            </tr>
            <tr>
              <td>\((-\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\)</td>
              <td>\(36(-\frac{1}{\sqrt{3}})(\frac{1}{\sqrt{3}}) = -12 \lt 0\)</td>
            </tr>
            <tr>
              <td>\((\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\)</td>
              <td>\(36(\frac{1}{\sqrt{3}})(-\frac{1}{\sqrt{3}}) = -12 \lt 0\)</td>
            </tr>
            <tr>
              <td>\((\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\)</td>
              <td>\(36(\frac{1}{\sqrt{3}})(\frac{1}{\sqrt{3}}) = 12 \gt 0\)</td>
            </tr>
          </table>
        </div>
        <p>
          The points with \(D \lt 0\) are saddle points (in this case \((\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\) and \((-\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\)), and the points with \(D \gt 0\) are local extrema.
        </p>
        <p>
          To figure out whether each extremum is a minimum or maximum, we need to find the value of \(f_{xx}(x, y)\) at each point.
        </p>
        <div class="table-div">
          <table>
            <tr>
              <th>Point</th>
              <th>\(f_{xx}(x, y)\)</th>
            </tr>
            <tr>
              <td>\((-\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\)</td>
              <td>\(6x = -\frac{6}{\sqrt{3}} \lt 0\)</td>
            </tr>
            <tr>
              <td>\((\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\)</td>
              <td>\(6x = \frac{6}{\sqrt{3}} \gt 0\)</td>
            </tr>
          </table>
        </div>
        <p>
          \(f_{xx}\) is less than 0 at the point \((-\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}})\), so it is a local maximum. \(f_{xx}\) is greater than 0 at the point \((\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}})\), so it is a local minimum.
        </p>
        <p class="nbm">
          To get the actual values the function reaches at these points, we can plug in these points into the definition of \(f(x, y)\):
        </p>
        <div class="mj">
          \[ f(x, y) = x^3 - x + y^3 - y \]
          \[ \begin{flalign}
          f\left(-\frac{1}{\sqrt{3}}, -\frac{1}{\sqrt{3}}\right) &= \left(-\frac{1}{\sqrt{3}}\right)^3 - \left(-\frac{1}{\sqrt{3}}\right) + \left(-\frac{1}{\sqrt{3}}\right)^3 - \left(-\frac{1}{\sqrt{3}}\right)\\
          &= -\frac{2}{3\sqrt{3}} + \frac{2}{\sqrt{3}}\\
          &\approx 0.77
          \end{flalign}\]
          \[ \begin{flalign}
          f\left(\frac{1}{\sqrt{3}}, \frac{1}{\sqrt{3}}\right) &= \left(\frac{1}{\sqrt{3}}\right)^3 - \left(\frac{1}{\sqrt{3}}\right) + \left(\frac{1}{\sqrt{3}}\right)^3 - \left(\frac{1}{\sqrt{3}}\right)\\
          &= \frac{2}{3\sqrt{3}} - \frac{2}{\sqrt{3}}\\
          &\approx -0.77
          \end{flalign}\]
        </div>
        <img class="graph" src="images/local_extrema_2.png">
        <p class="ntm sn">
          The <span class="blue">local extrema</span> and <span class="red">saddle points</span> of this function.
        </p>
      </div>
      <h3 class="section-header" id="globalExtremaHeader">
        Finding Global/Absolute Extrema of Functions <button id="globalExtremaButton" onclick="showHide('globalExtrema')">Show</button>
      </h3>
      <div class="hidden-by-default" id="globalExtrema">
        <p>
          Now let’s move on to finding the global extrema of functions over a certain region - points where the function achieves the highest or lowest value within a certain region.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Identify the global extrema of the function \(f(x, y) = 2x^2 + \frac{4}{3}y^3 - y\) in the region \(x^2 + y^2 \le 1\).
        </p>
        <img class="graph" src="images/global_extrema.png">
        <p class="ntm sn">
          What are the highest and lowest values this function achieves within this cylinder (i.e. points where \(x^2 + y^2 \le 1\))?
        </p>
        <p>
          With single-variable functions, to find global extrema in an interval, we had to check the function’s value at all critical points within that interval, as well as both of the interval’s endpoints.
        </p>
        <p>
          With multivariable functions, we do something very similar. We first find all of the critical points in the region. However, to check the function’s value at the “endpoints” of the region, it’s not enough to just plug in two points: we need to check the function’s value at all possible points along the boundary of the region (in this case \(x^2 + y^2 = 1)\).
        </p>
        <p>
          So our goal is to find all points in this region that could potentially be local extrema.
        </p>
        <p class="large-text bold">
          Step 1: Find all critical points in the region
        </p>
        <p class="nbm">
          Let’s start by finding the first derivatives of this function:
        </p>
        <div class="mj">
          \[ f_x(x, y) = 4x \]
          \[ f_y(x, y) = 4y^2 - 1 \]
        </div>
        <p class="ntm">
          Setting \(f_x\) to 0, we find that \(x\) must equal 0. Setting \(f_y\) to 0, we find that \(y\) must equal either \(\frac{1}{2}\) or \(-\frac{1}{2}\).
        </p>
        <p>
          Our critical points are where both \(f_x\) and \(f_y\) equal 0, which are \((0, \frac{1}{2})\) and \((0, -\frac{1}{2})\). Both of these critical points are within the region \(x^2 + y^2 \le 1\) (you can check this by plugging in the \(x\)- and \(y\)-coordinates of each point into the inequality).
        </p>
        <p class="bold large-text">
          Step 2: Find potential global extremum points on the boundary of the region
        </p>
        <p>
          Now we need to check the function’s value along the boundary \(x^2 + y^2 = 1\).
        </p>
        <p>
          In this case, the way we can do this is by creating a single-variable function \(g(y)\) that takes in a \(y\)-value of a point on the circle \(x^2 + y^2 = 1\) and outputs what the function’s value would be at a point with that \(y\)-value.
        </p>
        <p class="nbm">
          To do this, we can find an expression for \(x^2\) in terms of \(y\), then plug this into the function definition \(f(x, y) = 2x^2 + \frac{4}{3}y^3 - y\) to get it in terms of \(y\).
        </p>
        <div class="mj">
          \[ x^2 = 1 - y^2 \]
          \[ \begin{flalign}
          g(y) &= 2(1 - y^2) + \frac{4}{3}y^3 - y\\
          &= \frac{4}{3}y^3 - 2y^2 - y + 2
          \end{flalign} \]
        </div>
        <p class="ntm">
          As an example, \(g(0.8) \approx 0.603\). What this means is that if a point on the circle \(x^2 + y^2 = 1\) has a \(y\)-coordinate of 0.8, evaluating \(f(x, y)\) at that point will give a value of 0.603. <span class="sn">(There are two possible points on the circle with a \(y\)-coordinate of 0.8, but the function has the same value on both points.)</span>
        </p>
        <p class="nm">
          We need to find the global extrema of this \(g(y)\) function on the interval \(-1 \le y \le 1\) (this is because there are no points on the circle \(x^2 + y^2 = 1\) with a \(y\)-coordinate outside this interval). This is just finding the global extrema of a single-variable function. So we first need to find the critical points, then check the function’s value at the endpoints.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          g'(y) &= 4y^2 - 4y - 1
          \end{flalign} \]
        </div>
        <p class="nm">
          Setting \(g'(y)\) to 0 and using the quadratic formula, we find that the critical points of \(g(y)\) are \(y = \frac{1\pm\sqrt{2}}{2}\). However, only one critical point, \(y = \frac{1-\sqrt{2}}{2}\), is within the interval \(-1 \le y \le 1\), so we can disregard the other critical point.
        </p>
        <p class="nbm">
          Now let’s find the value of \(g(y)\) at the critical point we found and the endpoints of the interval \(-1 \le y \le 1\).
        </p>
        <div class="mj">
          \[ g(y) = \frac{4}{3}y^3 - 2y^2 - y + 2 \]
          \[ g(-1) = -\frac{1}{3} \]
          \[ g(1) = \frac{1}{3} \]
          \[ g\left(\frac{1-\sqrt{2}}{2}\right) \approx 2.109 \]
        </div>
        <p class="ntm">
          The smallest of these values is \(-\frac{1}{3}\), so the global minimum of \(g(y)\) occurs at \(y = -1\). The largest of these values is \(2.109\), so the global maximum of \(g(y)\) occurs at \(y = \frac{1-\sqrt{2}}{2} \approx -0.207\).
        </p>
        <p class="nbm">
          Now let’s find the \(x\)-values corresponding to each of these \(y\)-values.
        </p>
        <div class="mj">
          \[ x^2 = 1 - y^2 \]
          \[ x = \pm\sqrt{1-y^2} \]
        </div>
        <p class="nm">
          For \(y = \frac{1-\sqrt{2}}{2}\):
        </p>
        <div class="mj">
          \[ x = \pm\sqrt{1-\left(\frac{1-\sqrt{2}}{2}\right)^2} \]
          \[ x \approx \pm 0.978 \]
        </div>
        <p class="nm">
          For \(y = -1\):
        </p>
        <div class="mj">
          \[ x = \sqrt{1-(-1)^2} \]
          \[ x = 0 \]
        </div>
        <p class="ntm">
          So the points on the boundary \(x^2 + y^2 = 1\) that could potentially be global extrema are \((-0.978, -0.207)\), \((0.978, -0.207)\), and \((0, -1)\).
        </p>
        <p>
          Finally, let’s list out all of the points we’ve found that could potentially be global extrema, along with the function’s value at these points.
        </p>
        <div class="table-div">
          <table>
            <tr>
              <th>\((x, y)\)</th>
              <th>\(f(x, y)\)</th>
            </tr>
            <tr>
              <td>(-0.978, -0.207)</td>
              <td>2.109</td>
            </tr>
            <tr>
              <td>(0.978, -0.207)</td>
              <td>2.109</td>
            </tr>
            <tr>
              <td>(0, 0.5)</td>
              <td>-0.333</td>
            </tr>
            <tr>
              <td>(0, -0.5)</td>
              <td>0.333</td>
            </tr>
            <tr>
              <td>(0, -1)</td>
              <td>-0.333</td>
            </tr>
          </table>
        </div>
        <p>
          The smallest function value in this list, which is the global minimum of \(f(x, y)\) in the region \(x^2 + y^2 \le 1\), is -0.333, achieved at the points \((0, \frac{1}{2})\) and \((0, -1)\). The largest function value (i.e. the global maximum) is 2.109, achieved at the points \((-0.978, -0.207)\) and \((0.978, -0.207)\).
        </p>
        <img class="graph" src="images/global_extrema_2.png">
        <p class="ntm sn">
          This is the graph of the function \(f(x, y) = 2x^2 + \frac{4}{3}y^3 - y\) for \(x^2 + y^2 \le 1\). The <span class="red">global minima</span> and <span class="blue">global maxima</span> are plotted.
        </p>
      </div>
      <h3 class="section-header" id="lagrangeMultHeader">
        Finding Extrema Using Lagrange Multipliers <button id="lagrangeMultButton" onclick="showHide('lagrangeMult')">Show</button>
      </h3>
      <div class="hidden-by-default" id="lagrangeMult">
        <p>
          We previously saw how to find the extrema of a function given a certain constraint, such as \(x^2 + y^2 \le 1\). This is known as <strong>constrained optimization</strong>.
        </p>
        <p>
          An important step in the process is finding the extrema on the boundary \(x^2 + y^2 = 1\). In the previous section, we found this by creating a single-variable function \(g(y)\) that tells us the corresponding function value for a point with that \(y\)-coordinate on the boundary, but there is an alternative way to do this. That’s what we’re going to explore in this section!
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the maximum and minimum value of \(f(x, y) = x^3 + y^2\) given the constraint \(x^2 + y^2 = 1\)?
        </p>
        <p>
          We’re going to use what’s known as <strong>Lagrange multipliers</strong> to solve this problem. To understand how this technique works, let’s look at a contour map of the function \(f(x, y)\) and plot our constraint \(x^2 + y^2 = 1\) over it.
        </p>
        <img class="graph" src="images/lagrange_contour_1.png">
        <p class="ntm sn">
          Some contour lines for \(f(x, y) = x^3 + y^2\), along with the constraint <span class="purple">\(x^2 + y^2 = 1\).</span>
        </p>
        <p>
          Let’s focus on finding the maximum value of \(f(x, y)\) given this constraint. This is essentially asking “out of all points on this circle \(x^2 + y^2 = 1\), which one of them results in the largest function value?”
        </p>
        <p>
          Looking back at this contour map, we are trying to find points on the circle above that are associated with the highest function value. This is the same as trying to find points on the circle that intersect the contour line with the highest value. In this case, the highest-valued contour line that the circle intersects is the line for \(f(x, y) = 1\).
        </p>
        <img class="graph" src="images/contour_maxima.png">
        <p class="ntm sn">
          These are the points that intersect the highest-valued contour line, i.e. the points that maximize our function’s value given the constraint.
        </p>
        <p>
          Notice that the graph of the constraint \(x^2 + y^2 = 1\) (which we can think of as a contour line for the function \(g(x, y) = x^2 + y^2\)) is tangent to the contour line for \(f(x,y)\) at these maximum points. Remember that one property of the gradient is that the gradient vector at a point is always perpendicular to the contour line that passes through that point. 
        </p>
        <p>
          So if the contour lines for two functions are tangent at a point (in this case, \(f(x, y)\) and our constraint function \(g(x, y)\)), the gradient vectors for both functions at this point will be parallel to each other, meaning that one gradient is a constant multiple of the other. In this case, the gradients of \(f(x, y)\) and \(g(x, y)\) are constant multiples of each other.
        </p>
        <p class="nbm">
          If we call \(\lambda\) (lambda) the ratio between the two vectors (\(\lambda\) is known as the Lagrange multiplier), we can mathematically write this relationship as:
        </p>
        <div class="mj">
          \[ \nabla f(x, y) = \lambda \nabla g(x, y) \]
        </div>
        <p class="ntm">
          The same observation also applies for minima.
        </p>
        <img class="graph" src="images/lagrange_contour_2.png">
        <p class="ntm sn">
          At the <span class="green">minimum point</span> (where the constraint \(x^2 + y^2 = 1\) intersects the \(f(x, y) = -1\) contour line), the contour line is tangent to the constraint.
        </p>
        <p class="nbm">
          So to find the extrema of a function \(f(x, y)\) given a constraint \(g(x, y) = k\) where \(k\) is a constant, this is the system of equations we need to solve:
        </p>
        <div class="mj">
          \[ \nabla f(x, y) = \lambda \nabla g(x, y) \]
          \[ g(x, y) = k \]
        </div>
        <p class="ntm sn">
          \(\nabla f(x, y) = \lambda \nabla g(x, y)\) is the requirement that the gradient vectors of \(f(x, y)\) and \(g(x, y)\) be parallel (which happens at extrema), and \(g(x, y) = k\) is the constraint that our point has to satisfy.
        </p>
        <p class="nbm">
          Now let’s use this technique to actually find the maximum of our function \(f(x, y) = x^3+y^2\) given the constraint \(x^2+y^2=1\). First, we need to find \(\nabla f(x, y)\) and \(\lambda\nabla g(x, y)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \nabla f(x, y) &= (f_x, f_y)\\
          &= (3x^2, 2y)\\
          \end{flalign}\]
          \[ \begin{flalign}
          \lambda\nabla g(x, y) &= \lambda(g_x, g_y)\\
          &= \lambda(2x, 2y)\\
          &= (2x\lambda, 2y\lambda)
          \end{flalign}\]
        </div>
        <p class="nm">
          In order for both of these vectors to be equal, we need each of their components to be equal. Therefore, we need \(3x^2 = 2x\lambda\) and \(2y = 2y\lambda\). So this is the system of equations we have to solve:
        </p>
        <div class="mj">
          \[ 3x^2 = 2x\lambda \]
          \[ 2y = 2y\lambda \]
          \[ x^2 + y^2 = 1 \]
        </div>
        <p class="nm">
          We need to find all possible ordered pairs \((x, y)\) which satisfy this system of equations. To start, we can factor the second equation:
        </p>
        <div class="mj">
          \[ 2y = 2y\lambda \]
          \[ 2y - 2y\lambda = 0 \]
          \[ 2y(1 - \lambda) = 0 \]
          \[ \lambda = 1 \text{ or } y = 0 \]
        </div>
        <p class="nm">
          Let’s investigate both of these possibilities which will cause \(2y = 2y\lambda\) to be true.
        </p>
        <ul>
          <li>If \(y = 0\), then \(x = \pm 1\) because of the constraint \(x^2 + y^2 = 1\). So both \((-1, 0)\) and \((1, 0)\) are solutions to our system of equations. <span class="sn">(Note: If \(y = 0\), then it doesn’t matter what \(\lambda\) is, so we can always make the first equation \(3x^2 = 2x\lambda\) true.)</span></li>
          <li>If \(\lambda = 1\), we can directly solve for \(x\) using the first equation \(3x^2 = 2x\lambda\).</li>
        </ul>
        <div class="mj">
          \[ 3x^2 = 2x\lambda \]
          \[ 3x^2 = 2x(1) \]
          \[ 3x^2 - 2x = 0 \]
          \[ x(3x - 2) = 0 \]
          \[ x = 0, x = \frac{2}{3} \]
        </div>
        <p class="ntm">
          Let’s get the \(y\)-values associated with each of these \(x\)-values.
        </p>
        <p class="nbm">
          For \(x = 0\):
        </p>
        <div class="mj">
          \[ x^2 + y^2 = 1 \]
          \[ 0^2 + y^2 = 1 \]
          \[ y = \pm 1 \]
        </div>
        <p class="nm">
          For \(x = \frac{2}{3}\):
        </p>
        <div class="mj">
          \[ \left(\frac{2}{3}\right)^2 + y^2 = 1 \]
          \[ y^2 = \frac{5}{9} \]
          \[ y = \pm \frac{\sqrt{5}}{3} \]
        </div>
        <p class="ntm">
          So our possible points are \((-1, 0)\), \((1, 0)\), \((0, -1)\), \((0, 1)\), \((\frac{2}{3}, -\frac{\sqrt{5}}{3})\), and \((\frac{2}{3}, \frac{\sqrt{5}}{3})\). These are points that could potentially be our maximum or minimum. Let’s find the value of \(f(x, y)\) at each of these points:
        </p>
        <div class="table-div">
          <table>
            <tr>
              <th>\((x, y)\)</th>
              <th>\(f(x, y)\)</th>
            </tr>
            <tr>
              <td>(-1, 0)</td>
              <td>-1</td>
            </tr>
            <tr>
              <td>(1, 0)</td>
              <td>1</td>
            </tr>
            <tr>
              <td>(0, -1)</td>
              <td>1</td>
            </tr>
            <tr>
              <td>(0, 1)</td>
              <td>1</td>
            </tr>
            <tr>
              <td>\((\frac{2}{3}, -\frac{\sqrt{5}}{3})\)</td>
              <td>\(\frac{23}{27} \approx 0.852\)</td>
            </tr>
            <tr>
              <td>\((\frac{2}{3}, \frac{\sqrt{5}}{3})\)</td>
              <td>\(\frac{23}{27} \approx 0.852\)</td>
            </tr>
          </table>
        </div>
        <p>
          The smallest function value of 1 occurs at \((-1, 0)\), so this is the minimum value of the function given our constraint. The largest function value of 1 occurs at three points: \((1, 0)\), \((0, -1)\), and \((0, 1)\), so this is our maximum given the constraint.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the maximum value of \(f(x, y) = \ln(x^3y)\) given the constraint \(x^3 + y^3 = 4\)?
        </p>
        <p class="nbm">
          We first need to find the gradients of both the function and the constraint, which requires us to find the following partial derivatives:
        </p>
        <div class="mj">
          \[ \pdv{f}{x} = \frac{3x^2y}{x^3y} = \frac{3}{x}\]
          \[ \pdv{f}{y} = \frac{x^3}{x^3y} = \frac{1}{y}\]
          \[ \pdv{x}(x^3 + y^3) = 3x^2 \]
          \[ \pdv{y}(x^3 + y^3) = 3y^2 \]
        </div>
        <p class="nm">
          Therefore, the gradients are:
        </p>
        <div class="mj">
          \[ \nabla f(x, y) = \left(\frac{3}{x}, \frac{1}{y}\right) \]
          \[ \nabla g(x, y) = (3x^2, 3y^2) \]
        </div>
        <p class="nm">
          So the system of equations we need to solve is:
        </p>
        <div class="mj">
          \[ \left(\frac{3}{x}, \frac{1}{y}\right) = \lambda(3x^2, 3y^2) \]
          \[ x^3 + y^3 = 4 \]
        </div>
        <p class="nm">
          This is what it looks like when we expand the first equation into two equations:
        </p>
        <div class="mj">
          \[ \frac{3}{x} = 3x^2\lambda \]
          \[ \frac{1}{y} = 3y^2\lambda \]
          \[ x^3 + y^3 = 4 \]
        </div>
        <p class="ntm sn">
          (Note that \(\lambda \ne 0\) because it’s impossible for \(\frac{3}{x}\) or \(\frac{1}{y}\) to equal 0.)
        </p>
        <p class="nbm">
          Now let’s start solving this system! We can multiply the first equation by \(x\) and the second equation by \(y\):
        </p>
        <div class="mj">
          \[ 3 = 3x^3 \lambda \]
          \[ 1 = x^3 \lambda \]
          \[ 1 = 3y^3 \lambda \]
        </div>
        <p class="nm">
          Now let’s try to get \(3y^3\) in terms of \(x\). We can do that using the constraint:
        </p>
        <div class="mj">
          \[ x^3 + y^3 = 4 \]
          \[ y^3 = 4 - x^3 \]
          \[ 1 = 3(4 - x^3)\lambda \]
        </div>
        <p class="nm">
          So now we know that \(1 = x^3\lambda\) and \(1 = 3(4-x^3)\lambda\), so we can set the right-hand sides equal to each other:
        </p>
        <div class="mj">
          \[ x^3 \lambda = 3(4-x^3)\lambda \]
          \[ x^3\lambda = (12-3x^3)\lambda \]
          \[ x^3 = 12 - 3x^3 \]
          \[ 4x^3 = 12 \]
          \[ x^3 = 3 \]
          \[ x = \sqrt[3]{3} \]
        </div>
        <p class="ntm sn">
          We can divide both sides by \(\lambda\) because we know that \(\lambda \ne 0\).
        </p>
        <p class="nbm">
          Let’s solve for the \(y\)-value associated with \(x = \sqrt[3]{3}\):
        </p>
        <div class="mj">
          \[ (\sqrt[3]{3})^3 + y^3 = 4\]
          \[ y^3 = 1 \]
          \[ y = 1 \]
        </div>
        <p class="ntm">
          The only point produced by the Lagrange multiplier technique is \((\sqrt[3]{3}, 1)\), so we know it is an extremum. But is this point a maximum or a minimum? To find out, we need to plug in another point that satisfies the constraint into our function \(f(x, y) = \ln(x^3y)\). If this point has a larger function value, our extremum is a minimum, and if the point has a smaller function value, our extremum is a maximum.
        </p>
        <p class="nbm">
          We can plug in any point that satisfies \(x^3 + y^3 = 4\). I’m going to be plugging in \((1, \sqrt[3]{3})\), since it’s relatively easy to evaluate the function at this point.
        </p>
        <div class="mj">
          \[ f(\sqrt[3]{3}, 1) = \ln(3) \approx 1.099 \]
          \[ f(1, \sqrt[3]{3}) = \ln(\sqrt[3]{3}) \approx 0.366 \]
        </div>
        <p class="ntm">
          The function value is smaller at \((1, \sqrt[3]{3})\), so we know that the point \((\sqrt[3]{3}, 1)\) is a maximum. So the maximum value of \(f(x, y) = \ln(x^3y)\) given the constraint \(x^3 + y^3 = 4\) is about 1.099, and it occurs at the point \((\sqrt[3]{3}, 1)\).
        </p>
      </div>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Unit 4 -->
  <div class="unit" id="unit4Unit">
    <h2 id="unit4Header">
      <span onclick="showHideUnit('unit4')"><span class="gray">Unit 4:</span> Multiple Integrals</span>
      <button id="unit4Button" onclick="showHideUnit('unit4')">Show</button>
    </h2>
    <div class="hidden-by-default" id="unit4">
      <div>
        <button class="large-button" onclick="toggleAllSections('unit4', 'show')">Show All Sections</button>
        <div class="button-spacing"></div>
        <button class="large-button" onclick="toggleAllSections('unit4', 'hide')">Hide All Sections</button>
      </div>
      <h3 class="section-header" id="doubleIntIntroHeader">
        Intro to Double Integrals <button id="doubleIntIntroButton" onclick="showHide('doubleIntIntro')">Show</button>
      </h3>
      <div class="hidden-by-default" id="doubleIntIntro">
        <p>
          You’ve learned about how you can use integrals to find the area under curves, and you most likely have seen how they can be used to find the volume of solids of revolution. But now we’re going to use integrals to find the volume under functions of two variables (i.e. under surfaces in 3D space).
        </p>
        <img class="graph" src="images/surface_volume.png">
        <p class="ntm sn">
          How can we use integrals to find the <span class="red">volume under this surface</span>?
        </p>
        <p>
          When we find the volume under surfaces, we need to define a 2D region that we are integrating over.
        </p>
        <p>
          Let’s say we have a surface defined by \(z = f(x, y)\) for some function of two variables \(f(x, y)\) and we want to find the volume under the surface. Just like how we used Riemann sums with rectangles to find areas, we can use Riemann sums with rectangular prisms to find volumes:
        </p>
        <img class="graph" src="images/double_integral_riemann.png">
        <p class="ntm sn">
          These rectangular prisms approximate the volume under this surface from \(0 \le x \le 5\) and \(0 \le y \le 5\).
        </p>
        <p class="nbm">
          The volume of each rectangular prism is \(f(x_m, y_n) \Delta x \Delta y\), where \(x_m\) and \(y_n\) represent the coordinates of a point within each rectangle’s base and \(\Delta x\) and \(\Delta y\) are the length and width of each prism. Therefore, the sum of the volumes of these rectangular prisms can be calculated by:
        </p>
        <div class="mj">
          \[ \sum_{j=1}^n\sum_{i=1}^m f(x_m, y_n) \Delta x \Delta y\]
        </div>
        <p class="ntm sn">
          \(m\) represents the number of rectangular prisms in the \(x\)-direction, and \(n\) represents the number of rectangular prisms in the \(y\)-direction. Therefore, we are summing the volumes of \(mn\) rectangular prisms.
        </p>
        <p class="nm">
          We can find the exact volume under the surface by making the rectangular prisms smaller and smaller. We can do this by taking the limit of our double summation as \(n\) and \(m\) approach infinity:
        </p>
        <div class="mj">
          \[ V = \lim_{n\to\infty}\lim_{m\to\infty}\sum_{j=1}^n\sum_{i=1}^m f(x_m, y_n) \Delta x \Delta y\]
        </div>
        <p class="nm">
          Just like how the limit of a Riemann sum can be converted into an integral, this double summation can be converted into a double integral, notated like this:
        </p>
        <div class="mj">
          \[ V = \iint_R f(x, y) \dd{A} \]
        </div>
        <p class="ntm sn">
          \(R\) is the region we’re integrating over.
        </p>
        <p>
          In the next section, we’ll discuss how we can actually evaluate integrals like these!
        </p>
      </div>
      <h3 class="section-header" id="doubleIntHeader">
        Double Integrals: Iterated Integrals and Finding Volume Under Rectangular Regions <button id="doubleIntButton" onclick="showHide('doubleInt')">Show</button>
      </h3>
      <div class="hidden-by-default" id="doubleInt">
        <p>
          Now we’re going to explore one technique to find double integrals without directly using the limit definition (since it would be really hard to evaluate integrals with that definition in practice). Let’s start with an example problem:
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the volume under \(f(x, y) = \sin(x)\cos(y) + 1\) over the rectangle defined by \(0 \le x \le \pi\) and \(0 \le y \le \frac{\pi}{2}\)?
        </p>
        <img class="graph" src="images/double_integral_volume.png">
        <p class="ntm sn">
          What is the <span class="blue">volume</span> under the function <span class="red">\(f(x, y) = \sin(x)\cos(y) + 1\)</span> over the region \(0 \le x \le \pi\) and \(0 \le y \le \frac{\pi}{2}\)?
        </p>
        <p>
          When we found areas under curves, we approximated the area using rectangles, then made the rectangles smaller and smaller. We can do something similar in three dimensions: we can consider small slices of this volume perpendicular to the \(x\)-axis.
        </p>
        <img class="graph" src="images/double_integral_slice.png">
        <p class="ntm sn">
          This is a tiny slice of the volume we’re trying to find.
        </p>
        <p>
          If we divide the volume into these small slices, then sum up the volumes of all of these slices, then we will get an approximation of the total volume. As we make these slices smaller and smaller, our volume approximation will approach the actual volume.
        </p>
        <p>
          So we just need to find the volume of each tiny slice, then add up all of the slices to get the total volume.
        </p>
        <p>
          Let’s take a closer look at one of our slices.
        </p>
        <img class="graph" src="images/double_integral_slice_2.png">
        <p>
          Let’s say that our slice is sitting along the \(x\)-value \(x = x_0\). To find the volume of this slice, we first need to find the area that is indicated in the diagram above.
        </p>
        <p class="nbm">
          Finding this area is just like finding the area under a single-variable function. In this case, we are finding the area under \(f(x_0, y)\) as \(y\) ranges from 0 to \(\frac{\pi}{2}\) (because the region we are finding the volume under goes from \(y = 0\) to \(y = \frac{\pi}{2}\)).
        </p>
        <div class="mj">
          \[ A = \int_0^{\pi/2} f(x_0, y) \dd{y} \]
        </div>
        <p class="nm">
          In our case, our function is \(f(x, y) = \sin(x)\cos(y) + 1\), so let’s substitute that in:
        </p>
        <div class="mj">
          \[ A = \int_0^{\pi/2} [\sin(x_0)\cos(y) + 1] \dd{y} \]
        </div>
        <p class="nm">
          Notice how we have an integral with two variables, \(x_0\) and \(y\). However, the \(\dd{y}\) tells us we are integrating with respect to \(y\). In this case, we can treat all other variables (in this case \(x_0\)) as constants (similar to what we would do with a partial derivative with respect to \(y\)).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \int_0^{\pi/2} [\sin(x_0)\cos(y) + 1] \dd{y}\\
          &= [\sin(x_0)\sin(y) + y]\bigg|_0^{\pi/2}\\
          &= \left[\sin(x_0)\sin\left(\frac{\pi}{2}\right) + \frac{\pi}{2}\right] - \left[\sin(x_0)\sin(0) + 0\right]\\
          &= \sin(x_0) + \frac{\pi}{2}
          \end{flalign} \]
        </div>
        <p class="nm">
          What this tells us is that in general, for any \(x\)-value the slice is sitting on, the area is \(\sin(x) + \frac{\pi}{2}\). So we can create a function for the area of any given slice given its \(x\)-value:
        </p>
        <div class="mj">
          \[ A(x) = \sin(x) + \frac{\pi}{2}\]
        </div>
        <p class="ntm">
          The volume of each slice is \(\Delta x\) times this area (where \(\Delta x\) is the width of each slice), which is \([\sin(x) + \frac{\pi}{2}]\Delta x\). As we make the slices smaller and smaller, we can treat this \(\Delta x\) as the differential \(\dd{x}\).
        </p>
        <p class="nbm">
          To find the volume of the solid, we need to add up the volume of all of these tiny slices across the range of \(x\)-values given (which in this case is \(0 \le x \le \pi)\). Remember that we are making these slices infinitesimally thin, so we can use an integral to find the total volume. The volume of each slice is given by the area function \(A(x)\) we found before, times an infinitesimally small width \(\dd{x}\), so that’s what we need to integrate.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \int_0^\pi A(x) \dd{x}\\
          &= \int_0^\pi \left[\sin(x) + \frac{\pi}{2}\right] \dd{x}\\
          &= \left[-\cos(x) + \frac{\pi}{2}x\right]\bigg|_0^\pi\\
          &= \left[-\cos(\pi) + \frac{\pi}{2}(\pi)\right] - \left[-\cos(0) + \frac{\pi}{2}(0)\right]\\
          &= \left(1 + \frac{\pi^2}{2}\right) - (-1)\\
          &= 2 + \frac{\pi^2}{2}\\
          &\approx 6.935
          \end{flalign}\]
        </div>
        <p class="ntm">
          To summarize, what we did here was consider the volume of tiny slices perpendicular to the \(x\)-axis, then sum them along the \(y\)-axis using an integral.
        </p>
        <p>
          There is another way we can find the volume: by first considering slices perpendicular to the \(y\)-axis, then summing them up along the \(x\)-axis.
        </p>
        <img class="graph" src="images/double_integral_slice_y.png">
        <p class="ntm sn">
          A slice perpendicular to the \(y\)-axis.
        </p>
        <p class="nbm">
          The area for each slice at \(y = y_0\) is the integral of \(f(x, y_0)\) from \(x = 0\) to \(x = \pi\).
        </p>
        <div class="mj">
          \[ A = \int_0^\pi f(x, y_0) \dd{x} \]
        </div>
        <p class="nm">
          So here is our area function given the \(y\)-value of any slice:
        </p>
        <div class="mj">
          \[ A(y) = \int_0^\pi f(x, y) \dd{x} \]
        </div>
        <p class="nm">
          To get the total volume, we integrate this area function across the values of \(x\) our solid covers, which is \(x = 0\) to \(x = \frac{\pi}{2}\). This time, instead of finding an expression for \(A(y)\) first, let’s do the entire integral all at once:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \int_0^{\pi/2} A(y) \dd{y}\\
          &= \int_0^{\pi/2}\int_0^\pi f(x, y) \dd{x}\dd{y}\\
          &= \int_0^{\pi/2}\int_0^\pi [\sin(x)\cos(y) + 1] \dd{x}\dd{y}\\
          &= \int_0^{\pi/2}[-\cos(x)\cos(y) + x]\bigg|_{x=0}^{x=\pi}\dd{y}\\
          &= \int_0^{\pi/2}\left([-\cos(\pi)\cos(y) + \pi] - [-\cos(0)\cos(y) + 0 ]\right)\dd{y}\\
          &= \int_0^{\pi/2}[2\cos(y) + \pi]\dd{y}\\
          &= [2\sin(y) + \pi y]\bigg|_0^{\pi/2}\\
          &= [2\sin\left(\frac{\pi}{2}\right) + \pi \left(\frac{\pi}{2}\right)] - [2\sin(0) + \pi(0)]\\
          &= 2 + \frac{\pi^2}{2}\\
          &\approx 6.935
          \end{flalign}\]
        </div>
        <p class="ntm">
          Notice how we need to perform two integrals to find the volume. We call this an <strong>iterated integral</strong>, which is when we evaluate a double integral by performing two separate integrations.
        </p>
        <p class="large-text bold">
          Double integral notation
        </p>
        <p class="nbm">
          Let’s take a closer look at the general notation for a double integral:
        </p>
        <div class="mj">
          \[ \iint_R f(x, y) \dd{A} \]
        </div>
        <p class="ntm">
          \(R\) represents the region we are integrating over, and \(\dd{A}\) represents an infinitesimal area (which in rectangular/Cartesian coordinates is equivalent to \(\dd{x}\dd{y}\) or \(\dd{y}\dd{x}\)).
        </p>
        <p>
          If we divide the region we are integrating over into a bunch of tiny squares, you can think of \(\dd{A}\) as representing the area of each of these squares. So the double integral \(\iint_R f(x, y) \dd{A}\) is multiplying the function’s value at each of these squares by the area of each square, then summing them up to calculate a volume. (To be more precise, the integral is the limit of this sum as the squares become infinitesimally small.)
        </p>
        <img class="graph" src="images/square_regions.png">
        <p class="ntm sn">
          An example of a region \(R\) divided into many small squares. \(\dd{A}\) represents the area of each of these tiny squares.
        </p>
        <p class="large-text bold">
          Summary
        </p>
        <p>
          To summarize, there are two ways to find the area under a function of two variables over a rectangular region:
        </p>
        <ul>
          <li>Consider slices perpendicular to the \(x\)-axis. Find the area of any slice given its \(x\)-value (this will be given by an integral with respect to \(y\)), then integrate this area along the range of \(x\)-values that the solid covers.</li>
          <li>Consider slices perpendicular to the \(y\)-axis. Find the area of any slice given its \(y\)-value (this will be given by an integral with respect to \(x\)), then integrate this area along the range of \(y\)-values that the solid covers.</li>
        </ul>
      </div>
      <h3 class="section-header" id="doubleIntGeneralHeader">
        Double Integrals: Finding Volume Under General Regions <button id="doubleIntGeneralButton" onclick="showHide('doubleIntGeneral')">Show</button>
      </h3>
      <div class="hidden-by-default" id="doubleIntGeneral">
        <p>
          In the previous section, we saw how we could find the volume under surfaces over rectangular regions. Now we’re going to explore how we can do the same for non-rectangular regions.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the volume under \(f(x, y) = x^2 + xy^3 + 1\) over the region \(x^2 + y^2 \le 1\)?
        </p>
        <img class="graph" src="images/double_integral_circle.png">
        <p>
          We can once again consider tiny slices of this solid perpendicular to the \(x\)-axis.
        </p>
        <img class="graph" src="images/double_integral_circle_slice.png">
        <p>
          To find the area of a slice at \(x = x_0\), we once again need to integrate \(f(x_0, y)\) with respect to \(y\). But what values of \(y\) do we need to integrate over? This time, our region \(x^2 + y^2 = 1\) doesn’t have constant \(y\)-bounds, so we need to determine the \(y\)-bounds depending on the \(x\)-value of our slice.
        </p>
        <p>
          Let’s look at a top-down view of our solid.
        </p>
        <img class="graph" src="images/double_integral_circle_points.png">
        <p class="nbm">
          We need to determine the \(y\)-values that this slice covers, which are the \(y\)-coordinates of the <span class="green">two points</span> in the image above. Both of the points lie on the circle \(x^2 + y^2 = 1\), and we know that they both have an \(x\)-value of \(x_0\), so we can solve for their \(y\)-values:
        </p>
        <div class="mj">
          \[ x_0^2 + y^2 = 1 \]
          \[ y^2 = 1 - x_0^2 \]
          \[ y = \pm\sqrt{1-x_0^2} \]
        </div>
        <img class="graph" src="images/double_integral_circle_points_2.png">
        <p class="nbm">
          So for any slice at \(x = x_0\), the area is:
        </p>
        <div class="mj">
          \[ \int_{-\sqrt{1-x_0^2}}^{\sqrt{1-x_0^2}}f(x_0, y) \dd{y} \]
        </div>
        <p class="nm">
          Therefore, our area function is:
        </p>
        <div class="mj">
          \[ A(x) = \int_{-\sqrt{1-x^2}}^{\sqrt{1-x^2}}f(x, y) \dd{y} \]
        </div>
        <p class="nm">
          We need to integrate this area function over all values of \(x\) that our circular region covers, which is \(-1 \le x \le 1\). So our volume is:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \int_{-1}^1 A(x) \dd{x}\\
          &= \int_{-1}^1 \int_{-\sqrt{1-x^2}}^{\sqrt{1-x^2}}f(x, y) \dd{y} \dd{x}\\
          &= \int_{-1}^1 \int_{-\sqrt{1-x^2}}^{\sqrt{1-x^2}}(x^2 + xy^3 + 1) \dd{y} \dd{x}\\
          &= \int_{-1}^1 \left(x^2y + \frac{xy^4}{4} + y\right)\bigg|_{y=-\sqrt{1-x^2}}^{y=\sqrt{1-x^2}} \dd{x}\\
          &= \int_{-1}^1 \left[\left(x^2\sqrt{1-x^2} + \frac{x(\sqrt{1-x^2})^4}{4} + \sqrt{1-x^2}\right) - \left(-x^2\sqrt{1-x^2} + \frac{x(-\sqrt{1-x^2})^4}{4} - \sqrt{1-x^2}\right)\right] \dd{x}\\
          &= \int_{-1}^1 \left[2x^2\sqrt{1-x^2} + 2\sqrt{1-x^2}\right] \dd{x}\\
          \end{flalign} \]
        </div>
        <p class="ntm">
          This is a complicated integral to perform by hand, so I’m not going to do that here. By plugging this integral into a calculator, we get a result of \(\frac{5\pi}{4} \approx 3.927\).
        </p>
        <p>
          Once again, there is another way we can find this volume: by first considering slices perpendicular to the \(y\)-axis.
        </p>
        <img class="graph" src="images/double_integral_circle_slice_y.png">
        <p class="nbm">
          Here is the area function for each slice:
        </p>
        <div class="mj">
          \[ A(y) = \int_{-\sqrt{1-y^2}}^{\sqrt{1-y^2}}f(x, y)\dd{x} \]
        </div>
        <p class="nm">
          And here is the volume integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \int_{-1}^1 A(y) \dd{y}\\
          &= \int_{-1}^1 \int_{-\sqrt{1-y^2}}^{\sqrt{1-y^2}}f(x, y)\dd{x} \dd{y}\\
          &= \int_{-1}^1 \int_{-\sqrt{1-y^2}}^{\sqrt{1-y^2}}(x^2 + xy^3 + 1)\dd{x} \dd{y}\\
          &= \int_{-1}^1 (\frac{x^3}{3} + \frac{x^2y^3}{2} + x)\bigg|_{x={-\sqrt{1-y^2}}}^{x=\sqrt{1-y^2}} \dd{y}\\
          &= \int_{-1}^1 \left[\left(\frac{(\sqrt{1-y^2})^3}{3} + \frac{(\sqrt{1-y^2})^2y^3}{2} + \sqrt{1-y^2}\right) - \left(\frac{(-\sqrt{1-y^2})^3}{3} + \frac{(-\sqrt{1-y^2})^2y^3}{2} - \sqrt{1-y^2}\right)\right] \dd{y}\\
          &= \int_{-1}^1 \left[\frac{2}{3}(\sqrt{1-y^2})^3 + 2\sqrt{1-y^2}\right] \dd{y}
          \end{flalign} \]
        </div>
        <p class="ntm">
          This integral is equal to \(\frac{5\pi}{4}\), the same result we got before.
        </p>
      </div>
      <h3 class="section-header" id="doubleIntPolarHeader">
        Double Integrals in Polar Coordinates <button id="doubleIntPolarButton" onclick="showHide('doubleIntPolar')">Show</button>
      </h3>
      <div class="hidden-by-default" id="doubleIntPolar">
        <p>
          When we performed a double integral over a circular region in the last section, we had to write the bounds of the inner integral in terms of a variable, resulting in messy bounds like \(\sqrt{1-x^2}\) and \(\sqrt{1-y^2}\). However, there is an alternate way to do this, and it involves polar coordinates. <span class="sn">(You can review polar coordinates in Unit 9 of <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/calc">unnamed calc website</a>.)</span>
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the volume under \(f(x, y) = \sqrt{x^2 + y^2}\) over the region \(x^2 + y^2 \le 4\)?
        </p>
        <img class="graph" src="images/polar_double_integral.png">
        <p class="ntm sn">
          What is the volume between the cone defined by \(\class{red}{f(x, y) = \sqrt{x^2 + y^2}}\) over the region \(x^2 + y^2 \le 4\) and the \(xy\)-plane?
        </p>
        <p>
          This time, we’re going to express our region and our function in terms of polar coordinates. Let’s handle the region first: the region is a circle with radius 2, so we can represent this region in polar coordinates as \(r \le 2\) (i.e. all of the points that are a distance of less than 2 away from the origin).
        </p>
        <p>
          Now for the function. Remember that the equation \(r^2 = x^2 + y^2\) can help us convert between rectangular and polar coordinates. Therefore, \(\sqrt{x^2 + y^2} = r\), so our new function in terms of polar coordinates is \(f(r, \theta) = r\).
        </p>
        <p class="nbm">
          Let’s go back to the general form of a double integral:
        </p>
        <div class="mj">
          \[ \iint_R f \dd{A} \]
        </div>
        <p class="ntm">
          Normally, we would replace \(\dd{A}\) with either \(\dd{x}\dd{y}\) or \(\dd{y}\dd{x}\), but since we’re working with polar coordinates instead of rectangular coordinates, we can’t do that here. Instead, let’s consider what \(\dd{A}\) actually represents: a tiny area in the region we’re integrating over. How can we write this in terms of polar coordinates?
        </p>
        <p>
          Let’s look at the region we are integrating over. With rectangular coordinates, we divided this region into small squares, each with an infinitesimal area \(\dd{A} = \dd{x}\dd{y}\).
        </p>
        <p>
          However, with polar coordinates, it’s more helpful to divide the region like this:
        </p>
        <img class="graph" src="images/polar_regions.png">
        <p>
          Why is this helpful? Well, let’s take a closer look at one of these small pieces.
        </p>
        <img class="graph" src="images/polar_region.png">
        <p>
          Notice that this piece is similar to a rectangle, so we can approximate it with a rectangle. The height of this rectangle can be thought of as a small change in \(r\), or \(\Delta r\). You might think then that the width is a small change in \(\theta\), or \(\Delta \theta\), but this isn’t quite right. That’s because \(\Delta\theta\) is an angle, not a length.
        </p>
        <p>
          Our width is actually the length of an arc of a circle with radius \(r\). Remember that the length of an arc of a circle with radius \(r\) is \(r\theta\), where \(\theta\) is the angle of the arc in radians (i.e. to convert an angle to an arc length, we need to multiply by \(r\)). So our arc length in this case is \(r\Delta\theta\).
        </p>
        <p>
          Therefore, the area of each piece is about \(r\Delta \theta\Delta r\).
        </p>
        <img class="graph" src="images/polar_region_2.png">
        <p class="ntm sn">
          The area of each piece can be approximated by \(\class{blue}{r\Delta\theta}\class{green}{\Delta r}\).
        </p>
        <p>
          As we make these pieces smaller and smaller, we can replace \(\Delta \theta\) and \(\Delta r\) by the differentials \(\dd{\theta}\) and \(\dd{r}\). Therefore, the area of one of these infinitesimally small pieces is \(r\dd{\theta}\dd{r}\). This is our expression for \(\dd{A}\).
        </p>
        <p class="nbm">
          So to perform a double integral in polar coordinates, we replace \(\dd{A}\) with \(r\dd{\theta}\dd{r}\):
        </p>
        <div class="mj">
          \[ \iint_R f(r, \theta) r\dd{\theta}\dd{r} \]
        </div>
        <p class="ntm sn">
          Don’t forget about the additional \(r\) at the end! \(\dd{A}\) is <strong>not</strong> equal to \(\dd{\theta}\dd{r}\).
        </p>
        <p>
          Let’s solve our original problem now. Our function in polar coordinates is \(f(r, \theta) = r\). But what are the bounds? We already found that our region can be represented as \(r \le 2\) in polar coordinates, so we are integrating from \(r = 0\) to \(r = 2\).
        </p>
        <p>
          We are integrating over an entire circle, so the range of \(\theta\) values is \(\theta = 0\) to \(\theta = 2\pi\). So our region can be represented as \(0 \le r \le 2\) and \(0 \le \theta \le 2\pi\).
        </p>
        <p class="nbm">
          Just like how we can choose to integrate with respect to either \(x\) or \(y\) first with standard double integrals, we can choose to integrate with respect to either \(r\) or \(\theta\) first. Let’s first try integrating with respect to \(r\) first.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \int_0^{2\pi}\int_0^2 f(r, \theta)r\dd{r}\dd{\theta} \\
          &= \int_0^{2\pi}\int_0^2 r\cdot r\dd{r}\dd{\theta} \\
          &= \int_0^{2\pi}\int_0^2 r^2\dd{r}\dd{\theta} \\
          &= \int_0^{2\pi}\frac{r^3}{3}\bigg|_0^2\dd{\theta} \\
          &= \int_0^{2\pi}\frac{8}{3}\dd{\theta} \\
          &= \frac{8}{3}\theta\bigg|_0^{2\pi}\\
          &= \frac{16\pi}{3}\\
          &\approx 16.755
          \end{flalign}\]
        </div>
        <p class="nm">
          Here’s what happens if we integrate with respect to \(\theta\) first:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \int_0^2\int_0^{2\pi} f(r, \theta)r\dd{\theta}\dd{r} \\
          &= \int_0^2\int_0^{2\pi} r^2\dd{\theta}\dd{r} \\
          &= \int_0^2 r^2\theta\bigg|_{\theta=0}^{\theta=2\pi}\dd{r} \\
          &= \int_0^2 2\pi r^2\dd{r} \\
          &= 2\pi\frac{r^3}{3}\bigg|_0^2\\
          &= \frac{16\pi}{3}\\
          &\approx 16.755
          \end{flalign}\]
        </div>
        <p class="ntm">
          As expected, this gives the same result as before.
        </p>
        <p class="nbm">
          In case you’re curious, here is what this same double integral would look like in rectangular coordinates:
        </p>
        <div class="mj">
          \[ V = \int_{-2}^2\int_{-\sqrt{4-x^2}}^\sqrt{4-x^2} \sqrt{x^2+y^2}\dd{y}\dd{x} \quad(\text{integrating with respect to }y\text{ first})\]
          \[ V = \int_{-2}^2\int_{-\sqrt{4-y^2}}^\sqrt{4-y^2} \sqrt{x^2+y^2}\dd{x}\dd{y} \quad(\text{integrating with respect to }x\text{ first})\]
        </div>
        <p class="ntm">
          It’s definitely a lot easier to perform this double integral in polar coordinates!
        </p>
        <p class="bold large-text">
          Summary
        </p>
        <p>
          Polar coordinates can be used to simplify some double integrals that would otherwise be difficult to perform in rectangular coordinates. To do this, we rewrite our function \(f(x, y)\) in terms of \(r\) and \(\theta\), determine the bounds of integration in terms of \(r\) and \(\theta\), and make the substitution \(\dd{A} = r\dd{\theta}\dd{r}\).
        </p>
        <p>
          Changing from rectangular coordinates to polar coordinates is an example of what’s known as a change of variables for multiple integrals, where we change what coordinate system we’re using in order to make an integral easier. You will learn more examples of this later on!
        </p>
      </div>
      <h3 class="section-header" id="doubleIntOtherHeader">
        Double Integrals: Finding Area and Mass <button id="doubleIntOtherButton" onclick="showHide('doubleIntOther')">Show</button>
      </h3>
      <div class="hidden-by-default" id="doubleIntOther">
        <p>
          Double integrals aren’t just limited to finding volume: they can also be used to find other things.
        </p>
        <p class="bold large-text">
          Using double integrals to find area
        </p>
        <p class="nbm">
          Remember that a double integral for volume over a region \(R\) looks like this:
        </p>
        <div class="mj">
          \[ V = \iint_R f \dd{A} \]
        </div>
        <p class="ntm">
          This integral is essentially saying, “chop up the region \(R\) into many small slices of area, multiply the area of each slice by the function value at that slice, then add these values all up.” How can we modify this definition to calculate the area of the region \(R\) instead?
        </p>
        <p class="nbm">
          We can simply add up the areas of each slice instead of multiplying them by the function value (i.e. we don’t need to multiply \(\dd{A}\) by \(f\).) So this is what a double integral to find area looks like:
        </p>
        <div class="mj">
          \[ A = \iint_R \dd{A} \]
        </div>
        <p class="ntm">
          Here’s an example:
        </p>
        <p class="problem">
          <strong>Problem</strong>: Show using a double integral that the area of a circle with radius \(R\) is \(\pi R^2\).
        </p>
        <p>
          Just to make our lives easier, we’re going to use a polar double integral here (so we don’t have to deal with integral bounds like \(\sqrt{R^2 - x^2}\).) To integrate over this circle, the range of \(r\)-values we need to use is \(0 \le r \le R\), and the range of \(\theta\)-values is \(0 \le \theta \le 2\pi\).
        </p>
        <p class="nbm">
          So if we call the region we are integrating over \(R_0\) (to avoid confusion with the radius \(R\)), our area double integral is:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \iint_{R_0}\dd{A}\\
          &= \int_0^R\int_0^{2\pi}r\dd{\theta}\dd{r} \quad (\text{since }\dd{A} = r\dd{\theta}\dd{r})\\
          &= \int_0^R r\theta\bigg|_{\theta=0}^{\theta=2\pi}\dd{r}\\
          &= \int_0^R 2\pi r\dd{r}\\
          &= 2\pi \frac{r^2}{2}\bigg|_0^R\\
          &= \pi r^2\bigg|_0^R\\
          &= \pi R^2
          \end{flalign} \]
        </div>
        <p class="ntm sn">
          Alternatively, we could integrate with respect to \(r\) first using the integral \(\int_0^{2\pi}\int_0^R r\dd{r}\dd{\theta}\).
        </p>
        <p class="large-text bold">
          Double integrals to find mass
        </p>
        <p>
          We can also use double integrals to find the mass of a sheet given its area density (two-dimensional density) at all points.
        </p>
        <p class="problem">
          <strong>Problem</strong>: the area density of a plate in \(\text{kg/m}^2\) around a point \((x, y)\) is given by the function \(f(x, y) = 1 + xy\). What is the total mass of the plate over the region \(0 \le x \le 2\) and \(0 \le y \le 1\) (where \(x\) and \(y\) are in meters)?
        </p>
        <p class="nbm">
          Once again, we can imagine chopping up the region into many small squares. The mass of each square is given by the density of that square times its area, which can be represented by \(f(x, y) \dd{A}\). So integrating this product over our region gives the total mass of the entire plate.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          m &= \iint_R f(x,y) \dd{A} \\
          &= \int_0^2\int_0^1 f(x, y) \dd{y}\dd{x}\\
          &= \int_0^2\int_0^1 (1+xy)\dd{y}\dd{x}\\
          &= \int_0^2\left(y + \frac{xy^2}{2}\right)\bigg|_{y=0}^{y=1}\dd{x}\\
          &= \int_0^2\left(1 + \frac{x}{2}\right)\dd{x}\\
          &= \left(x + \frac{x^2}{4}\right)\bigg|_0^2\\
          &= \left(2 + \frac{2^2}{4}\right) - \left(0 + \frac{0^2}{4}\right)\\
          &= 3 \text{ kg}
          \end{flalign}\]
        </div>
        <p class="ntm sn">
          Note that the unit for \(f(x, y)\) is \(\text{kg/m}^2\) and the unit for \(\dd{A}\) is \(\text{m}^2\), so our final answer is in terms of kilograms.
        </p>
      </div>
      <h3 class="section-header" id="tripleIntHeader">
        Triple Integrals: Finding Volume and Mass <button id="tripleIntButton" onclick="showHide('tripleInt')">Show</button>
      </h3>
      <div class="hidden-by-default" id="tripleInt">
        <p>
          We’ve seen that we can use double integrals to find volume, but they can also be used to the area and mass of two-dimensional objects. We can extend this idea to three dimensions - this time by using 3 integrals to find the volume and mass of three-dimensional objects.
        </p>
        <p>
          Let’s start off with a density/mass problem.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the mass of a solid within a region defined by \(0 \le x \le 1\), \(0 \le y \le 2\), and \(0\le z \le \frac{\pi}{2}\) with density given by \(f(x, y, z) = xy\cos(z) + 1\)?
        </p>
        <p class="nbm">
          Remember what a double integral looks like:
        </p>
        <div class="mj">
          \[ \iint_R f \dd{A} \]
        </div>
        <p class="nm">
          A triple integral is similar, except we have three integrals instead of two and the differential is now \(\dd{V}\), an infinitesimal volume:
        </p>
        <div class="mj">
          \[ \iiint_R f \dd{V} \]
        </div>
        <p class="ntm">
          You can think of \(\dd{V}\) as the volume of an infinitesimally small cube, so it can be written as \(\dd{x}\dd{y}\dd{z}\) (or any other combination of \(\dd{x}\), \(\dd{y}\), and \(\dd{z}\) in any order).
        </p>
        <img class="graph" src="images/volume_pieces.png">
        <p class="ntm sn">
          This is what it looks like when we chop up a volume into many smaller cubes. As the cubes get smaller and smaller, the volume of each cube can be represented by the differential \(\dd{V}\).
        </p>
        <p class="nbm">
          Going back to our problem, we can imagine dividing our region into many tiny pieces with volume \(\dd{V}\). The mass of each piece is its density times its volume, or \(f(x, y, z) \dd{V}\). So the total mass of the solid can be found by integrating \(f(x, y, z) \dd{V}\) over our region:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          m &= \iiint_R f(x, y, z) \dd{V}\\
          &= \class{purple}{\int_0^1}\class{blue}{\int_0^2}\class{red}{\int_0^{\pi/2}} f(x, y, z) \class{red}{\dd{z}}\class{blue}{\dd{y}}\class{purple}{\dd{x}}\\
          \end{flalign} \]
        </div>
        <p class="ntm">
          When you’re working out these integrals, make sure you’re putting the correct bounds on each integral! For this integral, the bounds for \(\class{purple}{x}\) are \(\class{purple}{0 \le x \le 1}\), the bounds for \(\class{blue}{y}\) are \(\class{blue}{0 \le y \le 2}\), and the bounds for \(\class{red}{z}\) are \(\class{red}{0 \le z \le \frac{\pi}{2}}\).
        </p>
        <p class="nbm">
          Here is the work to evaluate this integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          m &= \int_0^1\int_0^2\int_0^{\pi/2} f(x, y, z) \dd{z}\dd{y}\dd{x}\\
          &= \int_0^1\int_0^2\int_0^{\pi/2} (xy\cos(z) + 1) \dd{z}\dd{y}\dd{x}\\
          &= \int_0^1\int_0^2\left(xy\sin(z) + z\right)\bigg|_0^{\pi/2}\dd{y}\dd{x}\\
          &= \int_0^1\int_0^2\left[\left(xy\sin\left(\frac{\pi}{2}\right) + \frac{\pi}{2}\right) - \left(xy\sin\left(0\right) + 0\right)\right]\dd{y}\dd{x}\\
          &= \int_0^1\int_0^2\left(xy + \frac{\pi}{2}\right)\dd{y}\dd{x}\\
          &= \int_0^1\left(\frac{xy^2}{2} + \frac{\pi}{2}y\right)\bigg|_0^2\dd{x}\\
          &= \int_0^1\left[\left(\frac{x(2)^2}{2} + \frac{\pi}{2}(2)\right) - \left(\frac{x(0)^2}{2} + \frac{\pi}{2}(0)\right)\right]\dd{x}\\
          &= \int_0^1(2x + \pi)\dd{x}\\
          &= (x^2 + \pi x)\bigg|_0^1\\
          &= \pi + 1\\
          &\approx 4.142
          \end{flalign} \]
        </div>
        <p class="ntm">
          Note that we’re essentially following the same steps as we would with a double integral, except that there’s a third integral for us to evaluate.
        </p>
        <p class="nbm">
          We can also use triple integrals to find volume, just like how we used double integrals to find area. The integral in this case looks like this:
        </p>
        <div class="mj">
          \[ V = \iiint_R \dd{V} \]
        </div>
        <p class="ntm problem">
          <strong>Problem</strong>: Express the volume of a unit sphere (a sphere with radius 1) as a triple integral.
        </p>
        <p class="nbm">
          Let’s first consider the range of \(z\)-values that the sphere covers. <span class="sn">(We can actually start with any coordinate, but I’m choosing to focus on the \(z\)-coordinate first.)</span> The range of \(z\)-values covered by the sphere is \(-1 \le z \le 1\). So our \(\dd{z}\) integral will have bounds of -1 to 1.
        </p>
        <div class="mj">
          \[ V = \int_{-1}^1 \int_{?}^{?} \int_{?}^{?} \dd{x}\dd{y}\dd{z}\]
        </div>
        <p class="ntm">
          Now we need to find the bounds for the two inner integrals. To do that, we need to consider which \(x\)- and \(y\)-values the sphere covers for a given \(z\)-value (let’s say \(z = z_0\)). Let’s focus on the \(y\)-values covered first.
        </p>
        <img class="graph" src="images/sphere_constant_z.png">
        <p class="ntm sn">
          What \(y\)-values are covered by this slice of the sphere (representing a constant \(z\)-value)?
        </p>
        <p>
          Notice that the boundary of this slice lies on the outer edge of the sphere, which is represented by the equation \(x^2 + y^2 + z_0^2 = 1\). Therefore, by subtracting \(z_0^2\) from both sides, we find that this boundary can be defined by the equation \(x^2 + y^2 = 1-z_0^2\). This is a circle with radius \(\sqrt{1-z_0^2}\), so the bounds for \(y\) are \(-\sqrt{1-z_0^2} \le y \le \sqrt{1-z_0^2}\).
        </p>
        <p class="nbm">
          So for each \(z\)-value, the boundaries of \(y\) are \(-\sqrt{1-z^2} \le y \le \sqrt{1-z^2}\), so those are the bounds of our \(\dd{y}\) integral.
        </p>
        <div class="mj">
          \[ V = \int_{-1}^1 \int_{-\sqrt{1-z^2}}^{\sqrt{1-z^2}} \int_{?}^{?} \dd{x}\dd{y}\dd{z}\]
        </div>
        <p class="nm">
          Finally, to find the bounds of the \(\dd{x}\) integral, we need to consider the \(x\)-values that the sphere covers given a fixed \(y\)- and \(z\)-value. To do this, we once again consider that the boundary lies on the equation \(x^2 + y^2 + z^2 = 1\). Given a fixed \(y = y_0\) and \(z = z_0\), we can solve for the \(x\)-values on this boundary:
        </p>
        <div class="mj">
          \[ x^2 + y_0^2 + z_0^2 = 1 \]
          \[ x^2 = 1 - y_0^2 - z_0^2 \]
          \[ x = \pm\sqrt{1-y_0^2-z_0^2}\]
        </div>
        <p class="nm">
          So for each \(y\)- and \(z\)-value, the bounds for \(x\) are \(-\sqrt{1-y^2-z^2}\) and \(\sqrt{1-y^2-z^2}\). Therefore, the final integral is:
        </p>
        <div class="mj">
          \[ V = \int_{-1}^1 \int_{-\sqrt{1-z^2}}^{\sqrt{1-z^2}} \int_{-\sqrt{1-y^2-z^2}}^{\sqrt{1-y^2-z^2}} \dd{x}\dd{y}\dd{z}\]
        </div>
        <p class="ntm">
          This is a very tough integral to do in rectangular coordinates, so I’m not going to evaluate it here. In the next few sections, we will learn about other coordinate systems that make this integral much more doable!
        </p>
      </div>
      <h3 class="section-header" id="cylindricalSphericalHeader">
        Intro to Cylindrical and Spherical Coordinates <button id="cylindricalSphericalButton" onclick="showHide('cylindricalSpherical')">Show</button>
      </h3>
      <div class="hidden-by-default" id="cylindricalSpherical">
        <p>
          In two dimensions, we had two main coordinate systems: rectangular (or Cartesian) coordinates and polar coordinates. In three dimensions, we also have other coordinate systems besides rectangular coordinates, and I’m going to introduce two of them here.
        </p>
        <p>
          These coordinate systems will be useful to help us perform change of variables for triple integrals, similar to how we used polar coordinates for double integrals.
        </p>
        <p class="large-text bold">
          Cylindrical coordinates
        </p>
        <p>
          Cylindrical coordinates are like a mix of rectangular and polar coordinates. We use three variables to describe a point in space:
        </p>
        <ul>
          <li>\(r\) (sometimes also denoted \(\rho\) (rho)): the two-dimensional distance between the point and the origin (i.e. if you set the point’s \(z\)-coordinate to 0, this is the distance from the point and the origin).</li>
          <li>\(\theta\) (sometimes also denoted \(\varphi\) (phi)): the angle between the point and the positive \(x\)-axis on the \(xy\)-plane if you set the point’s \(z\)-coordinate to 0.</li>
          <li>\(z\): this is the same as the rectangular coordinate \(z\) (i.e. the height of the point above the \(xy\)-plane).</li>
        </ul>
        <p>
          Conversions between rectangular and cylindrical coordinates:
        </p>
        <ul>
          <li>\(x^2 + y^2 = r^2\)</li>
          <li>\(\tan(\theta) = \frac{y}{x}\)</li>
          <li>\(x = r\cos(\theta)\)</li>
          <li>\(y = r\sin(\theta)\)</li>
          <li>\(z = z\) (i.e. \(z\) stays the same when converting between rectangular and cylindrical coordinates)</li>
        </ul>
        <img class="graph" src="images/cylindrical_coordinates.png">
        <p class="large-text bold">
          Spherical coordinates
        </p>
        <p>
          Spherical coordinates are the natural extension of polar coordinates to three dimensions. Spherical coordinates involve these three variables:
        </p>
        <ul>
          <li>\(r\) (sometimes also denoted \(\rho\) (rho)): the three-dimensional distance between the point and the origin <strong>(note that this is not the same as \(r\) in cylindrical coordinates)</strong>.</li>
          <li>\(\theta\): the angle between the point and the positive \(x\)-axis on the \(xy\)-plane if you set the point’s \(z\)-coordinate to 0 (this is the same as \(\theta\) in cylindrical coordinates).</li>
          <li>\(\varphi\) (phi): the angle between the \(z\)-axis and the radial line (the line from the origin to the point).</li>
        </ul>
        <p class="bold">
          Warning: different texts might have different conventions (e.g. sometimes the values of \(\theta\) and \(\varphi\) are swapped). The above shows the convention I will use on this website.
        </p>
        <p>
          Conversions between rectangular and spherical coordinates:
        </p>
        <ul>
          <li>\(x^2 + y^2 + z^2 = r^2\)</li>
          <li>\(x = r\cos(\theta)\sin(\varphi)\)</li>
          <li>\(y = r\sin(\theta)\sin(\varphi)\)</li>
          <li>\(z = r\cos(\varphi)\)</li>
        </ul>
        <img class="graph" src="images/spherical_coordinates.png">
      </div>
      <h3 class="section-header" id="tripleIntCylindricalHeader">
        Triple Integrals in Cylindrical Coordinates <button id="tripleIntCylindricalButton" onclick="showHide('tripleIntCylindrical')">Show</button>
      </h3>
      <div class="hidden-by-default" id="tripleIntCylindrical">
        <p>
          Now that we know what cylindrical coordinates are, let’s see how we can use them to find some triple integrals.
        </p>
        <p class="nbm">
          Let’s first go over the general form of a triple integral in cylindrical coordinates. Recall that in polar coordinates, we had to replace \(\dd{A}\) with \(r\dd{r}\dd{\theta}\). Cylindrical coordinates are like polar coordinates but with an extra \(z\)-coordinate thrown in, so with triple integrals in cylindrical coordinates, we replace \(\dd{V}\) with \(r\dd{r}\dd{\theta}\dd{z}\). Here’s what that looks like:
        </p>
        <div class="mj">
          \[ \iiint_R f(r, \theta, z) r\dd{r}\dd{\theta}\dd{z} \]
        </div>
        <p class="ntm sn">
          Note: We can write the differentials \(\dd{r}\), \(\dd{\theta}\), and \(\dd{z}\) in any order.
        </p>
        <img class="graph" src="images/cylindrical_slice.png">
        <p class="ntm sn">
          The volume of each tiny slice in cylindrical coordinates can be approximated by multiplying the side lengths, in this case \(\class{red}{\dd{r}}\), \(\class{blue}{r\dd{\theta}}\), and \(\class{purple}{\dd{z}}\). Therefore, \(\dd{V} = (\class{red}{\dd{r}})(\class{blue}{r\dd{\theta}})(\class{purple}{\dd{z}})\) \(= r \dd{r}\dd{\theta}\dd{z}\).
        </p>
        <p class="nbm">
          When we’re finding volumes using triple integrals, we don’t need the function \(f(r, \theta, z)\):
        </p>
        <div class="mj">
          \[ V = \iiint_R r\dd{r}\dd{\theta}\dd{z} \]
        </div>
        <p class="ntm">
          Now let’s go back to our sphere problem from a few sections ago.
        </p>
        <p class="ntm problem">
          <strong>Problem</strong>: Find the volume of a unit sphere (a sphere with radius 1) using a triple integral in cylindrical coordinates.
        </p>
        <p>
          The easiest variable to set bounds for is \(\theta\). Since we are integrating over an entire sphere, the values of \(\theta\) will range from 0 to \(2\pi\).
        </p>
        <p>
          Next, we can consider \(r\). Since our sphere is a unit sphere with radius 1, \(r\) will range from 0 to 1.
        </p>
        <p>
          Finally, we need to consider \(z\). The values of \(z\) we are integrating over will actually depend on \(r\). So given a fixed \(r\)-value, what will our bounds of \(z\) be?
        </p>
        <p class="nbm">
          Remember that the sphere is defined as \(x^2 + y^2 + z^2 = 1\), so our bounds will lie on this sphere. In cylindrical coordinates, \(r^2 = x^2 + y^2\), so by making this substitution, we can solve for the bounds of \(z\) given an \(r\)-value.
        </p>
        <div class="mj">
          \[ x^2 + y^2 + z^2 = 1 \]
          \[ r^2 + z^2 = 1 \]
          \[ z^2 = 1 - r^2 \]
          \[ z = \pm\sqrt{1-r^2} \]
        </div>
        <p class="ntm">
          So the bounds of \(z\) are \(z = -\sqrt{1-r^2}\) and \(z = \sqrt{1-r^2}\). In conclusion:
        </p>
        <ul>
          <li>The bounds of \(\theta\) are \(0 \le \theta \le 2\pi\).</li>
          <li>The bounds of \(r\) are \(0 \le r \le 1\).</li>
          <li>The bounds of \(z\) are \(-\sqrt{1-r^2} \le \theta \le \sqrt{1-r^2}\).</li>
        </ul>
        <p class="nbm">
          Now we know enough to set up our triple integral and evaluate it!
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \iiint_R \dd{V}\\
          &= \int_0^{2\pi}\int_0^1\int_{-\sqrt{1 - r^2}}^{\sqrt{1-r^2}} r\dd{z}\dd{r}\dd{\theta}\\
          &= \int_0^{2\pi}\int_0^1 (rz)\bigg|_{z=-\sqrt{1 - r^2}}^{z=\sqrt{1-r^2}}\dd{r}\dd{\theta}\\
          &= \int_0^{2\pi}\int_0^1 [r\sqrt{1-r^2} - (-r\sqrt{1-r^2})]\dd{r}\dd{\theta}\\
          &= \int_0^{2\pi}\int_0^1 2r\sqrt{1-r^2} \dd{r}\dd{\theta}\\
          &= \int_0^{2\pi}\left[-\frac{2}{3}(1-r^2)^{3/2}\right]\bigg|_0^1\dd{\theta}\\
          &= \int_0^{2\pi}\left[-\frac{2}{3}(1-1^2)^{3/2} - \left(-\frac{2}{3}(1-0^2)^{3/2}\right)\right]\dd{\theta}\\
          &= \int_0^{2\pi}\frac{2}{3}\dd{\theta}\\
          &= \frac{2}{3}\theta\bigg|_0^{2\pi}\\
          &= \frac{4\pi}{3}
          \end{flalign} \]
        </div>
        <p class="ntm">
          Using a triple integral, we just found that the volume of a unit sphere is \(\frac{4\pi}{3}\) (which agrees with the sphere volume formula \(V = \frac{4}{3}\pi r^3\)). In fact, it’s possible to derive this formula using a similar triple integral. 
        </p>
        <p class="problem">
          <strong>Problem</strong>: Integrate the function \(f(x, y, z) = xy + z\) over the region defined by the inequalities \(x^2 + y^2 \le 9\), \(x\ge 0\), \(y\ge 0\), and \(2 \le z \le 4\).
        </p>
        <p>
          We first need to rewrite our bounds in terms of cylindrical coordinates. Let’s visualize this region:
        </p>
        <img class="graph" src="images/triple_integral_cylindrical_region.png">
        <p>
          The bounds for \(z\) are straightforward: since \(z\) stays the same between rectangular and cylindrical coordinates, we can just use the given range for \(z\), which is \(2 \le z \le 4\).
        </p>
        <p>
          We can get the bounds for \(r\) and \(\theta\) from the image. Our region covers the first quadrant of the \(xy\)-plane, so the range of \(\theta\) is \(0 \le \theta \le \frac{\pi}{2}\). In addition, if we project our region down to the \(xy\)-plane, we find that it is part of a circle with radius \(\sqrt{9} = 3\) (since \(x^2+y^2 \le 9\) is one of our restrictions),  so \(0 \le r \le 3\). Therefore, the bounds for all of our cylindrical variables are:
        </p>
        <ul>
          <li>\(0 \le r \le 3\)</li>
          <li>\(0 \le \theta \le \frac{\pi}{2}\)</li>
          <li>\(2 \le z \le 4\)</li>
        </ul>
        <p class="nbm">
          We also need to rewrite our function in terms of cylindrical coordinates. As a reminder, the conversions are \(x = r\cos(\theta)\) and \(y = r\sin(\theta)\), the same conversions as polar coordinates. (\(z\) stays the same between rectangular and cylindrical coordinates.)
        </p>
        <div class="mj">
          \[ \begin{flalign}
          xy + z &= [r\cos(\theta)][r\sin(\theta)] + z\\
          &= r^2\sin(\theta)\cos(\theta) + z
          \end{flalign}\]
        </div>
        <p class="nm">
          Now we can set up our triple integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iiint_R \class{red}{f} \class{blue}{\dd{V}} &= \int_2^4\int_0^{\pi/2}\int_0^3 \class{red}{(r^2\sin(\theta)\cos(\theta) + z)} \class{blue}{r \dd{r}\dd{\theta}\dd{z}}\\
          &= \int_2^4 \int_0^{\pi/2} \int_0^3 (r^3\sin(\theta)\cos(\theta) + rz) \dd{r} \dd{\theta} \dd{z}\\
          &= \int_2^4 \int_0^{\pi/2} \left[\frac{r^4}{4}\sin(\theta)\cos(\theta) + \frac{r^2}{2}z\right]\bigg|_{r=0}^{r=3} \dd{\theta} \dd{z}\\
          &= \int_2^4 \int_0^{\pi/2} \left[\frac{81}{4}\sin(\theta)\cos(\theta) + \frac{9}{2}z\right] \dd{\theta} \dd{z}\\
          &= \int_2^4 \int_0^{\pi/2} \left[\frac{81}{8}[2\sin(\theta)\cos(\theta)] + \frac{9}{2}z\right] \dd{\theta} \dd{z}\\
          &= \int_2^4 \int_0^{\pi/2} \left[\frac{81}{8}\sin(2\theta) + \frac{9}{2}z\right] \dd{\theta} \dd{z}\\
          &= \int_2^4\left[-\frac{81}{16}\cos(2\theta) + \frac{9}{2}\theta z\right]\bigg|_{\theta=0}^{\theta=\pi/2}\dd{z}\\
          &= \int_2^4\left[-\frac{81}{16}\cos(\pi) + \frac{9}{2}\left(\frac{\pi}{2}\right)z\right] - \left[-\frac{81}{16}\cos(0) + \frac{9}{2}(0)z\right]\dd{z}\\
          &= \int_2^4\left[\frac{81}{16} + \frac{9\pi}{4}z\right] - \left[-\frac{81}{16}\right]\dd{z}\\
          &= \int_2^4\left[\frac{81}{8} + \frac{9\pi}{4}z\right]\dd{z}\\
          &= \left[\frac{81}{8}z + \frac{9\pi}{4}\left(\frac{z^2}{2}\right)\right]\bigg|_2^4\\
          &= \left[\frac{81}{8}(4) + \frac{9\pi}{4}\left(\frac{4^2}{2}\right)\right] - \left[\frac{81}{8}(2) + \frac{9\pi}{4}\left(\frac{2^2}{2}\right)\right]\\
          &= \frac{81}{4} + \frac{27\pi}{2}\\
          &\approx 62.662
          \end{flalign}
          \]
        </div>
      </div>
      <h3 class="section-header" id="tripleIntSphericalHeader">
        Triple Integrals in Spherical Coordinates <button id="tripleIntSphericalButton" onclick="showHide('tripleIntSpherical')">Show</button>
      </h3>
      <div class="hidden-by-default" id="tripleIntSpherical">
        <p>
          When performing a triple integral in spherical coordinates, we replace \(\dd{V}\) with \(r^2 \sin(\varphi)\dd{r}\dd{\theta}\dd{\varphi}\). This diagram shows why:
        </p>
        <img class="graph" src="images/spherical_slice.png">
        <p class="ntm sn">
          This is a slice of volume in spherical coordinates. As this slice gets smaller and smaller, the shape gets closer and closer to a cube. Therefore, the volume of each tiny slice in spherical coordinates can be approximated by multiplying the side lengths, in this case \(\class{red}{\dd{r}}\), \(\class{blue}{r\dd{\varphi}}\), and \(\class{purple}{r\sin(\varphi)\dd{\theta}}\). Therefore, \(\dd{V} = (\class{red}{\dd{r}})(\class{blue}{r\dd{\varphi}})(\class{purple}{r\sin(\varphi)\dd{\theta}})\) \(= r^2 \sin(\varphi)\dd{r}\dd{\theta}\dd{\varphi}\).
        </p>
        <p>
          If you’re wondering where the length \(\class{purple}{r\sin(\varphi) \dd{\theta}}\) comes from, here’s another diagram that shows why:
        </p>
        <img class="graph" src="images/spherical_slice_radius.png">
        <p class="ntm sn">
          The <span class="purple">purple length</span> is an arc of a <span class="green">circle</span> with radius \(\class{red}{r\sin(\varphi)}\) and angle \(\dd{\theta}\), so its length is \(\class{purple}{r\sin(\varphi) \dd{\theta}}\).
        </p>
        <p class="nbm">
          So this is what a triple integral in spherical coordinates looks like:
        </p>
        <div class="mj">
          \[ \iiint_R f(r, \theta, \varphi) r^2 \sin(\varphi) \dd{r} \dd{\theta} \dd{\varphi}\]
        </div>
        <p class="ntm sn">
          Note: We can write the differentials \(\dd{r}\), \(\dd{\theta}\), and \(\dd{\varphi}\) in any order.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the volume of a unit sphere (a sphere with radius 1) using a triple integral in spherical coordinates.
        </p>
        <p>
          We need to find the bounds of this sphere in terms of \(r\), \(\theta\), and \(\varphi\). Because the sphere has a radius of 1, the bounds for \(r\) are simply \(0 \le r \le 1\). The bounds of \(\theta\) are \(0 \le \theta \le 2\pi\). You might think that the bounds of \(\varphi\) are \(0 \le \varphi \le 2\pi\), but this is incorrect.
        </p>
        <p>
          The reason is because if we let \(\theta\) range from 0 to \(2\pi\), we only need to let \(\varphi\) range from 0 to \(\pi\) to cover the entire sphere. You can think of \(\theta\) as representing longitude and \(\varphi\) as representing latitude: on a sphere, there are 360 degrees of longitude (which is \(2\pi\) radians) but only 180 degrees of latitude (which is \(\pi\) radians).
        </p>
        <p>
          Therefore, our integral bounds are:
        </p>
        <ul>
          <li>\(0 \le r \le 1\)</li>
          <li>\(0 \le \theta \le 2\pi\)</li>
          <li>\(0 \le \varphi \le \pi\)</li>
        </ul>
        <p class="nbm">
          Using these, we can set up our triple integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          V &= \iiint_R \dd{V}\\
          &= \int_0^{\pi}\int_0^{2\pi}\int_{0}^{1} r^2\sin(\varphi)\dd{r}\dd{\theta}\dd{\varphi}\\
          &= \int_0^{\pi}\int_0^{2\pi}\frac{r^3}{3}\sin(\varphi)\bigg|_{r=0}^{r=1} \dd{\theta}\dd{\varphi}\\
          &= \int_0^{\pi}\int_0^{2\pi}\frac{1}{3}\sin(\varphi)\dd{\theta}\dd{\varphi}\\
          &= \int_0^{\pi}\frac{\theta}{3}\sin(\varphi)\bigg|_{\theta=0}^{\theta=2\pi}\dd{\varphi}\\
          &= \int_0^{\pi}\frac{2\pi}{3}\sin(\varphi)\dd{\varphi}\\
          &= -\frac{2\pi}{3}\cos(\varphi)\bigg|_0^\pi\\
          &= -\frac{2\pi}{3}\cos(\pi) - \left(-\frac{2\pi}{3}\cos(0)\right)\\
          &= \frac{4\pi}{3}
          \end{flalign} \]
        </div>
        <p class="ntm">
          Now let’s do a problem that involves integrating a function.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Set up an integral for the function \(f(x, y, z) = xy + z\) over the region defined by the inequalities \(x^2 + y^2 + z^2 \le 16\), \(x \le 0\), \(y \le 0\), and \(z \le 0\).
        </p>
        <p>
          We first need to rewrite our function \(f\) in terms of spherical coordinates. We can do that using the conversions from rectangular to spherical coordinates:
        </p>
        <ul>
          <li>\(x = r\cos(\theta)\sin(\varphi)\)</li>
          <li>\(y = r\sin(\theta)\sin(\varphi)\)</li>
          <li>\(z = r\cos(\varphi)\)</li>
        </ul>
        <p class="nbm">
          Here’s how we would express our function \(f(x, y, z) = xy + z\) in spherical coordinates:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          f(x, y, z) &= xy + z\\
           &= [r\cos(\theta)\sin(\varphi)][r\sin(\theta)\sin(\varphi)] + r\cos(\varphi)\\
          &= r^2\sin^2(\varphi)\sin(\theta)\cos(\theta) + r\cos(\varphi)
          \end{flalign}\]
        </div>
        <p class="nm">
          Therefore, our function in spherical coordinates is \(f(r, \theta, \varphi) = r^2\sin^2(\varphi)\sin(\theta)\cos(\theta) + r\cos(\varphi)\). 
        </p>
        <p>
          Now we need to express the bounds of our region in terms of spherical coordinates. Here’s a diagram of this region:
        </p>
        <img class="graph" src="images/triple_integral_spherical_region.png">
        <p>
          This is part of a sphere with radius \(\sqrt{16} = 4\) (since one of our restrictions is \(x^2 + y^2 + z^2 = 16\)), so the bounds for \(r\) are \(0 \le r \le 4\). We can figure out from the diagram that \(\pi \le \theta \le \frac{3\pi}{2}\) and \(\frac{\pi}{2} \le \varphi \le \pi\).
        </p>
        <p class="nbm">
          Therefore, this is what our integral looks like:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iiint_R \class{red}{f} \class{blue}{\dd{V}} &= \int_{\pi/2}^\pi \int_{\pi}^{3\pi/2} \int_0^4 \class{red}{(r^2\sin^2(\varphi)\sin(\theta)\cos(\theta) + r\cos(\varphi))}\class{blue}{[r^2 \sin(\varphi)] \dd{r}\dd{\theta}\dd{\varphi}}\\
          \end{flalign}\]
        </div>
      </div>
      <h3 class="section-header" id="changeOfVarsHeader">
        Change of Variables for Multiple Integrals <button id="changeOfVarsButton" onclick="showHide('changeOfVars')">Show</button>
      </h3>
      <div class="hidden-by-default" id="changeOfVars">
        <p>
          When we converted double integrals into polar coordinates and triple integrals into cylindrical and spherical coordinates, we performed a <strong>change of variables</strong>, which is when we change what variables we’re using (for example, using \(r\) and \(\theta\) instead of \(x\) and \(y\)) to make an integral easier.
        </p>
        <p>
          For example, let’s say we’re integrating over the region \(x^2 + \frac{y^2}{4} \le 1\), an ellipse. If we could transform this region into a circle, that would make it very easy to integrate over in polar coordinates.
        </p>
        <p class="nbm">
          In this case, the substitutions \(x = u\) and \(y = 2v\) will turn this equation into a circle. Let’s see what happens when we make these substitutions:
        </p>
        <div class="mj">
          \[ x^2 + \frac{y^2}{4} \le 1 \]
          \[ u^2 + \frac{(2v)^2}{4} \le 1 \]
          \[ u^2 + v^2 \le 1 \]
        </div>
        <p class="ntm">
          What we just performed is known as a <strong>transformation</strong>. Visually, what we are doing is changing from the \(xy\)-plane to a different coordinate plane (in this case, the \(uv\)-plane) using transformations that we can define ourselves. Each point in the \(xy\)-plane is mapped to a point on the \(uv\)-plane based on our equations. For example, the point \((\frac{1}{2}, 1)\) in the \(xy\)-plane is mapped to \((\frac{1}{2}, \frac{1}{2})\) in the \(uv\)-plane, since \(x = u\) and \(y = 2v\).
        </p>
        <img class="graph" src="images/change_of_vars_transformation_1.png">
        <p class="ntm sn">
          Our original region (notice how the coordinates are \(x\) and \(y\)).
        </p>
        <img class="graph" src="images/change_of_vars_transformation_2.png">
        <p class="ntm sn">
          Our new region with \(u\)- and \(v\)-coordinates.
        </p>
        <p>
          However, notice that the area of our region is no longer the same after the transformation. Because of this, evaluating a double or triple integral using a change of variables isn’t as simple as just substituting the variables within the function we’re integrating. We also need to change how we express the differential \(\dd{A}\) or \(\dd{V}\) to correct for this change in area.
        </p>
        <p class="nbm">
          To do that, we need to use what’s known as the <strong>Jacobian matrix</strong>. For a transformation \(x = g(u, v)\) and \(y = h(u, v)\), the Jacobian matrix is as follows:
        </p>
        <div class="mj">
          \[ \text{Jacobian} = \begin{bmatrix}
          \displaystyle\pdv{x}{u} & \displaystyle\pdv{x}{v} \\
          \displaystyle\pdv{y}{u} & \displaystyle\pdv{y}{v}
          \end{bmatrix}\]
        </div>
        <p class="nm">
          When we perform a change of variables, what we’re interested in is the determinant of this matrix, also known as the <strong>Jacobian determinant</strong>. The Jacobian determinant is denoted as follows:
        </p>
        <div class="mj">
          \[ \pdv{(x, y)}{(u, v)} = \det\begin{bmatrix}
          \displaystyle\pdv{x}{u} & \displaystyle\pdv{x}{v} \\
          \displaystyle\pdv{y}{u} & \displaystyle\pdv{y}{v}
          \end{bmatrix} = \pdv{x}{u}\cdot\pdv{y}{v} - \pdv{x}{v}\cdot\pdv{y}{u}\]
        </div>
        <p class="nm">
          When we perform a transformation \(x = g(u, v)\) and \(y = h(u, v)\) on a double integral, we rewrite the integral as follows:
        </p>
        <div class="mj">
          \[ \iint_R f(x, y) \dd{A} = \iint_S f(g(u, v), h(u, v)) \left|\pdv{(x, y)}{(u, v)}\right| \dd{u}\dd{v} \]
        </div>
        <p class="ntm sn">
          \(S\) is the region that we get after applying the transformation on the region \(R\). Note that we’re taking the absolute value of the Jacobian determinant \(\pdv{(x, y)}{(u, v)}\)!
        </p>
        <p class="problem">
          <strong>Problem</strong>: Use the Jacobian determinant to show that \(\dd{A} = r\dd{r}\dd{\theta}\) when changing from rectangular to polar coordinates. 
        </p>
        <p>
          Here is the Jacobian determinant for changing to polar coordinates. To actually find the elements of the matrix, we need to recall the conversions \(x = r\cos(\theta)\) and \(y = r\sin(\theta)\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{(x, y)}{(r, \theta)} &= \det\begin{bmatrix}
          \displaystyle\pdv{x}{r} & \displaystyle\pdv{x}{\theta} \\
          \displaystyle\pdv{y}{r} & \displaystyle\pdv{y}{\theta}
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          \displaystyle\pdv{r}[r\cos(\theta)] & \displaystyle\pdv{\theta}[r\cos(\theta)] \\
          \displaystyle\pdv{r}[r\sin(\theta)] & \displaystyle\pdv{\theta}[r\sin(\theta)]
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          \cos(\theta) & -r\sin(\theta) \\
          \sin(\theta) & r\cos(\theta)
          \end{bmatrix}\\
          &= [\cos(\theta)][r\cos(\theta)] - [-r\sin(\theta)][\sin(\theta)]\\
          &= r\cos^2(\theta) + r\sin^2(\theta)\\
          &= r[\cos^2(\theta) + \sin^2(\theta)]\\
          &= r
          \end{flalign}\]
        </div>
        <p class="nm">
          The absolute value of this determinant tells us what we need to multiply \(\dd{r}\dd{\theta}\) by to find the correct substitution for \(\dd{A}\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dd{A} &= \left|\pdv{(x, y)}{(r, \theta)}\right| \dd{r}\dd{\theta}\\
          &= |r|\dd{r}\dd{\theta}\\
          &= r\dd{r}\dd{\theta}
          \end{flalign}\]
        </div>
        <p class="nm">
          The Jacobian determinant can be extended to a transformation involving three variables.
        </p>
        <div class="mj">
          \[ \pdv{(x, y, z)}{(u, v, w)} = \det\begin{bmatrix}
          \displaystyle\pdv{x}{u} & \displaystyle\pdv{x}{v} & \displaystyle\pdv{x}{w}\\
          \displaystyle\pdv{y}{u} & \displaystyle\pdv{y}{v} & \displaystyle\pdv{y}{w}\\
          \displaystyle\pdv{z}{u} & \displaystyle\pdv{z}{v} & \displaystyle\pdv{z}{w}
          \end{bmatrix}\]
        </div>
        <p class="nm">
          When we perform a transformation with three variables \(x = g(u,v,w)\), \(y = h(u,v,w)\), and \(z = k(u,v,w)\), we rewrite the integral as follows:
        </p>
        <div class="mj">
          \[ \iint_R f(x, y, z) \dd{V} = \iint_S f(g(u, v, w), h(u, v, w), k(u, v, w)) \left|\pdv{(x, y, z)}{(u, v, w)}\right| \dd{u}\dd{v}\dd{w} \]
        </div>
        <p class="nm problem">
          <strong>Problem</strong>: Use the Jacobian determinant to show that \(\dd{V} = r\dd{r}\dd{\theta}\dd{z}\) when changing from rectangular to cylindrical coordinates. 
        </p>
        <p class="nbm">
          The conversions for cylindrical coordinates are \(x = r\cos(\theta)\) and \(y = r\sin(\theta)\). Here’s the Jacobian determinant in this case:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{(x, y, z)}{(r, \theta, z)} &= \det\begin{bmatrix}
          \displaystyle\pdv{x}{r} & \displaystyle\pdv{x}{\theta} & \displaystyle\pdv{x}{z}\\
          \displaystyle\pdv{y}{r} & \displaystyle\pdv{y}{\theta} & \displaystyle\pdv{y}{z}\\
          \displaystyle\pdv{z}{r} & \displaystyle\pdv{z}{\theta} & \displaystyle\pdv{z}{z}
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          \cos(\theta) & -r\sin(\theta) & 0\\
          \sin(\theta) & r\cos(\theta) & 0\\
          0 & 0 & 1
          \end{bmatrix}\\
          &= \cos(\theta)[(r\cos(\theta))(1) - 0(0)] - [-r\sin(\theta)][1\sin(\theta) - 0(0)] + 0[0\sin(\theta) - 0r\cos(\theta)]\\
          &= r\cos^2(\theta) + r\sin^2(\theta)\\
          &= r[\cos^2(\theta) + \sin^2(\theta)]\\
          &= r
          \end{flalign}\]
        </div>
        <p class="nm">
          This is how we would express the differential \(\dd{V}\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dd{V} &= \left|\pdv{(x, y, z)}{(r, \theta, z)}\right| \dd{r}\dd{\theta}\dd{z}\\
          &= |r|\dd{r}\dd{\theta}\dd{z}\\
          &= r\dd{r}\dd{\theta}\dd{z}
          \end{flalign} \]
        </div>
        <p class="nm problem">
          <strong>Problem</strong>: Use the Jacobian determinant to show that \(\dd{V} = r^2\sin(\varphi)\dd{r}\dd{\theta}\dd{\varphi}\) when changing from rectangular to spherical coordinates. 
        </p>
        <p class="nbm">
          The conversions to spherical coordinates are \(x = r\cos(\theta)\sin(\varphi)\), \(y = r\sin(\theta)\sin(\varphi)\), and \(z = r\cos(\varphi)\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{(x, y, z)}{(r, \theta, \varphi)} &= \det\begin{bmatrix}
          \displaystyle\pdv{x}{r} & \displaystyle\pdv{x}{\theta} & \displaystyle\pdv{x}{\varphi}\\
          \displaystyle\pdv{y}{r} & \displaystyle\pdv{y}{\theta} & \displaystyle\pdv{y}{\varphi}\\
          \displaystyle\pdv{z}{r} & \displaystyle\pdv{z}{\theta} & \displaystyle\pdv{z}{\varphi}
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          \cos(\theta)\sin(\varphi) & -r\sin(\theta)\sin(\varphi) & r\cos(\theta)\cos(\varphi)\\
          \sin(\theta)\sin(\varphi) & r\cos(\theta)\sin(\varphi) & r\sin(\theta)\cos(\varphi)\\
          \cos(\varphi) & 0 & -r\sin(\varphi)
          \end{bmatrix}\\
          &= \cos(\theta)\sin(\varphi)[(r\cos(\theta)\sin(\varphi))(-r\sin(\varphi)) - 0(r\sin(\theta)\cos(\varphi))]\\
          &\quad - [-r\sin(\theta)\sin(\varphi)][\sin(\theta)\sin(\varphi)(-r\sin(\varphi)) - r\sin(\theta)\cos(\varphi)\cos(\varphi)]\\
          &\quad + [r\cos(\theta)\cos(\varphi)][0\sin(\theta)\sin(\varphi) - r\cos(\theta)\sin(\varphi)\cos(\varphi)]\\
          &= -r^2\cos^2(\theta)\sin^3(\varphi) - r^2\sin^2(\theta)\sin^3(\varphi) - r^2\sin^2(\theta)\sin(\varphi)\cos^2(\varphi) - r^2\cos^2(\theta)\sin(\varphi)\cos^2(\varphi)\\
          &= -r^2[\cos^2(\theta)\sin^3(\varphi) + \sin^2(\theta)\sin^3(\varphi) + \sin^2(\theta)\sin(\varphi)\cos^2(\varphi) + \cos^2(\theta)\sin(\varphi)\cos^2(\varphi)]\\
          &= -r^2[(\sin^3(\varphi))(\cos^2(\theta) + \sin^2(\theta)) + (\sin^2(\theta) + \cos^2(\theta))(\sin(\varphi)\cos^2(\varphi))]\\
          &= -r^2[\sin^3(\varphi) + \sin(\varphi)\cos^2(\varphi)]\\
          &= -r^2\sin(\varphi)[\sin^2(\varphi) + \cos^2(\varphi)]\\
          &= -r^2\sin(\varphi)
          \end{flalign}\]
        </div>
        <p class="nm">
          Here’s what \(\dd{V}\) should be based on the Jacobian determinant:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dd{V} &= \left|\pdv{(x, y, z)}{(r, \theta, \varphi)}\right| \dd{r}\dd{\theta}\dd{\varphi}\\
          &= \lvert-r^2\sin(\varphi)|\dd{r}\dd{\theta}\dd{\varphi}\\
          &= r^2\sin(\varphi)\dd{r}\dd{\theta}\dd{\varphi}\\
          \end{flalign} \]
        </div>
        <p class="nm">
          However, as we explored earlier in this section, change of variables isn’t just restricted to polar, spherical, and cylindrical coordinates. We can also create our own custom transformations to make specific integrals easier.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the integral \(\displaystyle\iint_R xy \dd{A}\) over the region \(R\) defined by \(x^2 + \frac{y^2}{4} \le 1\) using the transformation \(x = u\) and \(y = 2v\).
        </p>
        <p class="nbm">
          We showed before that this transformation changes our integration region to \(u^2 + v^2 \le 1\), which is an easy region to deal with in polar coordinates. Let’s first find the Jacobian determinant for this transformation:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{(x, y)}{(u, v)} &= \det\begin{bmatrix}
          \pdv{x}{u} & \pdv{x}{v}\\
          \pdv{y}{u} & \pdv{y}{v}
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          \pdv{u}(u) & \pdv{v}(u)\\
          \pdv{u}(2v) & \pdv{v}(2v)
          \end{bmatrix}\\
          &= \det\begin{bmatrix}
          1 & 0\\
          0 & 2
          \end{bmatrix}\\
          &= 2
          \end{flalign}\]
        </div>
        <p class="nm">
          Now let’s use this determinant to determine how to rewrite \(\dd{A}\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dd{A} &= \left|\pdv{(x, y)}{(u, v)}\right| \dd{u}\dd{v}\\
          &= |2|\dd{u}\dd{v}\\
          &= 2\dd{u}\dd{v}
          \end{flalign}\]
        </div>
        <p class="nm">
          We also need to rewrite the function \(f(x, y) = xy\) in terms of \(u\) and \(v\), which is straightforward using our transformation equations \(x = u\) and \(y = 2v\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_R \class{red}{xy} \class{blue}{\dd{A}} &= \iint_S \class{red}{u(2v)} \class{blue}{2\dd{u}\dd{v}}\\
          &= \iint_S 4uv \dd{u}\dd{v}\\
          \end{flalign}\]
        </div>
        <p class="ntm sn">
          \(R\) is the original region \(x^2 + \frac{y^2}{4} \le 1\) and \(S\) is the region we get after the transformation, \(u^2 + v^2 \le 1\).
        </p>
        <p class="nm">
          We’re almost ready to evaluate this integral! Just to make our lives easier, we will change to polar coordinates with the transformation \(u = r\cos(\theta)\) and \(v = r\sin(\theta)\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S 4uv \class{red}{\dd{u}\dd{v}} &= \int_0^{2\pi}\int_0^1 4r\cos(\theta)r\sin(\theta) \class{red}{r\dd{r}\dd{\theta}}\\
          &= \int_0^{2\pi}\int_0^1 4r^3\cos(\theta)\sin(\theta) \dd{r}\dd{\theta}\\
          &= \int_0^{2\pi}[r^4\cos(\theta)\sin(\theta)]\bigg|_{r=0}^{r=1}\dd{\theta}\\
          &= \int_0^{2\pi}\cos(\theta)\sin(\theta)\dd{\theta}\\
          &= \int_0^{2\pi}\frac{1}{2}\sin(2\theta)\dd{\theta}\\
          &= \left[-\frac{1}{4}\cos(2\theta)\right]\bigg|_0^{2\pi}\\
          &= -\frac{1}{4}\cos(4\pi) - \left(-\frac{1}{4}\cos(0)\right)\\
          &= -\frac{1}{4} + \frac{1}{4}\\
          &= 0
          \end{flalign}\]
        </div>
      </div>
      <h3 class="section-header" id="doubleIntSurfaceAreaHeader">
        Double Integrals: Finding Surface Area <button id="doubleIntSurfaceAreaButton" onclick="showHide('doubleIntSurfaceArea')">Show</button>
      </h3>
      <div class="hidden-by-default" id="doubleIntSurfaceArea">
        <p>
          We can use double integrals to find the area of a surface created by a two-variable function.
        </p>
        <p class="nbm">
          The area of the surface created by \(z = f(x, y)\) over the region \(R\) is given by:
        </p>
        <div class="mj">
          \[ A = \iint_R \sqrt{(f_x)^2 + (f_y)^2 + 1} \dd{A} \]
        </div>
        <p class="ntm">
          Let’s go over an example problem.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Set up an integral that gives the surface area of the solid created by \(z = x^2y^2\) over the region \(-1 \le x \le 1\) and \(0 \le y \le 1\).
        </p>
        <p class="nbm">
          Let’s first find the partial derivatives of \(f(x, y)\):
        </p>
        <div class="mj">
          \[ f(x, y) = x^2 y^2 \]
          \[ f_x(x, y) = 2xy^2 \]
          \[ f_y(x, y) = 2x^2y \]
        </div>
        <p class="nm">
          Now we can use the surface area formula:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \iint_R \sqrt{(f_x)^2 + (f_y)^2 + 1} \dd{A}\\
          &= \iint_R \sqrt{(2xy^2)^2 + (2x^2y)^2 + 1} \dd{A}\\
          &= \int_0^1\int_{-1}^1 \sqrt{(2xy^2)^2 + (2x^2y)^2 + 1} \dd{x} \dd{y}\\
          \end{flalign} \]
        </div>
        <p class="ntm">
          Using a calculator, we can find that the integral is approximately equal to <strong>2.389</strong>.
        </p>
        <img class="graph" src="images/double_integral_surface_area.png">
        <p class="ntm sn">
          The surface area of this surface is about 2.389.
        </p>
        <p>
          Let’s go over another problem now.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the surface area of the solid created by \(z = x^2 + y^2\) over the region \(x^2 + y^2 \le 1\).
        </p>
        <p class="nbm">
          Here are the partial derivatives of \(f(x, y)\):
        </p>
        <div class="mj">
          \[ f(x, y) = x^2 + y^2 \]
          \[ f_x(x, y) = 2x \]
          \[ f_y(x, y) = 2y \]
        </div>
        <p class="nm">
          Plugging in these derivatives into the surface area formula:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \iint_R \sqrt{(2x)^2 + (2y)^2 + 1} \dd{A}\\
          &= \iint_R \sqrt{(2x)^2 + (2y)^2 + 1} \dd{A}\\
          &= \iint_R \sqrt{4x^2 + 4y^2 + 1} \dd{A}
          \end{flalign} \]
        </div>
        <p class="nm">
          At this point, you might notice that this integral would be easier to evaluate in polar coordinates. So let’s make that conversion:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \iint_R \sqrt{4x^2 + 4y^2 + 1} \dd{A}\\
          &= \iint_R \sqrt{4(x^2 + y^2) + 1} \dd{A}\\
          &= \int_0^{2\pi}\int_0^1 (\sqrt{4r^2 + 1}) r\dd{r}\dd{\theta}\\
          &= \int_0^{2\pi} \left(\frac{1}{8}\cdot\frac{2}{3}(4r^2+1)^{3/2}\right)\bigg|_0^1\dd{\theta}\\
          &= \int_0^{2\pi} \left(\frac{1}{12}(4r^2+1)^{3/2}\right)\bigg|_0^1\dd{\theta}\\
          &= \int_0^{2\pi} \frac{1}{12}[5^{3/2} - 1]\dd{\theta}\\
          &= \frac{1}{12}[5^{3/2} - 1]\theta\bigg|_0^{2\pi}\\
          &= \frac{\pi}{6}[5^{3/2} - 1]\\
          &\approx 5.330
          \end{flalign} \]
        </div>
        <img class="graph" src="images/double_integral_surface_area_2.png">
        <p class="ntm sn">
          The surface area of this surface is about 5.330.
        </p>
      </div>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Unit 5 -->
  <div class="unit" id="unit5Unit">
    <h2 id="unit5Header">
      <span onclick="showHideUnit('unit5')"><span class="gray">Unit 5:</span> Line and Surface Integrals</span>
      <button id="unit5Button" onclick="showHideUnit('unit5')">Show</button>
    </h2>
    <div class="hidden-by-default" id="unit5">
      <div>
        <button class="large-button" onclick="toggleAllSections('unit5', 'show')">Show All Sections</button>
        <div class="button-spacing"></div>
        <button class="large-button" onclick="toggleAllSections('unit5', 'hide')">Hide All Sections</button>
      </div>
      <h3 class="section-header" id="lineIntScalarHeader">
        Line Integrals for Scalar Functions <button id="lineIntScalarButton" onclick="showHide('lineIntScalar')">Show</button>
      </h3>
      <div class="hidden-by-default" id="lineIntScalar">
        <p>
          Standard integrals give us a way to find the area under a curve. However, in the context of multivariable functions, standard integrals typically only allow us to find the area under curves that are parallel to one of the axes.
        </p>
        <p>
          For example, the integral \(\int_2^4 f(x, 1) \dd{x}\) represents the area under \(f(x, y)\) from \(x = 2\) to \(x = 4\) along a fixed \(y\)-value \(y = 1\).
        </p>
        <img class="graph" src="images/line_integral_intro.png">
        <p class="ntm sn">
          The integral \(\int_2^4 f(x, 1) \dd{x}\) represents this <span class="blue">area</span> under \(\class{red}{f(x)}\).
        </p>
        <p>
          Is there a way to integrate along any curve, not just a line that is parallel to one of the axes? There is, and we need to use line integrals for this.
        </p>
        <p>
          <strong>Line integrals</strong> are a way to integrate a function along a curve. Visually, they can be represented as the surface area under a function along a curve, as shown in this diagram:
        </p>
        <img class="graph" src="images/line_integral.png">
        <p class="ntm sn">
          What is the <span class="blue">surface area</span> under <span class="purple">this function</span> along <span class="red">this curve</span>?
        </p>
        <p class="nbm">
          The formula for a line integral of a function \(f(x, y)\) where \(x\) and \(y\) are parametrically defined is:
        </p>
        <div class="mj">
          \[ \int_a^b f(x(t), y(t))\dd{s} \]
          \[ \dd{s} = \sqrt{[x'(t)]^2 + [y'(t)]^2} \dd{t} \]
        </div>
        <p class="nm">
          The \(\dd{s}\) (which represents a small piece of arc length) might be familiar from arc length integrals. Line integrals are similar to arc length integrals, except now we’re multiplying \(\dd{s}\) by a function. When we perform a line integral, we’re essentially saying that as we walk along a curve, instead of just adding small pieces of arc length, we’re going to multiply these small pieces of arc length by the value of the function at each point.
        </p>
        <p class="nbm">
          A line integral can also be notated as follows, where \(C\) is the curve we are integrating over:
        </p>
        <div class="mj">
          \[ \int_C f \dd{s} \]
        </div>
        <p class="nm">
          One useful way to write this line integral is with vector-valued functions. If we define \(\mathbf{r}(t) = (x(t), y(t))\) (i.e. \(\mathbf{r}(t)\) tells us where we are on our curve at time \(t\)), then we can write our integral like this:
        </p>
        <div class="mj">
          \[ \int_C f(\mathbf{r}(t))||\mathbf{r}'(t)||\dd{t} \]
        </div>
        <p class="ntm">
          Note that we’ve replaced \(\dd{s}\) with the magnitude of the velocity vector \(\mathbf{r}'(t)\) multiplied by \(\dd{t}\). That’s because they equal the same thing: in this case, \(\sqrt{[x'(t)]^2 + [y'(t)]^2}\dd{t}\).
        </p>
        <p class="ntm">
          Now let’s actually evaluate a line integral!
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the line integral for the function \(f(x, y) = xy + 1\) along the curve defined by \(x(t) = \cos(t)\) and \(y(t) = \sin(t)\) for \(0 \le t \le \frac{\pi}{2}\).
        </p>
        <p class="nbm">
          We first need to find \(\dd{s}\). This represents the amount of arc length that we cover when we change \(t\) by a tiny amount \(\dd{t}\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dd{s} &= \sqrt{[x'(t)]^2 + [y'(t)]^2} \dd{t}\\
          &= \sqrt{[-\sin(t)]^2 + [\cos(t)]^2}\dd{t}\\
          &= \sqrt{\sin^2(t) + \cos^2(t)}\dd{t}\\
          &= 1\dd{t}
          \end{flalign}\]
        </div>
        <p class="nm">
          Now, we need to write our function fully in terms of \(t\), since we’ll be integrating with respect to \(t\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          f(x(t), y(t)) &= f(\cos(t), \sin(t))\\
          &= \cos(t)\sin(t) + 1
          \end{flalign}\]
        </div>
        <p class="nm">
          Now we’re ready to put everything together and evaluate the line integral!
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_a^b \class{red}{f(x(t), y(t))}\class{blue}{\dd{s}} &= \int_0^{\pi/2} \class{red}{(\cos(t)\sin(t) + 1)}\class{blue}{(1\dd{t})}\\
          &= \int_0^{\pi/2} (\cos(t)\sin(t) + 1)\dd{t}\\
          &= \int_0^{\pi/2} \left(\frac{1}{2}[2\cos(t)\sin(t)] + 1\right)\dd{t}\\
          &= \int_0^{\pi/2} \left(\frac{1}{2}\sin(2t) + 1\right)\dd{t}\\
          &= \left(-\frac{1}{4}\cos(2t) + t\right)\bigg|_0^{\pi/2}\\
          &= \left(-\frac{1}{4}\cos(\pi) + \frac{\pi}{2}\right) - \left(-\frac{1}{4}\cos(0) + 0\right)\\
          &=  \frac{\pi}{2} + \frac{1}{2}\\
          &\approx 2.071
          \end{flalign} \]
        </div>
        <img class="graph" src="images/line_integral.png">
        <p class="ntm sn">
          The <span class="blue">surface area</span> under <span class="purple">the surface</span> defined by \(f(x, y) = xy + 1\) along <span class="red">the curve</span> parametrically defined by \(x = \cos(t)\) and \(y = \sin(t)\) from \(t = 0\) to \(t = \frac{\pi}{2}\) is about 2.071.
        </p>
        <p class="ntm">
          Let’s do one more example.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Set up a line integral for \(f(x, y) = e^{\sin(x) + \cos(y)}\) along the curve defined by \(x(t) = \ln(t)\) and \(y(t) = \frac{1}{t}\) for \(1 \le t \le 2\).
        </p>
        <p class="nbm">
          Let’s once again find \(\dd{s}\) using the derivatives of \(x(t)\) and \(y(t)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \dd{s} &= \sqrt{[x'(t)]^2 + [y'(t)]^2} \dd{t}\\
          &= \sqrt{\left[\frac{1}{t}\right]^2 + \left[-\frac{1}{t^2}\right]^2}\dd{t}\\
          &= \sqrt{\frac{1}{t^2} + \frac{1}{t^4}}\dd{t}\\
          \end{flalign}\]
        </div>
        <p class="nm">
          And now let’s write our function in terms of \(t\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          f(x(t), y(t)) &= f\left(\ln(t), \frac{1}{t}\right)\\
          &= e^{\sin(\ln(t)) + \cos(1/t)}
          \end{flalign}\]
        </div>
        <p class="nm">
          These two parts are all we need to write down the line integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_a^b \class{red}{f(x(t), y(t))}\class{blue}{\dd{s}} &= \int_1^2 \class{red}{e^{\sin(\ln(t)) + \cos(1/t)}}\class{blue}{\sqrt{\frac{1}{t^2} + \frac{1}{t^4}}\dd{t}}\\
          \end{flalign} \]
        </div>
        <img class="graph" src="images/line_integral_2.png">
        <p class="ntm sn">
          The above integral represents the <span class="blue">area</span> under <span class="purple">\(f(x, y)\)</span> along <span class="red">this curve</span>. (If you’re curious, this integral evaluates to about 2.57.)
        </p>
      </div>
      <h3 class="section-header" id="vectorFieldsHeader">
        Vector Fields <button id="vectorFieldsButton" onclick="showHide('vectorFields')">Show</button>
      </h3>
      <div class="hidden-by-default" id="vectorFields">
        <p>
          <strong>Vector fields</strong> are a way to visualize vector-valued functions, particularly functions with two inputs that output two-dimensional vectors. The idea is at each point in the \(xy\)-plane (which represents the inputs of our function), we draw a vector that represents the output of the function.
        </p>
        <p>
          For example, consider the function \(\mathbf{F}(x, y) = (2x, y+1)\). Let’s first make a table of values for this function:
        </p>
        <table>
          <tr>
            <th>Input</th>
            <th>Output</th>
          </tr>
          <tr>
            <td>(1, 1)</td>
            <td>(2, 2)</td>
          </tr>
          <tr>
            <td>(2, 2)</td>
            <td>(4, 3)</td>
          </tr>
          <tr>
            <td>(-3, 3)</td>
            <td>(-6, 4)</td>
          </tr>
        </table>
        <p>
          If we added many more rows to this table, then plotted these vectors on the \(xy\)-plane, we would get the vector field for \(\mathbf{F}(x,y)\).
        </p>
        <p>
          Here is what its vector field looks like:
        </p>
        <img class="graph" src="images/vector_field.png">
        <p class="ntm sn">
          The vector field for \(\mathbf{F}(x, y) = (2x, y+1)\). (Note: the vectors are not drawn to scale, but the relative sizes of vectors compared to each other are preserved.)
        </p>
        <p>
          Looking at the above vector field, we have the vector \((2, 2)\) at the point \((1, 1)\), the vector \((4, 3)\) at the point \((2, 2)\), the vector \((-6, 4)\) at the point \((-3, 3)\), and so on. This agrees with the table of values we made previously.
        </p>
        <p>
          If we want to find the output vector of the function \(\mathbf{F}(x, y)\) at any point, we can just look for the corresponding vector at that point in the vector field.
        </p>
        <p>
          Here’s another example of a vector field, this time for the function \(\mathbf{F}(x, y) = (\sin(x), \sin(y))\):
        </p>
        <img class="graph" src="images/sin_vector_field.png">
        <p>
          Here’s one final example, this time for \(\mathbf{F}(x, y) = (xy, y)\):
        </p>
        <img class="graph" src="images/another_vector_field.png">
        <p class="ntm sn">
          Notice how the \(x\)-components of the vectors are positive in the first and third quadrants and the \(y\)-components of the vectors are positive in the first and second quadrant. Why does this make sense?
        </p>
      </div>
      <h3 class="section-header" id="lineIntVectorHeader">
        Line Integrals for Vector-Valued Functions <button id="lineIntVectorButton" onclick="showHide('lineIntVector')">Show</button>
      </h3>
      <div class="hidden-by-default" id="lineIntVector">
        <p class="nbm">
          We can also perform line integrals on vector-valued functions, but there is a catch. Instead of adding the product of the distance traveled for each tiny step by the function’s value, we will add the dot product of the velocity vector multiplied by \(\dd{t}\) and the function’s value at each step. Here’s what that looks like:
        </p>
        <div class="mj">
          \[ \int_C \mathbf{F}(\mathbf{r}(t)) \cdot \dd{\mathbf{s}}\]
          \[ \dd{\mathbf{s}} = \mathbf{r}'(t) \dd{t} \]
        </div>
        <p class="ntm sn">
          \(\mathbf{F}\) is our vector field - a vector-valued function that takes in a vector and outputs a vector. \(\mathbf{r}(t)\) is a vector-valued function that tells us where we are on the curve at time \(t\).
        </p>
        <p class="nm">
          This notation for vector line integrals is sometimes shortened to:
        </p>
        <div class="mj">
          \[ \int_C \mathbf{F} \cdot \dd{\mathbf{s}}\]
        </div>
        <p class="ntm">
          Remember that the dot product measures how much two vectors point in the same direction. So if the velocity vectors along our curve mostly point in the same direction as the vector field’s vectors as we travel along our path, then the line integral will be positive. If the velocity vectors are mostly pointing in opposite directions as the vector field’s vectors, then the line integral will be negative.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the line integral over the vector field \(\mathbf{F}(x, y) = (-y, x)\) over the path traced out by \(x(t) = \cos(t)\) and \(y(t) = \sin(t)\) over \(0 \le t \le 2\pi\).
        </p>
        <p>
          We can visualize this line integral with this diagram:
        </p>
        <img class="graph" src="images/line_integral_vector_field.png">
        <p class="ntm sn">
          This is the vector field represented by \(\mathbf{F}(x, y) = (-y, x)\). The <span class="red">circle</span> represents the path we are integrating over. Note that we are traveling along the circle in the counterclockwise direction as \(t\) increases.
        </p>
        <p class="nbm">
          Let’s first find what \(\mathbf{F}(\mathbf{r}(t))\) equals:
        </p>
        <div class="mj">
          \[ \mathbf{r}(t) = (x(t), y(t)) = (\cos(t), \sin(t))\]
          \[ \begin{flalign}
          \mathbf{F}(\mathbf{r}(t)) &= \mathbf{F}(\cos(t), \sin(t))\\
          &= (-\sin(t), \cos(t))
          \end{flalign} \]
        </div>
        <p class="nm">
          Now let’s take the derivative of \(\mathbf{r}(t)\) to find \(\mathbf{r}'(t)\). As a reminder, to differentiate a vector-valued function, you just differentiate each component individually.
        </p>
        <div class="mj">
          \[ \mathbf{r}'(t) = (x'(t), y'(t)) = (-\sin(t), \cos(t)) \]
        </div>
        <p class="nm">
          Putting it all together, this is what our integral looks like:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_C\mathbf{F}(\mathbf{r}(t)) \cdot \dd{\mathbf{s}}
          &= \int_0^{2\pi}(-\sin(t), \cos(t)) \cdot (-\sin(t), \cos(t)) \dd{t}\\
          &= \int_0^{2\pi}[\sin^2(t) + \cos^2(t)] \dd{t}\\
          &= \int_0^{2\pi}1 \dd{t}\\
          &= 2\pi
          \end{flalign}\]
        </div>
        <p class="ntm">
          Now let’s do a very similar problem that will lead to an important observation.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the line integral over the vector field \(\mathbf{F}(x, y) = (-y, x)\) over the path traced out by \(x(t) = \cos(t)\) and \(y(t) = -\sin(t)\) over \(0 \le t \le 2\pi\).
        </p>
        <p>
          Note that this line integral is identical to the previous problem except that we’re traveling along the circle in the clockwise direction instead of counterclockwise.
        </p>
        <p class="nbm">
          Here’s \(\mathbf{r}(t)\) and \(\mathbf{r}'(t)\) for this problem:
        </p>
        <div class="mj">
          \[ \mathbf{r}(t) = (x(t), y(t)) = (\cos(t), -\sin(t))\]
          \[ \mathbf{r}'(t) = (x'(t), y'(t)) = (-\sin(t), -\cos(t))\]
        </div>
        <p class="nm">
          This time, let’s jump straight to evaluating the integral.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_C\mathbf{F}(\mathbf{r}(t)) \cdot \dd{\mathbf{s}} &= \int_C\mathbf{F}(\cos(t), -\sin(t)) \cdot \mathbf{r}'(t) \dd{t}\\
          &= \int_0^{2\pi}(\sin(t), \cos(t)) \cdot (-\sin(t), -\cos(t)) \dd{t}\\
          &= \int_0^{2\pi}[-\sin^2(t) - \cos^2(t)] \dd{t}\\
          &= \int_0^{2\pi}[-1] \dd{t}\\
          &= -2\pi
          \end{flalign}\]
        </div>
        <p class="ntm">
          Note that this example is the same as the last one, except now our curve is traveling along the circle in the clockwise direction instead of counterclockwise. In addition, notice how the line integral in the case is exactly -1 times our previous line integral.
        </p>
        <p>
          In general, when you reverse the direction of a parametrically defined path, the corresponding line integral will get multiplied by -1 (i.e. it will switch signs). 
        </p>
        <p class="nbm">
          Now let’s do one final example.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the line integral over the vector field \(\mathbf{F}(x, y) = (x + y, y - x)\) over the path traced out by \(x(t) = t^2\) and \(y(t) = t^3\) over \(1 \le t \le 2\).
        </p>
        <img class="graph" src="images/line_integral_vector_field_2.png">
        <p class="ntm sn">
          A visualization of the line integral. As \(t\) increases, we are traveling up and to the right along the curve.
        </p>
        <p class="nbm">
          Here’s the expressions for \(\mathbf{r}(t)\) and \(\mathbf{r}'(t)\):
        </p>
        <div class="mj">
          \[ \mathbf{r}(t) = (t^2, t^3) \]
          \[ \mathbf{r}'(t) = (2t, 3t^2) \]
        </div>
        <p class="nm">
          And here’s how we would evaluate the line integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_C\mathbf{F}(\mathbf{r}(t)) \cdot \dd{\mathbf{s}} &= \int_C\mathbf{F}(t^2, t^3) \cdot \mathbf{r}'(t) \dd{t}\\
          &= \int_1^2(t^2 + t^3, t^3 - t^2) \cdot (2t, 3t^2) \dd{t}\\
          &= \int_1^2[(2t^3 + 2t^4) + (3t^5 - 3t^4)] \dd{t}\\
          &= \int_1^2[3t^5 - t^4 + 2t^3] \dd{t}\\
          &= \left(\frac{t^6}{2} - \frac{t^5}{5} + \frac{t^4}{2}\right)\bigg|_1^2\\
          &= \left(\frac{2^6}{2} - \frac{2^5}{5} + \frac{2^4}{2}\right) - \left(\frac{1^6}{2} - \frac{1^5}{5} + \frac{1^4}{2}\right)\\
          &= 32.8
          \end{flalign}\]
        </div>
      </div>
      <h3 class="section-header" id="ftcLineHeader">
        The Fundamental Theorem of Line Integrals <button id="ftcLineButton" onclick="showHide('ftcLine')">Show</button>
      </h3>
      <div class="hidden-by-default" id="ftcLine">
        <p class="nbm">
          In the <a href="#multivarChain2" onclick="jumpTo('multivarChain2')">Multivariable Chain Rule, Revisited</a> section, we went over how the multivariable chain rule could be written as:
        </p>
        <div class="mj">
          \[ \dv{t}f(\mathbf{v}(t)) = \nabla f(\mathbf{v}(t)) \cdot \mathbf{v}'(t)\]
        </div>
        <p class="nm">
          If we integrate both sides of this equation from \(t = a\) to \(t = b\), we get:
        </p>
        <div class="mj">
          \[ \int_a^b\dv{t}f(\mathbf{v}(t))\dd{t} = \int_a^b\nabla f(\mathbf{v}(t)) \cdot \mathbf{v}'(t)\dd{t}\]
          \[ f(\mathbf{v}(t))\bigg|_a^b = \int_a^b\nabla f(\mathbf{v}(t)) \cdot \mathbf{v}'(t)\dd{t}\]
          \[ f(\mathbf{v}(b)) - f(\mathbf{v}(a)) = \int_a^b\nabla f(\mathbf{v}(t)) \cdot \mathbf{v}'(t)\dd{t}\]
        </div>
        <p class="nm">
          The right-hand side might remind you of a line integral. Just to make this point more clear, let’s change \(\mathbf{v}(t)\) to \(\mathbf{r}(t)\):
        </p>
        <div class="mj">
          \[ \int_a^b\nabla f(\mathbf{r}(t)) \cdot \mathbf{r}'(t)\dd{t} = f(\mathbf{r}(b)) - f(\mathbf{r}(a)) \]
          \[ \int_a^b\nabla f(\mathbf{r}(t)) \cdot \dd{\mathbf{s}} = f(\mathbf{r}(b)) - f(\mathbf{r}(a))\]
        </div>
        <p class="ntm">
          This is the <strong>fundamental theorem of line integrals</strong>, and it gives an easy way to evaluate line integrals given one condition: the vector field we’re integrating is a gradient field, meaning it is the gradient of some function.
        </p>
        <p>
          One way to understand the fundamental theorem of line integrals is that \(\nabla f(\mathbf{r}(t)) \cdot \dd{\mathbf{s}}\) \( = \nabla f(\mathbf{r}(t)) \cdot \mathbf{r}'(t) \dd{t}\) represents the directional derivative of \(f\) in the direction of \(\mathbf{r}'(t)\), and so it represents the rate of change of \(f\) as we travel along the curve at any time \(t\). So if we integrate this value along the entire curve, we get the total change in \(f\), which is represented by \(f(\mathbf{r}(b)) - f(\mathbf{r}(a))\).
        </p>
        <p>
          Let’s go over an example problem.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the line integral of the gradient of \(f(x, y) = x^3 + y\) over the curve defined by \(x(t) = t^2\) and \(y(t) = \cos(t)\) from \(t = 0\) to \(t = 2\pi\).
        </p>
        <p class="nbm">
          Let’s first see how we would evaluate this line integral normally. We would first need to find the gradient of \(f(x, y)\), as well as \(\mathbf{r}(t)\) and \(\mathbf{r}'(t)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \nabla f(x, y) &= \left(\pdv{f}{x}, \pdv{f}{y}\right)\\
          &= (3x^2, 1)
          \end{flalign}\]
          \[ \mathbf{r}(t) = (t^2, \cos(t)) \]
          \[ \mathbf{r}'(t) = (2t, -\sin(t)) \]
        </div>
        <p class="nm">
          Now let’s evaluate the line integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_a^b\nabla f(\mathbf{r}(t)) \cdot \dd{\mathbf{s}} &= \int_0^{2\pi}\nabla f(\mathbf{r}(t)) \cdot \mathbf{r}'(t) \dd{t}\\
          &= \int_0^{2\pi}\nabla f(t^2, \cos(t)) \cdot (2t, -\sin(t)) \dd{t}\\
          &= \int_0^{2\pi}(3(t^2)^2, 1) \cdot (2t, -\sin(t))\dd{t}\\
          &= \int_0^{2\pi}(3t^4, 1) \cdot (2t, -\sin(t))\dd{t}\\
          &= \int_0^{2\pi}[6t^5 - \sin(t)]\dd{t}\\
          &= [t^6 + \cos(t)]\bigg|_0^{2\pi}\\
          &= (2\pi)^6 + \cos(2\pi) - (0^6 + \cos(0))\\
          &= 64\pi^6
          \end{flalign}\]
        </div>
        <p class="nm">
          However, using the fundamental theorem of line integrals, we can save ourselves a lot of work. We just need to find \(f(\mathbf{r}(b)) - f(\mathbf{r}(a))\): 
        </p>
        <div class="mj">
          \[ \begin{flalign}
          f(\mathbf{r}(b)) - f(\mathbf{r}(a)) &= f(x(b), y(b)) - f(x(a), y(a))\\
          &= f(x(2\pi), y(2\pi)) - f(x(0), y(0))\\
          &= f((2\pi)^2, \cos(2\pi)) - f(0^2, \cos(0))\\
          &= f(4\pi^2, 1) - f(0, 1)\\
          &= ((4\pi^2)^3 + 1) - (0^3 + 1)\\
          &= 64\pi^6
          \end{flalign} \]
        </div>
      </div>
      <h3 class="section-header" id="curlHeader">
        Vector Fields: The Curl Operator <button id="curlButton" onclick="showHide('curl')">Show</button>
      </h3>
      <div class="hidden-by-default" id="curl">
        <p>
          Sometimes, we are interested in the rotation within a vector field. In other words, we want to know, given a point in a vector field, how much rotation is there around it?
        </p>
        <p>
          We can picture vector fields as representing fluid flow: how particles of water, air, etc. would move if placed in a vector field (where the vectors represent motion).
        </p>
        <p>
          A great example of this concept is the vector field of \(\mathbf{F}(x, y) = (-y, x)\).
        </p>
        <img class="graph" src="images/curl_vector_field.png">
        <p class="ntm sn">
          The vector field of \(\mathbf{F}(x, y) = (-y, x)\).
        </p>
        <p>
          Visually, you can tell that the vector field has counterclockwise rotation at every point. But is there a way to tell mathematically?
        </p>
        <p>
          The key is to analyze what happens to the \(x\)- and \(y\)-components of our vectors as we increase the \(x\)- or \(y\)-value of our input. Looking at the vector field, as we increase our input \(x\)-value (while keeping \(y\) constant), what happens to the output vector? What if we keep \(x\) constant and increase \(y\)?
        </p>
        <p>
          As we increase the \(x\)-value of our input (which corresponds to traveling to the right on our vector field), the \(y\)-component of the output vectors gets larger and larger. As we increase the \(y\)-value of our input (which corresponds to traveling up), the \(x\)-component of the vectors decreases.
        </p>
        <p>
          What this means is that the partial derivative of the \(y\)-component of the output with respect to the input \(x\) is positive, and the partial derivative of the \(x\)-component of the output with respect to the input \(y\) is negative.
        </p>
        <p class="nbm">
          It turns out that these two partial derivatives are all that we need to calculate <strong>curl</strong>, which is a measure of how much rotation there is around a point in a vector field. Here is the formula for curl in two dimensions for a vector field \(\mathbf{F}(x, y) = (v_1, v_2)\):
        </p>
        <div class="mj">
          \[ \pdv{v_2}{x} - \pdv{v_1}{y}\]
        </div>
        <p class="ntm">
          A positive value for two-dimensional curl means that there is counterclockwise rotation around a point, and a negative value indicates clockwise rotation.
        </p>
        <p class="nbm">
          Let’s apply this formula to the function \(\mathbf{F}(x, y) = (-y, x)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{v_2}{x} - \pdv{v_1}{y} &= \pdv{x}(x) - \pdv{y}(-y)\\
          &= 1 - (-1)\\
          &= 2
          \end{flalign}\]
        </div>
        <p class="ntm">
          Notice that this expression doesn’t have \(x\) or \(y\) in it, meaning that the two-dimensional curl is 2 regardless of what point we choose. This value of curl makes sense since there is counterclockwise rotation around all points in our vector field.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the curl at the point \((\frac{5}{2}, 0)\) for the vector field given by \(\mathbf{F}(x, y) = (\sin(\frac{\pi y}{5}), \cos(\frac{\pi x}{5}))\)?
        </p>
        <img class="graph" src="images/curl_vector_field_2.png">
        <p class="ntm sn">
          What is the curl at the point \(\class{red}{(\frac{5}{2}, 0)}\)?
        </p>
        <p class="nbm">
          Let’s use the two-dimensional curl formula to determine the curl at any given point \((x, y)\) for this vector field:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{v_2}{x} - \pdv{v_1}{y} &= \pdv{x}\cos(\frac{\pi x}{5}) - \pdv{y}\sin(\frac{\pi y}{5})\\
          &= -\frac{\pi}{5}\sin(\frac{\pi x}{5}) - \frac{\pi}{5}\cos(\frac{\pi y}{5})
          \end{flalign}\]
        </div>
        <p class="nm">
          Now let’s plug in the point \((\frac{5}{2}, 0)\) to find the curl at this point:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{v_2}{x} - \pdv{v_1}{y} &= -\frac{\pi}{5}\sin(\frac{5\pi/2}{5}) - \frac{\pi}{5}\cos(\frac{5\pi/2}{5})\\
          &= -\frac{\pi}{5}\sin(\frac{\pi}{2}) - \frac{\pi}{5}\cos(\frac{\pi}{2})\\
          &= -\frac{\pi}{5}
          \end{flalign} \]
        </div>
        <p class="ntm">
          This value is negative, which makes sense because looking at the vector field, there is clockwise rotation around the point \((\frac{5}{2}, 0)\).
        </p>
        <p>
          The idea of curl can also be extended to three dimensions. However, to fully describe rotation in three dimensions, a scalar value won’t be enough. Instead, we need to use a vector to describe 3D rotation.
        </p>
        <p>
          Rotation vectors in three dimensions are defined with the right-hand rule: if you curl your fingers in the direction of rotation and extend your thumb, it will point in the direction of the rotation vector.
        </p>
        <p class="nbm">
          Curl in three dimensions is defined as:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \operatorname{curl}(\mathbf{F}) &= \left(\pdv{v_3}{y} - \pdv{v_2}{z}\right)\mathbf{i} + \left(\pdv{v_1}{z} - \pdv{v_3}{x}\right)\mathbf{j} + \left(\pdv{v_2}{x} - \pdv{v_1}{y}\right)\mathbf{k}
          \end{flalign} \]
        </div>
        <p class="nm">
          An alternate notation for curl that also serves as a way to remember the formula is:
        </p>
        <div class="mj">
          \[ \operatorname{curl}(\mathbf{F}) = \nabla \times \mathbf{F} \]
        </div>
        <p class="nm">
          Here, \(\nabla\) represents the partial derivative operators \((\pdv{x}, \pdv{y}, \pdv{z})\). So curl can be thought of as this cross product:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \operatorname{curl}(\mathbf{F}) &= \nabla \times \mathbf{F}\\
          &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          \pdv{x} & \pdv{y} & \pdv{z}\\
          v_1 & v_2 & v_3\end{bmatrix}
          \end{flalign}\]
        </div>
        <p class="nm">
          You might find this determinant very strange, because the middle row of the matrix is filled with operators. So this isn’t really a determinant in the traditional sense, but if we define “multiplying” a partial derivative operator by something as evaluating the partial derivative of that thing, we can make sense of this determinant.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \operatorname{curl}(\mathbf{F}) &= \nabla \times \mathbf{F}\\
          &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          \pdv{x} & \pdv{y} & \pdv{z}\\
          v_1 & v_2 & v_3\end{bmatrix}\\
          &= \left(\pdv{y}v_3 - \pdv{z}v_2\right)\mathbf{i} - \left(\pdv{x}v_3 - \pdv{z}v_1\right)\mathbf{j} + \left(\pdv{x}v_2 - \pdv{y}v_1\right)\mathbf{k}\\
          &= \left(\pdv{v_3}{y} - \pdv{v_2}{z}\right)\mathbf{i} + \left(\pdv{v_1}{z} - \pdv{v_3}{x}\right)\mathbf{j} + \left(\pdv{v_2}{x} - \pdv{v_1}{y}\right)\mathbf{k}
          \end{flalign}\]
        </div>
      </div>
      <h3 class="section-header" id="divergenceHeader">
        Vector Fields: The Divergence Operator <button id="divergenceButton" onclick="showHide('divergence')">Show</button>
      </h3>
      <div class="hidden-by-default" id="divergence">
        <p>
          There is another operation we can perform on points in vector fields, and it’s known as <strong>divergence</strong>. While curl tells us how much vectors rotate around a point, divergence tells us how much vectors are diverging from a point. If you imagine a vector field as describing fluid flow, divergence can give us a sense of how much fluid is leaving a point.
        </p>
        <p>
          A great example of this is the vector field for the function \(\mathbf{F}(x, y) = (x, y)\):
        </p>
        <img class="graph" src="images/divergence_vector_field.png">
        <p class="ntm sn">
          The vector field for \(\mathbf{F}(x, y) = (x, y)\). Notice how the vectors are diverging from the origin.
        </p>
        <p>
          Just like we did with curl, we can look at what happens to the vectors as we change one of the input variables. What happens to the vectors as we increase \(x\) and keep \(y\) constant, or increase \(y\) and keep \(x\) constant?
        </p>
        <p>
          As we increase the input variable \(x\), the \(x\)-components of the vectors increase, and as we increase the input variable \(y\), the \(y\)-components of the vectors also increase.
        </p>
        <p class="nbm">
          This means that both \(\pdv{v_1}{x}\) and \(\pdv{v_2}{y}\) are positive in our diverging vector field. In fact, divergence is calculated with this formula:
        </p>
        <div class="mj">
          \[ \pdv{v_1}{x} + \pdv{v_2}{y} \]
        </div>
        <p class="nm">
          Let’s calculate the divergence for the vector field \(\mathbf{F}(x, y) = (x, y)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{v_1}{x} + \pdv{v_2}{y} &= \pdv{x}(x) + \pdv{y}(y)\\
          &= 1 + 1\\
          &= 2
          \end{flalign}\]
        </div>
        <p class="ntm">
          Looking back at our vector field, it makes sense that this value is positive, because if we imagine fluid flow in the vector field, more fluid is leaving the region around every point than entering it. A negative value of divergence would indicate that more fluid is entering the region around that point than leaving it.
        </p>
        <p>
          Let’s do another example now.
        </p>
        <p class="ntm problem">
          <strong>Problem</strong>: What is the divergence at the point \((2, 0)\) for the vector field given by \(\mathbf{F}(x, y) = (\cos(\frac{\pi x}{4}), -y)\)?
        </p>
        <img class="graph" src="images/divergence_vector_field_2.png">
        <p class="ntm sn">
          What is the divergence at the point \(\class{red}{(2, 0)}\)?
        </p>
        <p class="nbm">
          The partial derivatives of our vector field is:
        </p>
        <div class="mj">
          \[ \pdv{v_1}{x} = -\frac{\pi}{4}\sin\left(\frac{\pi x}{4}\right) \]
          \[ \pdv{v_2}{y} = -1 \]
        </div>
        <p class="nm">
          Now let’s plug these into the divergence formula:
        </p>
        <div class="mj">
          \[ \pdv{v_1}{x} + \pdv{v_2}{y} = -\frac{\pi}{4}\sin\left(\frac{\pi x}{4}\right) - 1 \]
        </div>
        <p class="nm">
          Now we can find the divergence value at \((2, 0)\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{v_1}{x} + \pdv{v_2}{y} &= -\frac{\pi}{4}\sin\left(\frac{2\pi}{4}\right) - 1\\
          &= -\frac{\pi}{4}\sin\left(\frac{\pi}{2}\right) - 1\\
          &= -\frac{\pi}{4} - 1\\
          \end{flalign} \]
        </div>
        <p class="ntm">
          Looking back at the vector field, the vectors are pointing towards the point \((2, 0)\), so we would expect the divergence to be negative. Using the fluid flow interpretation, fluid would be converging at this point, not diverging.
        </p>
        <p class="nm">
          Divergence is generalizable to more dimensions. For example, in three dimensions, the divergence formula is:
        </p>
        <div class="mj">
          \[ \operatorname{div}(\mathbf{F}) = \pdv{v_1}{x} + \pdv{v_2}{y} + \pdv{v_3}{z} \]
        </div>
        <p class="nm">
          The divergence formula can also be written as follows, where \(\nabla\) represents the partial derivative operators \((\pdv{x}, \pdv{y}, \pdv{z})\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \operatorname{div}(\mathbf{F}) &= \nabla \cdot \mathbf{F}\\
          &= \left(\pdv{x}, \pdv{y}, \pdv{z}\right) \cdot (v_1, v_2, v_3)\\
          &= \pdv{v_1}{x} + \pdv{v_2}{y} + \pdv{v_3}{z}
          \end{flalign} \]
        </div>
      </div>
      <h3 class="section-header" id="greensTheoremHeader">
        Green’s Theorem <button id="greensTheoremButton" onclick="showHide('greensTheorem')">Show</button>
      </h3>
      <div class="hidden-by-default" id="greensTheorem">
        <p>
          One way to interpret line integrals is that they tell you how much the vector field points in the same direction you are traveling in as you travel along the curve you’re integrating over.
        </p>
        <p>
          An analogy is to imagine the vector field as representing wind. As you travel along the curve you’re integrating over, does the wind blow in the direction of your movement or against you? If the wind mostly blows in the same direction you’re moving in, then the line integral is positive, and if the wind mostly blows against you, the line integral is negative.
        </p>
        <p>
          Now let’s say that we’re integrating over the boundary of some region, and we’ll call this boundary \(C\). We’ll also say that \(C\) is oriented counterclockwise, i.e. we’re traveling along \(C\) in the counterclockwise direction. We call this a <strong>closed line integral</strong>, since we’re starting and ending at the same point. <span class="sn">(Sometimes the symbol \(\oint\) is used instead of \(\int\) to emphasize that a line integral is a closed line integral. It’s evaluated the same way as a normal line integral however.)</span>
        </p>
        <img class="graph" src="images/greens_theorem_1.png">
        <p class="ntm sn">
          An example of a closed curve that is oriented counterclockwise.
        </p>
        <p>
          If we mostly encounter vectors that are pointing counterclockwise while traveling along the curve \(C\), then our line integral will be positive. Likewise, if we mostly encounter vectors that are pointing clockwise while traveling along the curve \(C\), then our line integral will be negative.
        </p>
        <p>
          What this means is that our line integral essentially measures how much our vectors are oriented counterclockwise along our curve.
        </p>
        <p>
          Now let’s say that \(R\) is the region bounded by the curve \(C\). Imagine dividing the region \(R\) into two pieces and creating two different curves \(C_1\) and \(C_2\), both oriented counterclockwise. For example, this is what that might look like:
        </p>
        <img class="graph" src="images/greens_theorem_2.png">
        <p>
          Importantly, the sum of the line integrals \(\oint_{C_1}\mathbf{F} \cdot \mathbf{\dd{s}}\) and \(\oint_{C_2}\mathbf{F} \cdot \mathbf{\dd{s}}\) is equal to the original line integral \(\oint_C \mathbf{F}\cdot\mathbf{\dd{s}}\). This is because the two line integrals cancel out along the line that the two boundaries share.
        </p>
        <p>
          We can divide our region again in a similar manner to create even more different line integrals. Once again, the sum of these line integrals is the same as the original line integral, as long as each integral is oriented counterclockwise. We can keep cutting up our region like this, and the sum of the line integrals will stay the same.
        </p>
        <p>
          Eventually, we will have many line integrals over tiny regions. Remember how I said that a counterclockwise closed line integral measures how much the vector field is oriented counterclockwise along the curve? There is another concept that measures this, and that is two-dimensional curl. However, two-dimensional curl is only defined for points, not over entire curves.
        </p>
        <p>
          Nevertheless, if the region bounded by a closed curve is very small, the line integral along that curve is approximately equal to the two-dimensional curl at a point in the region. As we make the regions smaller and smaller, this approximation becomes an equality.
        </p>
        <img class="graph" src="images/greens_theorem_small_region.png">
        <p class="ntm sn">
          The line integral around this boundary curve \(C_k\) (oriented counterclockwise) is approximately equal to the two-dimensional curl at a point in the region \(R_k\).
        </p>
        <p class="nbm">
          What this means is that the line integral over the entire curve \(C\) is equal to the sum of the curl of the infinitely many small regions. To find this sum, we must integrate the curl over the entire region. The tool we need to do this is the double integral!
        </p>
        <p class="nbm">
          Therefore, the line integral over the curve \(C\) is equal to the double integral of the curl of \(\mathbf{F}\) over the region \(R\). Here’s how you would write this fact in symbols:
        </p>
        <div class="mj">
          \[ \oint_C \mathbf{F} \cdot \dd{\mathbf{s}} = \iint_R \operatorname{2D-curl}\mathbf{F} \dd{A} \]
        </div>
        <p class="ntm sn">
          Note: the operator \(\operatorname{2D-curl}\) means that I’m using the two-dimensional definition of curl here, not the standard 3D definition.
        </p>
        <p class="nbm">
          As a reminder, the two-dimensional curl of a vector-valued function \(\mathbf{F}(x, y) = (\class{red}{v_1}, \class{blue}{v_2})\) is defined as:
        </p>
        <div class="mj">
          \[ \pdv{\class{blue}{v_2}}{x} - \pdv{\class{red}{v_1}}{y} \]
        </div>
        <p class="nm">
          If we define our function \(\mathbf{F}(x, y)\) to output the vector \((\class{red}{P(x,y)}, \class{blue}{Q(x,y)})\) (i.e. \(\class{red}{P(x, y)}\) is the \(x\)-component of the output of \(\mathbf{F}\) and \(\class{blue}{Q(x, y)}\) is the \(y\)-component), then the two-dimensional curl of \(\mathbf{F}\) is:
        </p>
        <div class="mj">
          \[ \pdv{\class{blue}{Q}}{x} - \pdv{\class{red}{P}}{y} \]
        </div>
        <p class="nm">
           Therefore, we can write our observation that the line integral over the curve \(C\) is equal to the double integral of the curl of \(\mathbf{F}\) over the region \(R\) as:
        </p>
        <div class="mj">
          \[ \oint_C \mathbf{F}\cdot\dd{\mathbf{s}} = \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} \]
        </div>
        <p class="ntm">
          The left-hand side is our closed line integral over the curve \(C\), and the right-hand side is the double integral of the two-dimensional curl over the region \(R\). <span class="sn">(Remember, the symbol \(\oint\) just means that this is a closed line integral. We’re still evaluating the line integral the way we normally would.)</span>
        </p>
        <p class="nm">
          Since the differential \(\dd{\mathbf{s}}\) represents a tiny step along the curve \(C\), so we can rewrite it as the vector \((\dd{x}, \dd{y})\). So our equation becomes:
        </p>
        <div class="mj">
          \[ \oint_C \mathbf{F}\cdot\dd{\mathbf{s}} = \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} \]
          \[ \oint_C (P(x, y), Q(x, y)) \cdot (\dd{x}, \dd{y}) = \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} \]
          \[ \oint_C P \dd{x} +\, Q \dd{y} = \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} \]
        </div>
        <p class="ntm">
          This equation is known as <strong>Green’s theorem</strong>. It’s useful because it allows us to convert line integrals into double integrals, and sometimes this can make solving line integrals easier.
        </p>
        <p class="bold">
          Note that Green’s theorem in this form only works if the curve \(C\) is oriented counterclockwise. If it is oriented clockwise, we need to multiply our final answer by -1.
        </p>
        <p>
          Here’s an example of us using Green’s theorem to turn a line integral into a double integral that is easier to evaluate.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Use Green’s theorem to evaluate the line integral \(\int_C \mathbf{F} \cdot \dd{\mathbf{s}}\) for \(\mathbf{F}(x, y) = (10y, -5x)\) over the curve defined by \((\cos(t), \sin(t))\) from \(t = 0\) to \(t = 2\pi\).
        </p>
        <p>
          Notice that our curve is just a circle of radius 1 around the origin, oriented counterclockwise (this orientation is important, otherwise we would need to multiply our answer by -1). This is a closed line integral, so we can use Green’s theorem. <span class="sn">(There actually are a few more conditions required to use Green’s theorem, but they are met in this case.)</span>
        </p>
        <p class="nbm">
          To use Green’s theorem, we need to get our line integral into the form \(\int_C P \dd{x}+\, Q \dd{y}\). To do this, we need to rewrite \(\dd{\mathbf{s}}\) as the vector \((\dd{x}, \dd{y})\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_C \mathbf{F} \cdot \dd{\mathbf{s}} &= \int_C(10y, -5x) \cdot (\dd{x}, \dd{y})\\
          &= \int_C 10y \dd{x} -\, 5x \dd{y}
          \end{flalign}\]
        </div>
        <p class="nm">
          From here, we can tell that \(P = 10y\) and \(Q = -5x\). Now let’s find \(\pdv{Q}{x}\) and \(\pdv{P}{y}\):
        </p>
        <div class="mj">
          \[ \pdv{Q}{x} = -5 \]
          \[ \pdv{P}{y} = 10 \]
        </div>
        <p class="nm">
          Now we’re ready to write our integral as a double integral using Green’s theorem:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} &= \iint_R \left(-5 - 10\right) \dd{A}\\
          &= \iint_R -15 \dd{A}\\
          &= -15\iint_R \dd{A}
          \end{flalign} \]
        </div>
        <p class="ntm">
          Note that our region here is just the interior of a circle with radius 1. Because of this, we know that the integral \(\iint_R \dd{A}\), which measures the area of this circle, is simply \(\pi\), meaning that our integral evaluates to \(-15\pi\). 
        </p>
        <p>
          Doing this is a lot less work than performing the line integral normally, which would require us to integrate \(\sin^2(x)\) and \(\cos^2(x)\).
        </p>
        <p class="nbm">
          Green’s theorem can also be used in reverse: to convert area integrals to line integrals. Let’s look back at Green’s theorem:
        </p>
        <div class="mj">
          \[ \oint_C P \dd{x} +\, Q \dd{y} = \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} \]
        </div>
        <p class="nm">
          If we have functions \(P\) and \(Q\) such that \(\pdv{Q}{x} - \pdv{P}{y} = 1\), then Green’s theorem simply becomes:
        </p>
        <div class="mj">
          \[ \oint_C P \dd{x} +\, Q \dd{y} = \iint_R \dd{A} \]
        </div>
        <p class="nm">
          One way we can make \(\pdv{Q}{x} - \pdv{P}{y} = 1\) is if we have \(P = -\frac{y}{2}\) and \(Q = \frac{x}{2}\). Therefore, we can write our equation as:
        </p>
        <div class="mj">
          \[ \oint_C -\frac{y}{2} \dd{x} +\, \frac{x}{2} \dd{y} = \iint_R \dd{A} \]
          \[ \frac{1}{2}\oint_C -y \dd{x} +\, x \dd{y} = \iint_R \dd{A} \]
          \[ \iint_R \dd{A} = \frac{1}{2}\oint_C x \dd{y} -\, y\dd{x} \]
        </div>
        <p class="ntm">
          The above is a way to convert area double integrals into line integrals.
        </p>
      </div>
      <h3 class="section-header" id="parametricSurfacesHeader">
        Parametric Surfaces <button id="parametricSurfacesButton" onclick="showHide('parametricSurfaces')">Show</button>
      </h3>
      <div class="hidden-by-default" id="parametricSurfaces">
        <p>
          With normal parametric functions, we have one parametric variable \(t\) that draws out a curve in 2D space. We can do something similar in 3D: using two parametric variables \(s\) and \(t\), we can draw out surfaces in 3D space. I’m going to explain this with an example.
        </p>
        <p class="problem">
          <strong>Problem</strong>: What is the parametric surface created by the parametric equations \(x(s, t) = 2st\), \(y(s, t) = s + t\), and \(z(s, t) = t\) for \(-1 \le s \le 1\) and \(-1 \le t \le 1\)?
        </p>
        <p>
          Let’s first create a table of points. Every ordered pair of the parameters \((s, t)\) corresponds to a 3-dimensional point in space, and the parametric equations \(x(s, t)\), \(y(s, t)\), and \(z(s, t)\) are responsible for turning each 2-dimensional input into a 3-dimensional output.
        </p>
        <div class="table-div">
          <table>
            <tr>
              <th>\((s, t)\)</th>
              <th>\((x, y, z) = (2st, s+t, t)\)</th>
            </tr>
            <tr>
              <td>(0, 0)</td>
              <td>(0, 0, 0)</td>
            </tr>
            <tr>
              <td>(1, 0)</td>
              <td>(0, 1, 0)</td>
            </tr>
            <tr>
              <td>(0.5, 0.8)</td>
              <td>(0.8, 1.3, 0.8)</td>
            </tr>
            <tr>
              <td>(-0.2, -0.4)</td>
              <td>(0.16, -0.6, -0.4)</td>
            </tr>
          </table>
        </div>
        <p>
          Here is what it looks like when we plot these points:
        </p>
        <img class="graph" src="images/parametric_surface_points.png">
        <p>
          If we extended our table into infinity, plotting all possible points corresponding to the region \(-1 \le s \le 1\) and \(-1 \le t \le 1\), then we would get a surface. This is what it would look like:
        </p>
        <img class="graph" src="images/parametric_surface.png">
        <p>
          We can also represent a parametric surface with a vector-valued function. For example, for this surface, we can say that it represents all outputs of the function \(\mathbf{r}(s, t) = (2st, s+t, t)\) for \(-1 \le s \le 1\) and \(-1 \le t \le 1\). 
        </p>
      </div>
      <h3 class="section-header" id="surfaceAreaIntHeader">
        Surface Areas of Parametric Surfaces <button id="surfaceAreaIntButton" onclick="showHide('surfaceAreaInt')">Show</button>
      </h3>
      <div class="hidden-by-default" id="surfaceAreaInt">
        <p>
          When we create a parametric surface, we are taking points in a 2D region and transforming them into a surface in 3D space. How can we find the surface area of one of these parametric surfaces?
        </p>
        <p>
          We can imagine taking the input space (the values of \(s\) and \(t\) we are we are using as our inputs) and chopping it up into many small pieces.
        </p>
        <img class="graph" src="images/surface_integral_input.png">
        <p>
          Now we can imagine what happens as each of these regions gets mapped onto our surface. It might look something like this:
        </p>
        <img class="graph" src="images/parametric_surface_regions.png">
        <p>
          As you can see, the rectangular regions in the input space roughly become parallelograms on the surface. If the input rectangles are small enough, we can approximate these regions on the surface as parallelograms. Let’s take a look at just one of these regions.
        </p>
        <img class="graph" src="images/parametric_surface_region.png">
        <p>
          One of the rectangles in our input space gets mapped to this parallelogram. How can we find the area of this parallelogram? To do that, we first need to find the dimensions of this parallelogram.
        </p>
        <p>
          This is what the input rectangle looks like:
        </p>
        <img class="graph" src="images/surface_integral_input_rectangle.png">
        <p class="ntm sn">
          Remember that this rectangle should be very small, so we’re saying that it has width \(\dd{s}\) and height \(\dd{t}\).
        </p>
        <p>
          And this is what it looks like when our rectangle gets mapped onto the surface:
        </p>
        <img class="graph" src="images/parametric_surface_region_points.png">
        <p>
          Let’s think about these dimensions:
        </p>
        <p>
          <li>The base of the parallelogram can be represented by the vector \(\mathbf{r}(s_1, t_0) - \mathbf{r}(s_0, t_0)\), which represents the change in \(\mathbf{r}\) when we change \(s\) by a tiny amount \(\dd{s}\).</li>
          <li>The slant height of the parallelogram can be represented by the vector \(\mathbf{r}(s_0, t_1) - \mathbf{r}(s_0, t_0)\), which represents the change in \(\mathbf{r}\) when we change \(t\) by a tiny amount \(\dd{t}\).</li>
        </p>
        <p>
          Remember that the dimensions of this parallelogram should be very small, since we’re cutting up our input space into many tiny rectangles. So we can approximate the dimensions as follows:
        </p>
        <p>
          <li>The base of the parallelogram can be approximated by \(\pdv{\mathbf{r}}{s}\dd{s}\), because this is the change in \(\mathbf{r}\) when we change \(s\) by a tiny amount \(\dd{s}\).</li>
          <li>The slant height of the parallelogram can be approximated by \(\pdv{\mathbf{r}}{t}\dd{t}\), because this is the change in \(\mathbf{r}\) when we change \(t\) by a tiny amount \(\dd{t}\).</li>
        </p>
        <p>
          This is what this looks like visually:
        </p>
        <img class="graph" src="images/parametric_surface_region_derivatives.png">
        <p class="ntm sn">
          Note that \(\pdv{\mathbf{r}}{t} \dd{t}\) and \(\pdv{\mathbf{r}}{s} \dd{s}\) are both vector quantities, not scalars.
        </p>
        <p class="nbm">
          Recall that the magnitude of the cross product of two vectors gives you the area of the parallelogram formed by them. Therefore, the area of this parallelogram on the surface is about:
        </p>
        <div class="mj">
          \[ \left|\left|\left(\pdv{\mathbf{r}}{s}\dd{s}\right) \times \left(\pdv{\mathbf{r}}{t}\dd{t}\right) \right|\right|\]
        </div>
        <p class="nm">
          To find the area of the entire parametric surface, we need to integrate this value over all of the values of \(s\) and \(t\) we’re using. We can do this with a double integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \iint_R\left|\left|\left(\pdv{\mathbf{r}}{s}\dd{s}\right) \times \left(\pdv{\mathbf{r}}{t}\dd{t}\right) \right|\right|\\
          &= \iint_R\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| \dd{s}\dd{t}\\
          \end{flalign}\]
        </div>
        <p class="ntm">
          This integral is known as a <strong>surface area integral</strong>, and can be used to find the surface areas of parametric surfaces!
        </p>
        <p class="problem">
          <strong>Problem</strong>: Find the surface area of a unit sphere (a sphere of radius 1). <span class="sn">(This sphere can be parameterized with the function \(\mathbf{r}(s, t) = (\sin(s)\cos(t), \sin(s)\sin(t), \cos(s))\) for \(0 \le s \le \pi\) and \(0 \le t \le 2\pi\).)</span>
        </p>
        <p class="nbm">
          Let’s first find the partial derivatives of \(\mathbf{r}(s, t)\):
        </p>
        <div class="mj">
          \[ \pdv{\mathbf{r}}{s} = (\cos(s)\cos(t), \cos(s)\sin(t), -\sin(s)) \]
          \[ \pdv{\mathbf{r}}{t} = (-\sin(s)\sin(t), \sin(s)\cos(t), 0) \]
        </div>
        <p class="nm">
          Now let’s find the cross product of these two partial derivatives:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t} &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          \cos(s)\cos(t) & \cos(s)\sin(t) & -\sin(s)\\
          -\sin(s)\sin(t) & \sin(s)\cos(t) & 0
          \end{bmatrix}\\
          &= -\sin^2(s)\cos(t)\mathbf{i} - \sin^2(s)\sin(t)\mathbf{j} + [\cos(s)\sin(s)\cos^2(t) + \cos(s)\sin(s)\sin^2(t)]\mathbf{k}\\
          &= -\sin^2(s)\cos(t)\mathbf{i} - \sin^2(s)\sin(t)\mathbf{j} + (\cos(s)\sin(s)[\cos^2(t) + \sin^2(t)])\mathbf{k}\\
          &= -\sin^2(s)\cos(t)\mathbf{i} - \sin^2(s)\sin(t)\mathbf{j} + \cos(s)\sin(s)\mathbf{k}\\
          \end{flalign}
          \]
        </div>
        <p class="nm">
          We then need to find the magnitude of this cross product:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| &= \sqrt{[-\sin^2(s)\cos(t)]^2 + [-\sin^2(s)\sin(t)]^2 + [\cos(s)\sin(s)]^2}\\
          &= \sqrt{\sin^4(s)\cos^2(t) + \sin^4(s)\sin^2(t) + \cos^2(s)\sin^2(s)}\\
          &= \sqrt{\sin^2(s)[\sin^2(s)\cos^2(t) + \sin^2(s)\sin^2(t) + \cos^2(s)]}\\
          &= \sqrt{\sin^2(s)[\sin^2(s)[\cos^2(t) + \sin^2(t)] + \cos^2(s)]}\\
          &= \sqrt{\sin^2(s)[\sin^2(s) + \cos^2(s)]}\\
          &= \sqrt{\sin^2(s)}\\
          &= \sin(s)
          \end{flalign}\]
        </div>
        <p class="ntm sn">
          Typically \(\sqrt{\sin^2(s)}\) would need to be written as \(\lvert \sin(s) \rvert\), but since \(\sin(s)\) is never negative over the interval \(0 \le s \le \pi\), we don’t need the absolute value bars.
        </p>
        <p class="nbm">
          Now that we’ve calculated \(\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right|\), we can finally evaluate the surface integral.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          A &= \int_0^{2\pi}\int_0^{\pi}\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right|\dd{s}\dd{t}\\
          &= \int_0^{2\pi}\int_0^{\pi}\sin(s)\dd{s}\dd{t}\\
          &= \int_0^{2\pi}-\cos(s)\bigg|_0^\pi \dd{t}\\
          &= \int_0^{2\pi}(-\cos(\pi) - [-\cos(0)])\dd{t}\\
          &= \int_0^{2\pi} 2 \dd{t}\\
          &= 2t\bigg|_0^{2\pi}\\
          &= 4\pi
          \end{flalign}\]
        </div>
        <p class="ntm">
          We can use a similar argument to show that the surface area of a sphere with radius \(r\) is \(4\pi r^2\).
        </p>
      </div>
      <h3 class="section-header" id="surfaceIntHeader">
        Surface Integrals <button id="surfaceIntButton" onclick="showHide('surfaceInt')">Show</button>
      </h3>
      <div class="hidden-by-default" id="surfaceInt">
        <p class="nbm">
          Surface integrals are a way of integrating over a parametric surface, just like how line integrals are a way of integrating over a curve. Surface integrals are like surface area integrals, except you have an additional function inside the integral.
        </p>
        <div class="mj">
          \[ \iint_S f(x, y, z) \dd{S} = \iint_R f(\mathbf{r}(s, t))\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| \dd{s}\dd{t} \]
        </div>
        <p class="ntm sn">
          We use \(\dd{S}\) to represent a tiny piece of area on our surface.
        </p>
        <p>
          Let’s go over an example of a surface integral.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the surface integral \(\iint_S f(x, y, z) \dd{S}\) for \(f(x, y, z) = x + y + z\) and the surface \(S\) defined by \(\mathbf{r}(s, t) = (s^2, t^2, st)\) for \(0 \le s \le 2\) and \(-2 \le v \le 2\).
        </p>
        <p class="nbm">
          To evaluate a surface integral, we first need to find the value of \(\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right|\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t} &= (2s, 0, t) \times (0, 2t, s)\\
          &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          2s & 0 & t\\
          0 & 2t & s\\
          \end{bmatrix}\\
          &= (-2t^2)\mathbf{i} - (2s^2)\mathbf{j} + (4st)\mathbf{k}\\
          &= (-2t^2, -2s^2, 4st)\\
          \end{flalign}\]
        </div>
        <div class="mj">
          \[ \begin{flalign}
          \left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| &= \sqrt{(-2t^2)^2 + (-2s^2)^2 + (4st)^2}\\
          &= \sqrt{4t^4 + 4s^4 + 16s^2t^2}
          \end{flalign}\]
        </div>
        <p class="nm">
          Now we can use this value of \(\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right|\) to evaluate the surface integral.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S f(x, y, z) \dd{S} &= \iint_R f(\mathbf{r}(s, t))\left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| \dd{s}\dd{t}\\
          &= \iint_R f(s^2, t^2, st) \sqrt{4t^4 + 4s^4 + 16s^2t^2} \dd{s}\dd{t}\\
          &= \iint_R (s^2 + t^2 + st)\sqrt{4t^4 + 4s^4 + 16s^2t^2} \dd{s}\dd{t}\\
          \end{flalign} \]
        </div>
        <p class="nm">
          Our surface was parameterized for \(0 \le s \le 2\) and \(-2 \le t \le 2\), so those are the bounds of this double integral.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S f(x, y, z) \dd{S} &= \iint_R (s^2 + t^2 + st)\sqrt{4t^4 + 4s^4 + 16s^2t^2} \dd{s}\dd{t}\\
          &= \int_{-2}^2\int_0^2 (s^2 + t^2 + st)\sqrt{4t^4 + 4s^4 + 16s^2t^2} \dd{s}\dd{t}\\
          \end{flalign} \]
        </div>
        <p class="ntm">
          This is our final double integral. This integral is very hard to work out, so I’ll just give you the approximate value you can get from a calculator: <strong>185.21</strong>.
        </p>
      </div>
      <h3 class="section-header" id="surfaceNormalHeader">
        Normal Vectors to Parametric Surfaces <button id="surfaceNormalButton" onclick="showHide('surfaceNormal')">Show</button>
      </h3>
      <div class="hidden-by-default" id="surfaceNormal">
        <p>
          When we have a parametric surface, sometimes we want a way to generate normal vectors to the surface (vectors that are perpendicular to the surface).
        </p>
        <p>
          To do this, we can first find two vectors that are tangent to a point on the surface, then take the cross product to get a vector that is perpendicular to both of these vectors. But how can we find these two vectors?
        </p>
        <p>
          If we have a function \(\mathbf{r}(s, t)\) that defines the parametric surface, and we evaluate the partial derivatives with respect to \(s\) and \(t\) at a point, we get two vectors that are tangent to the surface a point. In other words, for a point \((x_0, y_0)\) on the surface, the vectors \(\pdv{\mathbf{r}}{s}(x_0, y_0)\) and \(\pdv{\mathbf{r}}{t}(x_0, y_0)\) are tangent to the surface.
        </p>
        <img class="graph" src="images/surface_tangent_vectors.png">
        <p class="ntm sn">
          The vectors \(\class{red}{\pdv{\mathbf{r}}{s}}\) and \(\class{blue}{\pdv{\mathbf{r}}{t}}\) are tangent to the surface.
        </p>
        <p>
          To get a vector that’s normal to the surface, all we have to do is find the cross product of these two vectors, which will give us a vector that is perpendicular to both of these tangent vectors.
        </p>
        <p class="nbm">
          Therefore, a normal vector to a surface at a point \(\mathbf{r}(s, t)\) is:
        </p>
        <div class="mj">
          \[ \pdv{s}\mathbf{r}(s, t) \times \pdv{t}\mathbf{r}(s, t)\]
        </div>
        <p class="ntm sn">
          We can also multiply this vector by -1 to get a normal vector pointing in the opposite direction.
        </p>
        <img class="graph" src="images/surface_normal_vectors.png">
        <p class="ntm sn">
          The cross product of the two tangent vectors \(\class{red}{\pdv{\mathbf{r}}{s}}\) and \(\class{blue}{\pdv{\mathbf{r}}{t}}\) is a <span class="purple">normal vector</span> to the surface.
        </p>
        <p class="nm">
          To find a unit normal vector to a surface (a normal vector with magnitude 1), we divide by this vector’s magnitude:
        </p>
        <div class="mj">
          \[ \frac{\pdv{s}\mathbf{r}(s, t) \times \pdv{t}\mathbf{r}(s, t)}{||\pdv{s}\mathbf{r}(s, t) \times \pdv{t}\mathbf{r}(s, t)||} \]
        </div>
        <p class="ntm sn">
          Once again, we can multiply this vector by -1 to get another unit normal vector but in the opposite direction.
        </p>
      </div>
      <h3 class="section-header" id="fluxIntHeader">
        Flux Integrals <button id="fluxIntButton" onclick="showHide('fluxInt')">Show</button>
      </h3>
      <div class="hidden-by-default" id="fluxInt">
        <p>
          <strong>Flux integrals</strong> are a specific type of closed line integral over a vector field. If we imagine a vector field as representing fluid flow (with each vector representing the velocity of a fluid particle), a flux integral tells us how much fluid mass is leaving the region per unit of time.
        </p>
        <img class="graph" src="images/flux_integral_region.png">
        <p class="ntm sn">
          How much fluid is leaving <span class="red">this region</span> per unit of time?
        </p>
        <p>
          The way we can find this is by considering tiny pieces of the boundary of the region, which we’ll call \(C\). Let’s zoom into a tiny region of the boundary and consider the fluid flow over a tiny period of time \(\dd{t}\):
        </p>
        <img class="graph" src="images/flux_integral_tiny_region.png">
        <p class="ntm sn">
          The <span class="red">red vectors</span> represent the vector field for \(\mathbf{F}\), and the <span class="blue">blue vector \(\mathbf{n}\)</span> is an outward-facing unit normal vector to the curve. 
        </p>
        <p>
          The dot product \((\mathbf{F} \dd{t})\cdot \mathbf{n}\) tells us the component of \(\mathbf{F} \dd{t}\) that is parallel to the normal vector \(\mathbf{n}\), which is the height of the parallelogram. The base of the parallelogram is \(\dd{s}\).
        </p>
        <p>
          Therefore, the amount of fluid that is leaving this parallelogram over this tiny amount of time \(\dd{t}\) can be approximated as \(((\mathbf{F} \dd{t})\cdot \mathbf{n})\dd{s} = (\mathbf{F} \cdot \mathbf{n}) \dd{s} \dd{t}\). The amount of fluid leaving per unit of time (which we can find by dividing by \(\dd{t}\)) can be approximated as \((\mathbf{F}\cdot\mathbf{n})\dd{s}\).
        </p>
        <p class="nbm">
          To find the total amount of fluid that is leaving the entire region per unit of time, we need to integrate this value along the entire curve. This is known as <strong>flux</strong>, and the two-dimensional flux integral looks like:
        </p>
        <div class="mj">
          \[ \oint_C \mathbf{F} \cdot \mathbf{n} \dd{s} \]
        </div>
        <p class="ntm sn">
          As a reminder, \(\dd{s} = ||\mathbf{r}'(t)|| \dd{t}\) for scalar line integrals (this is a scalar line integral because the dot product \(\mathbf{F} \cdot \mathbf{n}\) is a scalar).
        </p>
        <p>
          Note that the unit normal vectors must be facing outward in order for this flux integral to give the correct result.
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the flux integral \(\oint_C \mathbf{F}\cdot\mathbf{n} \dd{s}\) for the curve \(C\) parameterized by \(\mathbf{r}(t) = (5\cos(t), 5\sin(t))\) for \(0 \le t \le 2\pi\) and the vector field \(\mathbf{F} = (x+y, y-x)\).
        </p>
        <p>
          We first need to find a formula for the unit normal vector \(\mathbf{n}\). There is a trick we can use here: notice that the curve \(C\) is a circle with radius 5. Now consider this diagram:
        </p>
        <img class="graph" src="images/circle_normal_vector.png">
        <p>
          The diagram shows that at a point \((x, y)\) on the circle, the vector \((x, y)\) is an outward-facing normal vector to the circle. To get a unit normal vector, we divide this vector by its magnitude to get \(\frac{1}{\sqrt{x^2+y^2}}(x, y)\). Because we know that \(\sqrt{x^2+y^2}\) is equal to 5 for all points on the circle, we get that the unit normal vector at a point \((x, y)\) on the circle is \(\frac{1}{5}(x, y) = (\frac{x}{5}, \frac{y}{5})\).
        </p>
        <p class="nbm">
          Knowing that \(\mathbf{n} = (\frac{x}{5}, \frac{y}{5})\), we can set up the flux integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \oint_C \mathbf{F} \cdot \mathbf{n} \dd{s} &= \int_0^{2\pi} (x+y, y-x) \cdot \left(\frac{x}{5}, \frac{y}{5}\right) ||\mathbf{r}'(t)||\dd{t}\\
          &= \int_0^{2\pi} \left(\frac{x^2}{5} + \frac{xy}{5} + \frac{y^2}{5} - \frac{xy}{5}\right) \sqrt{[-5\sin(t)]^2 + [5\cos(t)]^2} \dd{t}\\
          &= \int_0^{2\pi} \left(\frac{x^2}{5} + \frac{y^2}{5}\right) \sqrt{25\sin^2(t) + 25\cos^2(t)} \dd{t}\\
          &= \int_0^{2\pi} \left(\frac{[5\cos(t)]^2}{5} + \frac{[5\sin(t)]^2}{5}\right) \sqrt{25[\sin^2(t) + \cos^2(t)]} \dd{t}\\
          &= \int_0^{2\pi} (5\cos^2(t) + 5\sin^2(t)) \cdot 5 \dd{t}\\
          &= \int_0^{2\pi} 5\cdot 5 \dd{t}\\
          &= \int_0^{2\pi} 25\dd{t}\\
          &= 50\pi
          \end{flalign}\]
        </div>
        <p class="ntm">
          Flux integrals can also be computed in three dimensions, and they represent the amount of fluid flowing out of a three-dimensional region per unit of time.
        </p>
        <p class="nbm">
          The concept is similar to two-dimensional flux, but this time we have a surface instead of a curve that encloses the region. To find the total fluid flow coming out of the region, we need to integrate over the surface, and this means we need to use a surface integral. Here’s what that surface integral looks like:
        </p>
        <div class="mj">
          \[ \iint_S \mathbf{F} \cdot \mathbf{n} \dd{S} \]
        </div>
        <p class="ntm sn">
          Once again, the unit normal vectors represented by \(\mathbf{n}\) must be outward-facing.
        </p>
        <p class="nm">
          By substituting the formula for a unit normal vector to a surface, we can rewrite this integral as follows:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S \mathbf{F} \cdot \mathbf{n} \dd{S} &= \iint_R \left(\mathbf{F}(\mathbf{r}(s, t)) \cdot \frac{\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}}{||\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}||}\right) \left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| \dd{s}\dd{t}\\
          &= \iint_R \mathbf{F}(\mathbf{r}(s, t)) \cdot \left(\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right) \dd{s}\dd{t}
          \end{flalign}\]
        </div>
      </div>
      <h3 class="section-header" id="divergenceTheoremHeader">
        The Divergence Theorem <button id="divergenceTheoremButton" onclick="showHide('divergenceTheorem')">Show</button>
      </h3>
      <div class="hidden-by-default" id="divergenceTheorem">
        <p>
          Flux integrals might remind you of the idea of divergence. In fact, these two are related through the <strong>divergence theorem</strong>. Let’s take a look at the divergence theorem for two dimensions.
        </p>
        <p class="large-text bold">The 2D divergence theorem</p>
        <p>
          A flux integral \(\oint_C \mathbf{F} \cdot \mathbf{n} \dd{s}\) tells you the total amount of fluid mass that is leaving a region bounded by the closed curve \(C\) per unit of time. Meanwhile, the divergence at a point tells you how much fluid mass is leaving a point (or more accurately, a tiny region around that point) per unit of time.
        </p>
        <p class="nbm">
          So if we integrate the divergence over an entire region, it makes sense that that value will be equal to the flux integral over the boundary of the region. This fact is known as the divergence theorem:
        </p>
        <div class="mj">
          \[ \oint_C \mathbf{F} \cdot \mathbf{n} \dd{s} = \iint_R \operatorname{div}(\mathbf{F}) \dd{A} \]
        </div>
        <p class="ntm">
          Just like with Green’s theorem, \(C\) must be oriented counterclockwise.
        </p>
        <p>
          Let’s try to find an alternate way of writing this equation. We’ll first write \(\mathbf{F}\) as the vector \((P(x, y), Q(x, y))\). In addition, we need to find the unit normal vector \(\mathbf{n}\).
        </p>
        <p>
          To do that, we first must find the tangent vector to \(C\) at time \(t\). This can be written as the vector \((\dd{x}, \dd{y})\), since this vector represents a tiny step along the curve.
        </p>
        <p>
          If we assume \(C\) is oriented counterclockwise, then an outward facing normal vector to \(C\) is \((\dd{y}, -\dd{x})\). To normalize this vector, we divide by its magnitude, giving us \(\frac{1}{\sqrt{(\dd{y})^2 + (-\dd{x})^2}} = \frac{1}{\dd{s}}\). Therefore, the unit normal vector to the curve \(C\) is \(\frac{1}{\dd{s}}(\dd{y}, -\dd{x})\).
        </p>
        <img class="graph" src="images/divergence_vectors.png">
        <p class="ntm sn">
          The <span class="blue">tangent vector \((\dd{x}, \dd{y})\)</span> to the <span class="red">curve \(C\)</span> and the <span class="purple">normal vector \((\dd{y}, -\dd{x})\)</span>.
        </p>
        <p class="nm">
          Putting it all together, we can write the 2D divergence theorem as:
        </p>
        <div class="mj">
          \[ \oint_C (P(x, y), Q(x, y)) \cdot \frac{1}{\dd{s}}(\dd{y}, -\dd{x})\dd{s} = \iint_R \left(\pdv{P}{x} + \pdv{Q}{y}\right) \dd{A} \]
          \[ \oint_C (P(x, y), Q(x, y)) \cdot (\dd{y}, -\dd{x}) = \iint_R \left(\pdv{P}{x} + \pdv{Q}{y}\right) \dd{A} \]
          \[ \oint_C P \dd{y} -\, Q \dd{x} = \iint_R \left(\pdv{P}{x} + \pdv{Q}{y}\right) \dd{A} \]
        </div>
        <p class="ntm">
          Looking at this formula, you might realize that this looks very similar to Green’s theorem. In fact, the 2D divergence theorem is actually just a special case of Green’s theorem!
        </p>
        <p class="nbm">
          To show this, let’s start with Green’s theorem:
        </p>
        <div class="mj">
          \[ \oint_C P \dd{x} +\, Q \dd{y} = \iint_R \left(\pdv{Q}{x} - \pdv{P}{y}\right) \dd{A} \]
        </div>
        <p class="nm">
          Now let’s replace \(P\) with \(-Q\) and \(Q\) with \(P\):
        </p>
        <div class="mj">
          \[ \oint_C -Q \dd{x} + \, P \dd{y} = \iint_R \left(\pdv{P}{x} - \pdv{(-Q)}{y}\right) \dd{A} \]
          \[ \oint_C P \dd{y} - \, Q \dd{x} = \iint_R \left(\pdv{P}{x} + \pdv{Q}{y}\right) \dd{A} \]
        </div>
        <p class="ntm">
          Therefore, the 2D divergence theorem can be derived from Green’s theorem!
        </p>
        <p class="large-text bold">The 3D divergence theorem</p>
        <p class="nbm">
          The divergence theorem can also be generalized to three dimensions. It says that the flux integral of a closed surface is equal to the triple integral of the divergence over the region that the surface encloses.
        </p>
        <div class="mj">
          \[ \iint_S \mathbf{F} \cdot \mathbf{n} \dd{S} = \iiint_R \operatorname{div}(\mathbf{F}) \dd{V} \]
        </div>
        <p class="ntm">
          The divergence theorem can be useful if we have a surface integral that is tough to evaluate and the corresponding divergence triple integral is easier to work out. Here’s an example:
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the surface integral \(\iint_S \mathbf{F} \cdot \mathbf{n} \dd{S}\), where \(S\) is the surface of a cube with side length 2 centered at the origin and \(\mathbf{F}(x, y, z) = (2x^2, 3y, 5z)\).
        </p>
        <p>
          Evaluating this surface integral normally would be quite a lot of work, since we would have to calculate separate surface integrals for each of the cube’s 6 faces. Instead, we could use the divergence theorem to turn this surface integral into a single triple integral! This is especially useful since triple-integrating over a cube is straightforward (all of the bounds are constants in rectangular coordinates).
        </p>
        <p class="nbm">
          To use the divergence theorem, we first need to find the divergence of \(\mathbf{F}\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \operatorname{div}(\mathbf{F}) &= \dv{x}(2x^2) + \dv{y}(3y) + \dv{z}(5z)\\
          &= 4x + 3 + 5\\
          &= 4x+8
          \end{flalign} \]
        </div>
        <p class="nm">
          Now let’s use the divergence theorem:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S \mathbf{F} \cdot \mathbf{n} \dd{S} &= \iiint_R \operatorname{div}(\mathbf{F}) \dd{V}\\
          &= \iiint_R (4x+8) \dd{V}\\
          \end{flalign} \]
        </div>
        <p class="nm">
          The bounds of our cube are \(-1 \le x \le 1\), \(-1 \le y \le 1\), and \(-1 \le z \le 1\). These are the bounds of our triple integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S \mathbf{F} \cdot \mathbf{n} \dd{S} &= \iiint_R (4x+8) \dd{V}\\
          &= \int_{-1}^1 \int_{-1}^1 \int_{-1}^1 (4x+8) \dd{x}\dd{y}\dd{z}\\
          &= \int_{-1}^1 \int_{-1}^1 (2x^2 + 8x)\bigg|_{-1}^1 \dd{y}\dd{z}\\
          &= \int_{-1}^1 \int_{-1}^1 16 \dd{y}\dd{z}\\
          &= \int_{-1}^1 16y\bigg|_{-1}^1 \dd{z}\\
          &= \int_{-1}^1 32 \dd{z}\\
          &= 32z\bigg|_{-1}^1\\
          &= 64
          \end{flalign} \]
        </div>
      </div>
      <h3 class="section-header" id="stokesTheoremHeader">
        Stokes’ Theorem <button id="stokesTheoremButton" onclick="showHide('stokesTheorem')">Show</button>
      </h3>
      <div class="hidden-by-default" id="stokesTheorem">
        <p>
          Green’s theorem is a way to rewrite a line integral as the double integral of curl in two dimensions. Now we’re going to see how we can do something similar in three dimensions.
        </p>
        <p>
          If we have a closed line integral \(\oint_C \mathbf{F} \cdot \dd{\mathbf{s}}\) over a three-dimensional curve \(C\), just like in two dimensions, this line integral tells us how much the vector field \(\mathbf{F}\) is rotating along the curve. If this line integral is positive, the vector field rotation tends to line up with how we oriented the curve, and if it is negative, the rotation tends to be in the opposite direction to how we oriented the curve.
        </p>
        <p>
          Let’s say that the curve \(C\) is a boundary of a surface \(S\). We can use a similar trick to what we did with Green’s theorem to write this line integral as the sum of many smaller line integrals over the surface. Each of these tiny line integrals can be approximated by the curl of the vector field over a tiny piece of the surface.
        </p>
        <p>
          Therefore, to find the total curl, we would need to use a surface integral. However, we can’t just directly integrate the curl of \(\mathbf{F}\), since that would result in a vector, and our original line integral \(\oint_C \mathbf{F} \cdot \dd{\mathbf{s}}\) is a scalar. So we instead have to calculate how much of the rotation on each piece is perpendicular to the surface. That amount is \(\operatorname{curl}(\mathbf{F}) \cdot \mathbf{n}\), where \(\mathbf{n}\) is the unit normal vector to the surface.
        </p>
        <img class="graph" src="images/surface_normal_vector.png">
        <p class="ntm sn">
          To get the amount of curl that is perpendicular to this <span class="red">tiny piece of the surface</span>, we need to take the curl of \(\mathbf{F}\) at some point on this piece and find the dot product of this curl with the <span class="blue">unit normal vector</span>.
        </p>
        <p class="nbm">
          To calculate the total amount of rotation over the entire surface (which is what’s given by the line integral \(\oint_C \mathbf{F} \cdot \dd{\mathbf{s}}\)), we sum up the rotation of the many small pieces using a surface integral. Doing this, we get Stokes’ theorem, which looks like this:
        </p>
        <div class="mj">
          \[ \oint_C \mathbf{F} \cdot \dd{\mathbf{s}} = \iint_S \operatorname{curl}(\mathbf{F}) \cdot \mathbf{n} \dd{S} \]
        </div>
        <p class="ntm">
          Note that in order to use Stokes’ theorem, the orientation of the curve \(C\) and the surface’s normal vectors \(\mathbf{n}\) must match up in a certain way. One way to describe this is that if you’re looking at the surface and the surface’s normal vectors are pointing toward your face, the curve should be oriented counterclockwise.
        </p>
        <p class="ntm">
          We can use Stokes’ theorem to convert closed line integrals to surface integrals of a function’s curl and vice versa. Here’s an example:
        </p>
        <p class="problem">
          <strong>Problem</strong>: Evaluate the line integral \(\oint_C \mathbf{F} \cdot \dd{\mathbf{s}}\) where \(C\) is the boundary of the surface \(S\) defined by \(\mathbf{r}(s, t) = (s, t, t^2)\) for \(-1 \le s \le 1\) and \(0 \le t \le 2\) and \(\mathbf{F}(x, y, z) = (y, z, x)\). \(C\) is oriented in the correct orientation for Stokes’ theorem.
        </p>
        <img class="graph" src="images/stokes_surface.png">
        <p class="ntm sn">
          <span class="red">The surface \(S\)</span> and <span class="blue">its boundary \(C\)</span> that we are integrating over. The arrows represent the orientation of \(C\).
        </p>
        <p class="nbm">
          Using Stokes’ theorem, we can rewrite this line integral as the surface integral \(\iint_S \operatorname{curl}(\mathbf{F}) \cdot \mathbf{n} \dd{S}\). Before we do any calculations, we can actually simplify this surface integral, just like we did with flux integrals:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S \operatorname{curl}(\mathbf{F}) \cdot \mathbf{n} \dd{S} &= \iint_S \left(\operatorname{curl}(\mathbf{F}) \cdot \frac{\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}}{||\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}||}\right) \left|\left|\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right|\right| \dd{s}\dd{t}\\
          &= \iint_S \operatorname{curl}(\mathbf{F}) \cdot \left(\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right) \dd{s}\dd{t}
          \end{flalign}\]
        </div>
        <p class="nm">
          Now let’s find the curl of \(\mathbf{F}\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \operatorname{curl}(\mathbf{F}) &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          \pdv{x} & \pdv{y} & \pdv{z}\\
          y & z & x
          \end{bmatrix}\\
          &= \left(\pdv{y}(x) - \pdv{z}(z)\right)\mathbf{i} - \left(\pdv{x}(x) - \pdv{z}(y)\right)\mathbf{j} + \left(\pdv{x}(z) - \pdv{y}(y)\right)\mathbf{k}\\
          &= -1\mathbf{i} - 1\mathbf{j} - 1\mathbf{k}\\
          &= (-1, -1, -1)
          \end{flalign}\]
        </div>
        <p class="nm">
          And now let’s find this cross product:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t} &= (1, 0, 0) \times (0, 1, 2t)\\
          &= \det\begin{bmatrix}
          \mathbf{i} & \mathbf{j} & \mathbf{k}\\
          1 & 0 & 0\\
          0 & 1 & 2t
          \end{bmatrix}\\
          &= 0\mathbf{i} - 2t\mathbf{j} + 1\mathbf{k}\\
          &= (0, -2t, 1)
          \end{flalign}\]
        </div>
        <p class="ntm">
          This cross product represents the normal vectors to the surface. By plotting some of these normal vectors, we can confirm that our surface and boundary are oriented correctly.
        </p>
        <img class="graph" src="images/stokes_surface_normals.png">
        <p class="ntm sn">
          When you look at this surface in such a way that the <span class="purple">normal vectors</span> are pointing towards your face, the <span class="blue">curve \(C\)</span> is oriented counterclockwise, so the orientation is correct for Stokes’ theorem.
        </p>
        <p class="nm">
          Now let’s evaluate the surface integral:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \iint_S \operatorname{curl}(\mathbf{F}) \cdot \mathbf{n} \dd{S} &= \iint_S \operatorname{curl}(\mathbf{F}) \cdot \left(\pdv{\mathbf{r}}{s} \times \pdv{\mathbf{r}}{t}\right) \dd{s}\dd{t}\\
          &= \int_0^2 \int_{-1}^1 (-1, -1, -1) \cdot (0, -2t, 1) \dd{s} \dd{t}\\
          &= \int_0^2 \int_{-1}^1 (2t - 1) \dd{s} \dd{t}\\
          &= \int_0^2 (2t - 1)s\bigg|_{s=-1}^{s=1} \dd{s} \dd{t}\\
          &= \int_0^2 (4t-2) \dd{t}\\
          &= (2t^2 - 2t)\bigg|_0^2 \\
          &= 4
          \end{flalign}\]
        </div>
        <p class="ntm">
          Instead of using Stokes’ theorem, we could also evaluate the line integral directly. We could do this by breaking down our curve \(C\) into 4 separate curves.
        </p>
        <img class="graph" src="images/stokes_surface_labeled.png">
        <p class="nbm">
          We can parameterize the curve \(C_1\) with the function \(\mathbf{r}(t) = (t, 0, 0)\) for \(-1 \le t \le 1\). Therefore, \(\mathbf{r}'(t) = (1, 0, 0)\), and we can use this to evaluate the line integral over \(C_1\):
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_{C_1} \mathbf{F} \cdot \dd{\mathbf{s}} &= \int_{-1}^1 (y, z, x) \cdot \mathbf{r}'(t) \dd{t}\\
          &= \int_{-1}^1 (y, z, x) \cdot (1, 0, 0) \dd{t}\\
          &= \int_{-1}^1 y \dd{t}\\
          &= \int_{-1}^1 0 \dd{t}\\
          &= 0
          \end{flalign}\]
        </div>
        <p class="nm">
          We can parameterize \(C_2\) with \(\mathbf{r}(t) = (1, t, t^2)\) for \(0 \le t \le 2\). Therefore, \(\mathbf{r}'(t) = (0, 1, 2t)\).
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_{C_2} \mathbf{F} \cdot \dd{\mathbf{s}} &= \int_0^2 (y, z, x) \cdot \mathbf{r}'(t) \dd{t}
          \int_0^2 (y, z, x) \cdot (0, 1, 2t) \dd{t}\\
          &= \int_0^2 (z + 2tx) \dd{t}\\
          &= \int_0^2 (t^2 + 2t) \dd{t}\\
          &= \left(\frac{t^3}{3} + t^2\right)\bigg|_0^2\\
          &= \frac{8}{3} + 4\\
          &= \frac{20}{3}
          \end{flalign}\]
        </div>
        <p class="nm">
          We can parameterize \(C_3\) with \(\mathbf{r}(t) = (t, 2, 4)\) for \(-1 \le t \le 1\). However, notice that as we travel along the curve in the direction it’s oriented in, the \(x\)-coordinate is decreasing, so \(t\) will actually decrease from 1 to -1. We can represent this by having the lower bound of the integral be 1 and the upper bound be -1.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_{C_3} \mathbf{F} \cdot \dd{\mathbf{s}} &= \int_1^{-1} (y, z, x) \cdot (1, 0, 0) \dd{t}\\
          &= \int_1^{-1} y \dd{t}\\
          &= \int_1^{-1} 2 \dd{t}\\
          &= -4
          \end{flalign}\]
        </div>
        <p class="nm">
          We can parameterize \(C_2\) with \(\mathbf{r}(t) = (-1, t, t^2)\) for \(0 \le t \le 2\). However, just like with \(C_3\), to match the orientation of the curve, we need \(t\) to decrease from 2 to 0, so the lower bound of the integral needs to be 2 and the upper bound needs to be 0.
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \int_{C_4} \mathbf{F} \cdot \dd{\mathbf{s}} &= \int_2^0 (y, z, x) \cdot (0, 1, 2t) \dd{t}\\
          &= \int_2^0 (z-2tx) \dd{t}\\
          &= \int_2^0 (t^2-2t) \dd{t}\\
          &= \left(\frac{t^3}{3} - t^2\right)\bigg|_2^0\\
          &= \frac{4}{3}
          \end{flalign}\]
        </div>
        <p class="nm">
          We can find the overall line integral \(\oint_C \mathbf{F} \cdot \dd{\mathbf{s}}\) by adding these four line integrals:
        </p>
        <div class="mj">
          \[ \begin{flalign}
          \oint_C \mathbf{F} \cdot \dd{\mathbf{s}} &= \int_{C_1} \mathbf{F} \cdot \dd{\mathbf{s}} + \int_{C_2} \mathbf{F} \cdot \dd{\mathbf{s}} + \int_{C_3} \mathbf{F} \cdot \dd{\mathbf{s}} + \int_{C_4} \mathbf{F} \cdot \dd{\mathbf{s}}\\
          &= 0 + \frac{20}{3} - 4 + \frac{4}{3}\\
          &= 4
          \end{flalign}\]
        </div>
        <p class="ntm">
          This result is the same as the result we got by using Stokes’ theorem!
        </p>
      </div>
    </div>
  </div>
  <hr class="heavy-hr">
  <!-- Guest Explanations -->
  <div class="unit" id="guestExplanationsUnit">
    <h2 id="guestExplanationsHeader">
      <span onclick="showHideUnit('guestExplanations')">Guest Explanations</span>
      <button id="guestExplanationsButton" onclick="showHideUnit('guestExplanations')">Show</button>
    </h2>
    <div class="hidden-by-default" id="guestExplanations">
      <div>
        <button class="large-button" onclick="toggleAllSections('guestExplanations', 'show')">Show All Sections</button>
        <div class="button-spacing"></div>
        <button class="large-button" onclick="toggleAllSections('guestExplanations', 'hide')">Hide All Sections</button>
      </div>
      <p>
        These are explanations written by people other than me, typically my friends. <span class="sn">(Note: These explanations might involve concepts or terminology not yet covered on this website.)</span>
      </p>
      <h3 class="section-header" id="guestGreenHeader">
        Green’s Theorem <button id="guestGreenButton" onclick="showHide('guestGreen')">Show</button>
      </h3>
      <div class="hidden-by-default" id="guestGreen">
        <p class="sn">
          Explanation written by Sami Khan
        </p>
        <p class="bold large-text">
          Formal definition of Green’s Theorem
        </p>
        <p class="nbm">
          Green’s Theorem states that the line integral of the vector field \(F\) over the boundary of your region \(D\) is equivalent to the double integral of the curl of the vector field \(F\) over the region \(D\). Green’s Theorem is the 2D incarnation of the Generalized Stokes Theorem.
        </p>
        <div class="mj">
          \[ \oint_{\partial D}\mathbf{F} \cdot \dd{\mathbf{s}} = \iint_D (\nabla \times \mathbf{F})\cdot \dd{\mathbf{a}} \]
        </div>
        <p class="ntm bold large-text">
          Intuitive explanation of Green’s Theorem
        </p>
        <p>
          Essentially what Green’s theorem is doing is displaying that the combination of local data is equivalent to the global phenomenon. The curl of the vector field \(F\) is local meaning it is dependent on the location of the point in \(F\). Essentially what the double integral is doing is just combining the curl over the region \(D\) and saying that it is equal to the line integral of the vector field over the boundary curve of the region.
        </p>
      </div>
      <h3 class="section-header" id="guestStokesHeader">
        Stokes’ Theorem <button id="guestStokesButton" onclick="showHide('guestStokes')">Show</button>
      </h3>
      <div class="hidden-by-default" id="guestStokes">
        <p class="sn">
          Explanation written by Sami Khan
        </p>
        <p class="bold large-text">
          Formal definition of Stokes’ Theorem
        </p>
        <p class="nbm">
          Stokes’ Theorem is another incarnation of generalized stokes theorem. Stokes’ Theorem exists in 3D space. Stokes’ Theorem relates a line integral to a surface integral stating that the line integral of the vector field \(F\) dotted with the parameterized function of the closed boundary curve \(C\) over said curve is equivalent to the surface integral (a double integral over a 3D surface) of the curl of \(F\) over the surface \(S\). One important thing to know is that \(S\) can be any surface with the boundary curve \(C\).
        </p>
        <div class="mj">
          \[ \iint_\Sigma (\nabla \times \mathbf{F})\cdot \dd{\mathbf{\Sigma}} = \oint_{\partial \Sigma}\mathbf{F} \cdot \dd{\mathbf{\Gamma}} \]
        </div>
        <p class="ntm bold large-text">
          Intuitive explanation of Stokes’ Theorem
        </p>
        <p>
          Visualize a surface \(S\) in some vector field \(F\). Each point on \(S\) has some curl associated with it. Now think about any point \(P\) within the surface but not on the boundary. This point \(P\) has its own curl and is surrounded by points which have similar curl. Now these curls end up cancelling out everywhere except the boundary curve of the surface. Because of this the surface integral of the curl of \(F\) over \(S\) is equivalent to the line integral of \(F\) over the boundary curve.
        </p>
      </div>
      <h3 class="section-header" id="guestGeneralStokesHeader">
        Generalized Stokes’ Theorem <button id="guestGeneralStokesButton" onclick="showHide('guestGeneralStokes')">Show</button>
      </h3>
      <div class="hidden-by-default" id="guestGeneralStokes">
        <p class="sn">
          Explanation written by Sami Khan
        </p>
        <p class="sn">
          (Note: Generalized Stokes’ Theorem is considered beyond the scope of multivariable calculus.)
        </p>
        <p class="bold large-text">
          Formal definition of Generalized Stokes’ Theorem
        </p>
        <p class="nbm">
          Generalized Stokes’ Theorem is generalized for \(n\) dimensions. The generalized form of this theorem states that the integral of some differential form over the boundary of your manifold is equivalent to the integral of the differential forms exterior derivative over the entirety of the manifold.
        </p>
        <div class="mj">
          \[ \int_{\partial \Omega} \omega = \int_{\Omega} \dd{\omega} \]
        </div>
        <p class="ntm bold large-text">
          Intuitive explanation of Stokes’ Theorem
        </p>
        <p>
          Imagine an \(n\)-dimensional infinitesimal parallelotope composed of \(n\) vectors. Now this parallelotope has some average flux. Now imagine you compose your manifold of an infinite amount of these parallelepipeds composing your manifold. Essentially the combination of these average fluxes (via integration) of all the parallelepipeds within the manifold cancel out leaving us with the overall flux on the boundary of the manifold.
        </p>
      </div>
    </div>
  </div>
  <hr class="heavy-hr">
  <h2 id="otherWebsitesHeader">
    <span onclick="showHide('otherWebsites')">My Other Websites! (<a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com">calculusgaming.com</a>)</span>
    <button id="otherWebsitesButton" onclick="showHide('otherWebsites')">Show</button>
  </h2>
  <div id="otherWebsites" class="hidden-by-default">
    <p>
      I have other educational websites like this one available at <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com">https://calculusgaming.com</a>!
    </p>
    <p>
      If you need to review single-variable calculus, <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/calc">unnamed calc website</a> is my page for that.
    </p>
  </div>
  <hr class="heavy-hr">
  <!-- Credits / Special Thanks -->
  <h2 id="creditsHeader">
    <span onclick="showHide('credits')">Credits / Special Thanks</span>
    <button id="creditsButton" onclick="showHide('credits')">Hide</button>
  </h2>
  <div id="credits">
    <p>
      All code, diagrams, and explanations (except those in the “Guest Explanations” section) were created by Eldrick Chen (also known as “calculus gaming”). This page is open-source - <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://github.com/chaddypioneers/unnamed-multivar-website">view the GitHub repository here.</a>
    </p>
    <p class="bold">
      Feel free to modify this website in any way! If you have ideas for how to improve this website, feel free to make those changes and publish them yourself, as long as you follow the terms of the GNU General Public License v3.0 (scroll down to view this license).
    </p>
    <p>
      👋 Hello! I’m Eldrick, and I originally started making calculus websites as a passion project to help people at my school.
    </p>
    <p>
      Despite being (mostly) the only one to directly work on this project, it wouldn’t have been possible if it wasn’t for the work of many others. Here are some people and organizations I want to credit for allowing me to build this website in the first place.
    </p>
    <h3>Tools used to create this page</h3>
    <ul>
      <li>
        Tools used to create the images and animations on this page:
        <ul class="link-ul">
          <li><a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.desmos.com/calculator">Desmos Graphing Calculator</a> for 2D graphs</li>
          <li><a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.desmos.com/3d">Desmos 3D Graphing Calculator</a> for 3D graphs</li>
          <li><a class="external-link" target="_blank" rel="noopener noreferrer" href="https://docs.google.com/drawings/">Google Drawings</a> for extra annotations, other types of diagrams, and sidebar icons</li>
          <li><a class="external-link" target="_blank" rel="noopener noreferrer" href="https://imgonline.tools/remove-color">imgonline.tools</a> to make the website logo transparent</li>
        </ul>
      </li>
      <li>
        JavaScript libraries used to make this website do cool things (these are all licensed under <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>):
      </li>
      <ul class="link-ul">
        <li>
          <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.mathjax.org/">MathJax</a> to display mathematical formulas and expressions
        </li>
        <li>
          <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://mathjs.org/">Math.js</a> for additional math functions</a>
        </li>
      </ul>
    </ul>
    <h3>Fonts used on this page</h3>
    <ul>
      <li>
        The font used for this page is <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.fontsquirrel.com/fonts/monospacetypewriter">Monospace Typewriter</a>, was created by Manfred Klein.
      </li>
      <li>
        The font used in some of my diagrams is <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://fonts.google.com/specimen/Open+Sans">Open Sans</a>.
      </li>
    </ul>
    <h3>Special thanks</h3>
    <ul>
      <li>
        <span class="bold">Resources that I used to learn calculus:</span> Huge thanks to <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.khanacademy.org">Khan Academy</a> and <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://tutorial.math.lamar.edu/">Paul’s Online Notes</a> for providing multivariable calculus lessons for free, allowing me to create this website in the first place!
      </li>
      <li>
        Thanks to the creators of the <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Fast_inverse_square_root">Fast Inverse Square Root</a> algorithm. I was inspired to create calculus websites after creating <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://calculusgaming.com/fisr/">a page explaining this algorithm</a>. Researching this algorithm ignited my passion for calculus and inspired me to create calculus websites!
        <ul>
          <li>
            Thanks to YouTuber <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@Nemean/videos">Nemean</a> for introducing me to the Fast Inverse Square Root algorithm with his <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://youtu.be/p8u_k2LIZyo">amazing video on the subject</a>.
          </li>
        </ul>
      </li>
      <li>
        Thanks to Hevipelle and many others for creating the awesome game <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://ivark.github.io/AntimatterDimensions/">Antimatter Dimensions</a>. This game inspired me to use this font for this website and also inspired the idea of naming each update in the <a href="#updateHistoryHeader" onclick="showElement('updateHistory')">update notes</a> with a word or phrase rather than with a version number. Both of these things are done in Antimatter Dimensions and I’ve decided to do them on my website too!
      </li>
    </ul>
    <h3>Legal information</h3>
    <ul>
      <li><a class="external-link" target="_blank" rel="noopener noreferrer" href="https://www.fontsquirrel.com/license/MonospaceTypewriter">View Monospace Typewriter (this font)’s license here.</a></li>
      <li>Open Sans is licensed under the <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL">Open Font License</a>. <a class="external-link" target="_blank" rel="noopener noreferrer" href="https://fonts.google.com/specimen/Open+Sans/about">License details on Google Fonts</a></li>
      <li>Math.js copyright notice:
        <ul>
          <li>
            <div class="overflow">
              <pre>
math.js
https://github.com/josdejong/mathjs

Copyright (C) 2013-2023 Jos de Jong &lt;wjosdejong@gmail.com&gt;

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
              </pre>
            </div>
          </li>
        </ul>
      </li>
      <li>
        Copyright notice for this website:
        <ul>
          <li>Copyright © 2025 Eldrick Chen</li>
          <li>This page is licensed under the GNU General Public License v3.0. Details:
            <ul>
              <li>
                <div class="overflow">
                  <pre>
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
                  </pre>
                </div>
                <button onclick="showHide('license')" id="licenseButton" class="large-button">Show License</button>
                <div id="license" class="hidden-by-default overflow">
                  <pre>
          GNU GENERAL PUBLIC LICENSE
              Version 3, 29 June 2007

Copyright (C) 2007 Free Software Foundation, Inc. &lt;https://fsf.org/&gt;
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
                  Preamble

The GNU General Public License is a free, copyleft license for
software and other kinds of works.

The licenses for most software and other practical works are designed
to take away your freedom to share and change the works.  By contrast,
the GNU General Public License is intended to guarantee your freedom to
share and change all versions of a program--to make sure it remains free
software for all its users.  We, the Free Software Foundation, use the
GNU General Public License for most of our software; it applies also to
any other work released this way by its authors.  You can apply it to
your programs, too.

When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
them if you wish), that you receive source code or can get it if you
want it, that you can change the software or use pieces of it in new
free programs, and that you know you can do these things.

To protect your rights, we need to prevent others from denying you
these rights or asking you to surrender the rights.  Therefore, you have
certain responsibilities if you distribute copies of the software, or if
you modify it: responsibilities to respect the freedom of others.

For example, if you distribute copies of such a program, whether
gratis or for a fee, you must pass on to the recipients the same
freedoms that you received.  You must make sure that they, too, receive
or can get the source code.  And you must show them these terms so they
know their rights.

Developers that use the GNU GPL protect your rights with two steps:
(1) assert copyright on the software, and (2) offer you this License
giving you legal permission to copy, distribute and/or modify it.

For the developers' and authors' protection, the GPL clearly explains
that there is no warranty for this free software.  For both users' and
authors' sake, the GPL requires that modified versions be marked as
changed, so that their problems will not be attributed erroneously to
authors of previous versions.

Some devices are designed to deny users access to install or run
modified versions of the software inside them, although the manufacturer
can do so.  This is fundamentally incompatible with the aim of
protecting users' freedom to change the software.  The systematic
pattern of such abuse occurs in the area of products for individuals to
use, which is precisely where it is most unacceptable.  Therefore, we
have designed this version of the GPL to prohibit the practice for those
products.  If such problems arise substantially in other domains, we
stand ready to extend this provision to those domains in future versions
of the GPL, as needed to protect the freedom of users.

Finally, every program is threatened constantly by software patents.
States should not allow patents to restrict development and use of
software on general-purpose computers, but in those that do, we wish to
avoid the special danger that patents applied to a free program could
make it effectively proprietary.  To prevent this, the GPL assures that
patents cannot be used to render the program non-free.

The precise terms and conditions for copying, distribution and
modification follow.
              TERMS AND CONDITIONS

0. Definitions.

"This License" refers to version 3 of the GNU General Public License.

"Copyright" also means copyright-like laws that apply to other kinds of
works, such as semiconductor masks.

"The Program" refers to any copyrightable work licensed under this
License.  Each licensee is addressed as "you".  "Licensees" and
"recipients" may be individuals or organizations.

To "modify" a work means to copy from or adapt all or part of the work
in a fashion requiring copyright permission, other than the making of an
exact copy.  The resulting work is called a "modified version" of the
earlier work or a work "based on" the earlier work.

A "covered work" means either the unmodified Program or a work based
on the Program.

To "propagate" a work means to do anything with it that, without
permission, would make you directly or secondarily liable for
infringement under applicable copyright law, except executing it on a
computer or modifying a private copy.  Propagation includes copying,
distribution (with or without modification), making available to the
public, and in some countries other activities as well.

To "convey" a work means any kind of propagation that enables other
parties to make or receive copies.  Mere interaction with a user through
a computer network, with no transfer of a copy, is not conveying.

An interactive user interface displays "Appropriate Legal Notices"
to the extent that it includes a convenient and prominently visible
feature that (1) displays an appropriate copyright notice, and (2)
tells the user that there is no warranty for the work (except to the
extent that warranties are provided), that licensees may convey the
work under this License, and how to view a copy of this License.  If
the interface presents a list of user commands or options, such as a
menu, a prominent item in the list meets this criterion.

1. Source Code.

The "source code" for a work means the preferred form of the work
for making modifications to it.  "Object code" means any non-source
form of a work.

A "Standard Interface" means an interface that either is an official
standard defined by a recognized standards body, or, in the case of
interfaces specified for a particular programming language, one that
is widely used among developers working in that language.

The "System Libraries" of an executable work include anything, other
than the work as a whole, that (a) is included in the normal form of
packaging a Major Component, but which is not part of that Major
Component, and (b) serves only to enable use of the work with that
Major Component, or to implement a Standard Interface for which an
implementation is available to the public in source code form.  A
"Major Component", in this context, means a major essential component
(kernel, window system, and so on) of the specific operating system
(if any) on which the executable work runs, or a compiler used to
produce the work, or an object code interpreter used to run it.

The "Corresponding Source" for a work in object code form means all
the source code needed to generate, install, and (for an executable
work) run the object code and to modify the work, including scripts to
control those activities.  However, it does not include the work's
System Libraries, or general-purpose tools or generally available free
programs which are used unmodified in performing those activities but
which are not part of the work.  For example, Corresponding Source
includes interface definition files associated with source files for
the work, and the source code for shared libraries and dynamically
linked subprograms that the work is specifically designed to require,
such as by intimate data communication or control flow between those
subprograms and other parts of the work.

The Corresponding Source need not include anything that users
can regenerate automatically from other parts of the Corresponding
Source.

The Corresponding Source for a work in source code form is that
same work.

2. Basic Permissions.

All rights granted under this License are granted for the term of
copyright on the Program, and are irrevocable provided the stated
conditions are met.  This License explicitly affirms your unlimited
permission to run the unmodified Program.  The output from running a
covered work is covered by this License only if the output, given its
content, constitutes a covered work.  This License acknowledges your
rights of fair use or other equivalent, as provided by copyright law.

You may make, run and propagate covered works that you do not
convey, without conditions so long as your license otherwise remains
in force.  You may convey covered works to others for the sole purpose
of having them make modifications exclusively for you, or provide you
with facilities for running those works, provided that you comply with
the terms of this License in conveying all material for which you do
not control copyright.  Those thus making or running the covered works
for you must do so exclusively on your behalf, under your direction
and control, on terms that prohibit them from making any copies of
your copyrighted material outside their relationship with you.

Conveying under any other circumstances is permitted solely under
the conditions stated below.  Sublicensing is not allowed; section 10
makes it unnecessary.

3. Protecting Users' Legal Rights From Anti-Circumvention Law.

No covered work shall be deemed part of an effective technological
measure under any applicable law fulfilling obligations under article
11 of the WIPO copyright treaty adopted on 20 December 1996, or
similar laws prohibiting or restricting circumvention of such
measures.

When you convey a covered work, you waive any legal power to forbid
circumvention of technological measures to the extent such circumvention
is effected by exercising rights under this License with respect to
the covered work, and you disclaim any intention to limit operation or
modification of the work as a means of enforcing, against the work's
users, your or third parties' legal rights to forbid circumvention of
technological measures.

4. Conveying Verbatim Copies.

You may convey verbatim copies of the Program's source code as you
receive it, in any medium, provided that you conspicuously and
appropriately publish on each copy an appropriate copyright notice;
keep intact all notices stating that this License and any
non-permissive terms added in accord with section 7 apply to the code;
keep intact all notices of the absence of any warranty; and give all
recipients a copy of this License along with the Program.

You may charge any price or no price for each copy that you convey,
and you may offer support or warranty protection for a fee.

5. Conveying Modified Source Versions.

You may convey a work based on the Program, or the modifications to
produce it from the Program, in the form of source code under the
terms of section 4, provided that you also meet all of these conditions:

  a) The work must carry prominent notices stating that you modified
  it, and giving a relevant date.

  b) The work must carry prominent notices stating that it is
  released under this License and any conditions added under section
  7.  This requirement modifies the requirement in section 4 to
  "keep intact all notices".

  c) You must license the entire work, as a whole, under this
  License to anyone who comes into possession of a copy.  This
  License will therefore apply, along with any applicable section 7
  additional terms, to the whole of the work, and all its parts,
  regardless of how they are packaged.  This License gives no
  permission to license the work in any other way, but it does not
  invalidate such permission if you have separately received it.

  d) If the work has interactive user interfaces, each must display
  Appropriate Legal Notices; however, if the Program has interactive
  interfaces that do not display Appropriate Legal Notices, your
  work need not make them do so.

A compilation of a covered work with other separate and independent
works, which are not by their nature extensions of the covered work,
and which are not combined with it such as to form a larger program,
in or on a volume of a storage or distribution medium, is called an
"aggregate" if the compilation and its resulting copyright are not
used to limit the access or legal rights of the compilation's users
beyond what the individual works permit.  Inclusion of a covered work
in an aggregate does not cause this License to apply to the other
parts of the aggregate.

6. Conveying Non-Source Forms.

You may convey a covered work in object code form under the terms
of sections 4 and 5, provided that you also convey the
machine-readable Corresponding Source under the terms of this License,
in one of these ways:

  a) Convey the object code in, or embodied in, a physical product
  (including a physical distribution medium), accompanied by the
  Corresponding Source fixed on a durable physical medium
  customarily used for software interchange.

  b) Convey the object code in, or embodied in, a physical product
  (including a physical distribution medium), accompanied by a
  written offer, valid for at least three years and valid for as
  long as you offer spare parts or customer support for that product
  model, to give anyone who possesses the object code either (1) a
  copy of the Corresponding Source for all the software in the
  product that is covered by this License, on a durable physical
  medium customarily used for software interchange, for a price no
  more than your reasonable cost of physically performing this
  conveying of source, or (2) access to copy the
  Corresponding Source from a network server at no charge.

  c) Convey individual copies of the object code with a copy of the
  written offer to provide the Corresponding Source.  This
  alternative is allowed only occasionally and noncommercially, and
  only if you received the object code with such an offer, in accord
  with subsection 6b.

  d) Convey the object code by offering access from a designated
  place (gratis or for a charge), and offer equivalent access to the
  Corresponding Source in the same way through the same place at no
  further charge.  You need not require recipients to copy the
  Corresponding Source along with the object code.  If the place to
  copy the object code is a network server, the Corresponding Source
  may be on a different server (operated by you or a third party)
  that supports equivalent copying facilities, provided you maintain
  clear directions next to the object code saying where to find the
  Corresponding Source.  Regardless of what server hosts the
  Corresponding Source, you remain obligated to ensure that it is
  available for as long as needed to satisfy these requirements.

  e) Convey the object code using peer-to-peer transmission, provided
  you inform other peers where the object code and Corresponding
  Source of the work are being offered to the general public at no
  charge under subsection 6d.

A separable portion of the object code, whose source code is excluded
from the Corresponding Source as a System Library, need not be
included in conveying the object code work.

A "User Product" is either (1) a "consumer product", which means any
tangible personal property which is normally used for personal, family,
or household purposes, or (2) anything designed or sold for incorporation
into a dwelling.  In determining whether a product is a consumer product,
doubtful cases shall be resolved in favor of coverage.  For a particular
product received by a particular user, "normally used" refers to a
typical or common use of that class of product, regardless of the status
of the particular user or of the way in which the particular user
actually uses, or expects or is expected to use, the product.  A product
is a consumer product regardless of whether the product has substantial
commercial, industrial or non-consumer uses, unless such uses represent
the only significant mode of use of the product.

"Installation Information" for a User Product means any methods,
procedures, authorization keys, or other information required to install
and execute modified versions of a covered work in that User Product from
a modified version of its Corresponding Source.  The information must
suffice to ensure that the continued functioning of the modified object
code is in no case prevented or interfered with solely because
modification has been made.

If you convey an object code work under this section in, or with, or
specifically for use in, a User Product, and the conveying occurs as
part of a transaction in which the right of possession and use of the
User Product is transferred to the recipient in perpetuity or for a
fixed term (regardless of how the transaction is characterized), the
Corresponding Source conveyed under this section must be accompanied
by the Installation Information.  But this requirement does not apply
if neither you nor any third party retains the ability to install
modified object code on the User Product (for example, the work has
been installed in ROM).

The requirement to provide Installation Information does not include a
requirement to continue to provide support service, warranty, or updates
for a work that has been modified or installed by the recipient, or for
the User Product in which it has been modified or installed.  Access to a
network may be denied when the modification itself materially and
adversely affects the operation of the network or violates the rules and
protocols for communication across the network.

Corresponding Source conveyed, and Installation Information provided,
in accord with this section must be in a format that is publicly
documented (and with an implementation available to the public in
source code form), and must require no special password or key for
unpacking, reading or copying.

7. Additional Terms.

"Additional permissions" are terms that supplement the terms of this
License by making exceptions from one or more of its conditions.
Additional permissions that are applicable to the entire Program shall
be treated as though they were included in this License, to the extent
that they are valid under applicable law.  If additional permissions
apply only to part of the Program, that part may be used separately
under those permissions, but the entire Program remains governed by
this License without regard to the additional permissions.

When you convey a copy of a covered work, you may at your option
remove any additional permissions from that copy, or from any part of
it.  (Additional permissions may be written to require their own
removal in certain cases when you modify the work.)  You may place
additional permissions on material, added by you to a covered work,
for which you have or can give appropriate copyright permission.

Notwithstanding any other provision of this License, for material you
add to a covered work, you may (if authorized by the copyright holders of
that material) supplement the terms of this License with terms:

  a) Disclaiming warranty or limiting liability differently from the
  terms of sections 15 and 16 of this License; or

  b) Requiring preservation of specified reasonable legal notices or
  author attributions in that material or in the Appropriate Legal
  Notices displayed by works containing it; or

  c) Prohibiting misrepresentation of the origin of that material, or
  requiring that modified versions of such material be marked in
  reasonable ways as different from the original version; or

  d) Limiting the use for publicity purposes of names of licensors or
  authors of the material; or

  e) Declining to grant rights under trademark law for use of some
  trade names, trademarks, or service marks; or

  f) Requiring indemnification of licensors and authors of that
  material by anyone who conveys the material (or modified versions of
  it) with contractual assumptions of liability to the recipient, for
  any liability that these contractual assumptions directly impose on
  those licensors and authors.

All other non-permissive additional terms are considered "further
restrictions" within the meaning of section 10.  If the Program as you
received it, or any part of it, contains a notice stating that it is
governed by this License along with a term that is a further
restriction, you may remove that term.  If a license document contains
a further restriction but permits relicensing or conveying under this
License, you may add to a covered work material governed by the terms
of that license document, provided that the further restriction does
not survive such relicensing or conveying.

If you add terms to a covered work in accord with this section, you
must place, in the relevant source files, a statement of the
additional terms that apply to those files, or a notice indicating
where to find the applicable terms.

Additional terms, permissive or non-permissive, may be stated in the
form of a separately written license, or stated as exceptions;
the above requirements apply either way.

8. Termination.

You may not propagate or modify a covered work except as expressly
provided under this License.  Any attempt otherwise to propagate or
modify it is void, and will automatically terminate your rights under
this License (including any patent licenses granted under the third
paragraph of section 11).

However, if you cease all violation of this License, then your
license from a particular copyright holder is reinstated (a)
provisionally, unless and until the copyright holder explicitly and
finally terminates your license, and (b) permanently, if the copyright
holder fails to notify you of the violation by some reasonable means
prior to 60 days after the cessation.

Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, you do not qualify to receive new licenses for the same
material under section 10.

9. Acceptance Not Required for Having Copies.

You are not required to accept this License in order to receive or
run a copy of the Program.  Ancillary propagation of a covered work
occurring solely as a consequence of using peer-to-peer transmission
to receive a copy likewise does not require acceptance.  However,
nothing other than this License grants you permission to propagate or
modify any covered work.  These actions infringe copyright if you do
not accept this License.  Therefore, by modifying or propagating a
covered work, you indicate your acceptance of this License to do so.

10. Automatic Licensing of Downstream Recipients.

Each time you convey a covered work, the recipient automatically
receives a license from the original licensors, to run, modify and
propagate that work, subject to this License.  You are not responsible
for enforcing compliance by third parties with this License.

An "entity transaction" is a transaction transferring control of an
organization, or substantially all assets of one, or subdividing an
organization, or merging organizations.  If propagation of a covered
work results from an entity transaction, each party to that
transaction who receives a copy of the work also receives whatever
licenses to the work the party's predecessor in interest had or could
give under the previous paragraph, plus a right to possession of the
Corresponding Source of the work from the predecessor in interest, if
the predecessor has it or can get it with reasonable efforts.

You may not impose any further restrictions on the exercise of the
rights granted or affirmed under this License.  For example, you may
not impose a license fee, royalty, or other charge for exercise of
rights granted under this License, and you may not initiate litigation
(including a cross-claim or counterclaim in a lawsuit) alleging that
any patent claim is infringed by making, using, selling, offering for
sale, or importing the Program or any portion of it.

11. Patents.

A "contributor" is a copyright holder who authorizes use under this
License of the Program or a work on which the Program is based.  The
work thus licensed is called the contributor's "contributor version".

A contributor's "essential patent claims" are all patent claims
owned or controlled by the contributor, whether already acquired or
hereafter acquired, that would be infringed by some manner, permitted
by this License, of making, using, or selling its contributor version,
but do not include claims that would be infringed only as a
consequence of further modification of the contributor version.  For
purposes of this definition, "control" includes the right to grant
patent sublicenses in a manner consistent with the requirements of
this License.

Each contributor grants you a non-exclusive, worldwide, royalty-free
patent license under the contributor's essential patent claims, to
make, use, sell, offer for sale, import and otherwise run, modify and
propagate the contents of its contributor version.

In the following three paragraphs, a "patent license" is any express
agreement or commitment, however denominated, not to enforce a patent
(such as an express permission to practice a patent or covenant not to
sue for patent infringement).  To "grant" such a patent license to a
party means to make such an agreement or commitment not to enforce a
patent against the party.

If you convey a covered work, knowingly relying on a patent license,
and the Corresponding Source of the work is not available for anyone
to copy, free of charge and under the terms of this License, through a
publicly available network server or other readily accessible means,
then you must either (1) cause the Corresponding Source to be so
available, or (2) arrange to deprive yourself of the benefit of the
patent license for this particular work, or (3) arrange, in a manner
consistent with the requirements of this License, to extend the patent
license to downstream recipients.  "Knowingly relying" means you have
actual knowledge that, but for the patent license, your conveying the
covered work in a country, or your recipient's use of the covered work
in a country, would infringe one or more identifiable patents in that
country that you have reason to believe are valid.

If, pursuant to or in connection with a single transaction or
arrangement, you convey, or propagate by procuring conveyance of, a
covered work, and grant a patent license to some of the parties
receiving the covered work authorizing them to use, propagate, modify
or convey a specific copy of the covered work, then the patent license
you grant is automatically extended to all recipients of the covered
work and works based on it.

A patent license is "discriminatory" if it does not include within
the scope of its coverage, prohibits the exercise of, or is
conditioned on the non-exercise of one or more of the rights that are
specifically granted under this License.  You may not convey a covered
work if you are a party to an arrangement with a third party that is
in the business of distributing software, under which you make payment
to the third party based on the extent of your activity of conveying
the work, and under which the third party grants, to any of the
parties who would receive the covered work from you, a discriminatory
patent license (a) in connection with copies of the covered work
conveyed by you (or copies made from those copies), or (b) primarily
for and in connection with specific products or compilations that
contain the covered work, unless you entered into that arrangement,
or that patent license was granted, prior to 28 March 2007.

Nothing in this License shall be construed as excluding or limiting
any implied license or other defenses to infringement that may
otherwise be available to you under applicable patent law.

12. No Surrender of Others' Freedom.

If conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot convey a
covered work so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you may
not convey it at all.  For example, if you agree to terms that obligate you
to collect a royalty for further conveying from those to whom you convey
the Program, the only way you could satisfy both those terms and this
License would be to refrain entirely from conveying the Program.

13. Use with the GNU Affero General Public License.

Notwithstanding any other provision of this License, you have
permission to link or combine any covered work with a work licensed
under version 3 of the GNU Affero General Public License into a single
combined work, and to convey the resulting work.  The terms of this
License will continue to apply to the part which is the covered work,
but the special requirements of the GNU Affero General Public License,
section 13, concerning interaction through a network will apply to the
combination as such.

14. Revised Versions of this License.

The Free Software Foundation may publish revised and/or new versions of
the GNU General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.

Each version is given a distinguishing version number.  If the
Program specifies that a certain numbered version of the GNU General
Public License "or any later version" applies to it, you have the
option of following the terms and conditions either of that numbered
version or of any later version published by the Free Software
Foundation.  If the Program does not specify a version number of the
GNU General Public License, you may choose any version ever published
by the Free Software Foundation.

If the Program specifies that a proxy can decide which future
versions of the GNU General Public License can be used, that proxy's
public statement of acceptance of a version permanently authorizes you
to choose that version for the Program.

Later license versions may give you additional or different
permissions.  However, no additional obligations are imposed on any
author or copyright holder as a result of your choosing to follow a
later version.

15. Disclaimer of Warranty.

THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY
OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

16. Limitation of Liability.

IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
SUCH DAMAGES.

17. Interpretation of Sections 15 and 16.

If the disclaimer of warranty and limitation of liability provided
above cannot be given local legal effect according to their terms,
reviewing courts shall apply local law that most closely approximates
an absolute waiver of all civil liability in connection with the
Program, unless a warranty or assumption of liability accompanies a
copy of the Program in return for a fee.
            END OF TERMS AND CONDITIONS
  How to Apply These Terms to Your New Programs

If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.

To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
state the exclusion of warranty; and each file should have at least
the "copyright" line and a pointer to where the full notice is found.

  &lt;one line to give the program's name and a brief idea of what it does.&gt;
  Copyright (C) &lt;year&gt;  &lt;name of author&gt;

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.

Also add information on how to contact you by electronic and paper mail.

If the program does terminal interaction, make it output a short
notice like this when it starts in an interactive mode:

  &lt;program&gt;  Copyright (C) &lt;year&gt;  &lt;name of author&gt;
  This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
  This is free software, and you are welcome to redistribute it
  under certain conditions; type `show c' for details.

The hypothetical commands `show w' and `show c' should show the appropriate
parts of the General Public License.  Of course, your program's commands
might be different; for a GUI interface, you would use an "about box".

You should also get your employer (if you work as a programmer) or school,
if any, to sign a "copyright disclaimer" for the program, if necessary.
For more information on this, and how to apply and follow the GNU GPL, see
&lt;https://www.gnu.org/licenses/&gt;.

The GNU General Public License does not permit incorporating your program
        into proprietary programs.  If your program is a subroutine library, you
        may consider it more useful to permit linking proprietary applications with
        the library.  If this is what you want to do, use the GNU Lesser General
        Public License instead of this License.  But first, please read
        &lt;https://www.gnu.org/licenses/why-not-lgpl.html&gt;.
                  </pre>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <div id="footer" class="footer">
    <p id="loading" class="warning nm">
      Loading scripts (0/3)... Some features will not work properly until loading finishes.
    </p>
    <a href="#tocDiv" onclick="showElement('toc')">Table of Contents</a> | <a id="footerLink" href="#limitsUnit">Top of Unit 1</a>
  </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mathjs@12.2.1/lib/browser/math.min.js"></script>
  <script>
    function loadScript(url) {
      var script = document.createElement('script');
      script.src = url;
      document.getElementsByTagName('body')[0].appendChild(script);
    }
    document.getElementById('loading').innerText = 'Loading scripts (1/3)... Some features will not work properly until loading finishes.';
    setTimeout(() => loadScript('multivar.js?20250507'));
  </script>
</body>
</html>